function TI(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(t,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function UT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _g={exports:{}},Qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function SI(){if(gw)return Qc;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Qc.Fragment=e,Qc.jsx=n,Qc.jsxs=n,Qc}var yw;function AI(){return yw||(yw=1,_g.exports=SI()),_g.exports}var g=AI(),wg={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function RI(){if(vw)return je;vw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,k={};function M(F,L,X){this.props=F,this.context=L,this.refs=k,this.updater=X||R}M.prototype.isReactComponent={},M.prototype.setState=function(F,L){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,L,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function z(){}z.prototype=M.prototype;function V(F,L,X){this.props=F,this.context=L,this.refs=k,this.updater=X||R}var $=V.prototype=new z;$.constructor=V,I($,M.prototype),$.isPureReactComponent=!0;var K=Array.isArray;function Y(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function A(F,L,X){var le=X.ref;return{$$typeof:t,type:F,key:L,ref:le!==void 0?le:null,props:X}}function O(F,L){return A(F.type,L,F.props)}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function H(F){var L={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(X){return L[X]})}var U=/\/+/g;function ke(F,L){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):L.toString(36)}function Ve(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Y,Y):(F.status="pending",F.then(function(L){F.status==="pending"&&(F.status="fulfilled",F.value=L)},function(L){F.status==="pending"&&(F.status="rejected",F.reason=L)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function ee(F,L,X,le,_e){var Re=typeof F;(Re==="undefined"||Re==="boolean")&&(F=null);var ge=!1;if(F===null)ge=!0;else switch(Re){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(F.$$typeof){case t:case e:ge=!0;break;case v:return ge=F._init,ee(ge(F._payload),L,X,le,_e)}}if(ge)return _e=_e(F),ge=le===""?"."+ke(F,0):le,K(_e)?(X="",ge!=null&&(X=ge.replace(U,"$&/")+"/"),ee(_e,L,X,"",function(vt){return vt})):_e!=null&&(P(_e)&&(_e=O(_e,X+(_e.key==null||F&&F.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+ge)),L.push(_e)),1;ge=0;var Be=le===""?".":le+":";if(K(F))for(var Ue=0;Ue<F.length;Ue++)le=F[Ue],Re=Be+ke(le,Ue),ge+=ee(le,L,X,Re,_e);else if(Ue=T(F),typeof Ue=="function")for(F=Ue.call(F),Ue=0;!(le=F.next()).done;)le=le.value,Re=Be+ke(le,Ue++),ge+=ee(le,L,X,Re,_e);else if(Re==="object"){if(typeof F.then=="function")return ee(Ve(F),L,X,le,_e);throw L=String(F),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ge}function ue(F,L,X){if(F==null)return F;var le=[],_e=0;return ee(F,le,"","",function(Re){return L.call(X,Re,_e++)}),le}function re(F){if(F._status===-1){var L=F._result;L=L(),L.then(function(X){(F._status===0||F._status===-1)&&(F._status=1,F._result=X)},function(X){(F._status===0||F._status===-1)&&(F._status=2,F._result=X)}),F._status===-1&&(F._status=0,F._result=L)}if(F._status===1)return F._result.default;throw F._result}var Ee=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Ie={map:ue,forEach:function(F,L,X){ue(F,function(){L.apply(this,arguments)},X)},count:function(F){var L=0;return ue(F,function(){L++}),L},toArray:function(F){return ue(F,function(L){return L})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return je.Activity=b,je.Children=Ie,je.Component=M,je.Fragment=n,je.Profiler=a,je.PureComponent=V,je.StrictMode=s,je.Suspense=d,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,je.__COMPILER_RUNTIME={__proto__:null,c:function(F){return D.H.useMemoCache(F)}},je.cache=function(F){return function(){return F.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(F,L,X){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var le=I({},F.props),_e=F.key;if(L!=null)for(Re in L.key!==void 0&&(_e=""+L.key),L)!S.call(L,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&L.ref===void 0||(le[Re]=L[Re]);var Re=arguments.length-2;if(Re===1)le.children=X;else if(1<Re){for(var ge=Array(Re),Be=0;Be<Re;Be++)ge[Be]=arguments[Be+2];le.children=ge}return A(F.type,_e,le)},je.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},je.createElement=function(F,L,X){var le,_e={},Re=null;if(L!=null)for(le in L.key!==void 0&&(Re=""+L.key),L)S.call(L,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=L[le]);var ge=arguments.length-2;if(ge===1)_e.children=X;else if(1<ge){for(var Be=Array(ge),Ue=0;Ue<ge;Ue++)Be[Ue]=arguments[Ue+2];_e.children=Be}if(F&&F.defaultProps)for(le in ge=F.defaultProps,ge)_e[le]===void 0&&(_e[le]=ge[le]);return A(F,Re,_e)},je.createRef=function(){return{current:null}},je.forwardRef=function(F){return{$$typeof:h,render:F}},je.isValidElement=P,je.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:re}},je.memo=function(F,L){return{$$typeof:m,type:F,compare:L===void 0?null:L}},je.startTransition=function(F){var L=D.T,X={};D.T=X;try{var le=F(),_e=D.S;_e!==null&&_e(X,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Y,Ee)}catch(Re){Ee(Re)}finally{L!==null&&X.types!==null&&(L.types=X.types),D.T=L}},je.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},je.use=function(F){return D.H.use(F)},je.useActionState=function(F,L,X){return D.H.useActionState(F,L,X)},je.useCallback=function(F,L){return D.H.useCallback(F,L)},je.useContext=function(F){return D.H.useContext(F)},je.useDebugValue=function(){},je.useDeferredValue=function(F,L){return D.H.useDeferredValue(F,L)},je.useEffect=function(F,L){return D.H.useEffect(F,L)},je.useEffectEvent=function(F){return D.H.useEffectEvent(F)},je.useId=function(){return D.H.useId()},je.useImperativeHandle=function(F,L,X){return D.H.useImperativeHandle(F,L,X)},je.useInsertionEffect=function(F,L){return D.H.useInsertionEffect(F,L)},je.useLayoutEffect=function(F,L){return D.H.useLayoutEffect(F,L)},je.useMemo=function(F,L){return D.H.useMemo(F,L)},je.useOptimistic=function(F,L){return D.H.useOptimistic(F,L)},je.useReducer=function(F,L,X){return D.H.useReducer(F,L,X)},je.useRef=function(F){return D.H.useRef(F)},je.useState=function(F){return D.H.useState(F)},je.useSyncExternalStore=function(F,L,X){return D.H.useSyncExternalStore(F,L,X)},je.useTransition=function(){return D.H.useTransition()},je.version="19.2.4",je}var bw;function u0(){return bw||(bw=1,wg.exports=RI()),wg.exports}var N=u0();const zT=UT(N),CI=TI({__proto__:null,default:zT},[N]);var Eg={exports:{}},Wc={},Tg={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function NI(){return xw||(xw=1,(function(t){function e(ee,ue){var re=ee.length;ee.push(ue);e:for(;0<re;){var Ee=re-1>>>1,Ie=ee[Ee];if(0<a(Ie,ue))ee[Ee]=ue,ee[re]=Ie,re=Ee;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ue=ee[0],re=ee.pop();if(re!==ue){ee[0]=re;e:for(var Ee=0,Ie=ee.length,F=Ie>>>1;Ee<F;){var L=2*(Ee+1)-1,X=ee[L],le=L+1,_e=ee[le];if(0>a(X,re))le<Ie&&0>a(_e,X)?(ee[Ee]=_e,ee[le]=re,Ee=le):(ee[Ee]=X,ee[L]=re,Ee=L);else if(le<Ie&&0>a(_e,re))ee[Ee]=_e,ee[le]=re,Ee=le;else break e}}return ue}function a(ee,ue){var re=ee.sortIndex-ue.sortIndex;return re!==0?re:ee.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],m=[],v=1,b=null,x=3,T=!1,R=!1,I=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(ee){for(var ue=n(m);ue!==null;){if(ue.callback===null)s(m);else if(ue.startTime<=ee)s(m),ue.sortIndex=ue.expirationTime,e(d,ue);else break;ue=n(m)}}function K(ee){if(I=!1,$(ee),!R)if(n(d)!==null)R=!0,Y||(Y=!0,H());else{var ue=n(m);ue!==null&&Ve(K,ue.startTime-ee)}}var Y=!1,D=-1,S=5,A=-1;function O(){return k?!0:!(t.unstable_now()-A<S)}function P(){if(k=!1,Y){var ee=t.unstable_now();A=ee;var ue=!0;try{e:{R=!1,I&&(I=!1,z(D),D=-1),T=!0;var re=x;try{t:{for($(ee),b=n(d);b!==null&&!(b.expirationTime>ee&&O());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,x=b.priorityLevel;var Ie=Ee(b.expirationTime<=ee);if(ee=t.unstable_now(),typeof Ie=="function"){b.callback=Ie,$(ee),ue=!0;break t}b===n(d)&&s(d),$(ee)}else s(d);b=n(d)}if(b!==null)ue=!0;else{var F=n(m);F!==null&&Ve(K,F.startTime-ee),ue=!1}}break e}finally{b=null,x=re,T=!1}ue=void 0}}finally{ue?H():Y=!1}}}var H;if(typeof V=="function")H=function(){V(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ke=U.port2;U.port1.onmessage=P,H=function(){ke.postMessage(null)}}else H=function(){M(P,0)};function Ve(ee,ue){D=M(function(){ee(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(ee){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var re=x;x=ue;try{return ee()}finally{x=re}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(ee,ue){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=x;x=ee;try{return ue()}finally{x=re}},t.unstable_scheduleCallback=function(ee,ue,re){var Ee=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,ee){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=re+Ie,ee={id:v++,callback:ue,priorityLevel:ee,startTime:re,expirationTime:Ie,sortIndex:-1},re>Ee?(ee.sortIndex=re,e(m,ee),n(d)===null&&ee===n(m)&&(I?(z(D),D=-1):I=!0,Ve(K,re-Ee))):(ee.sortIndex=Ie,e(d,ee),R||T||(R=!0,Y||(Y=!0,H()))),ee},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ee){var ue=x;return function(){var re=x;x=ue;try{return ee.apply(this,arguments)}finally{x=re}}}})(Sg)),Sg}var _w;function II(){return _w||(_w=1,Tg.exports=NI()),Tg.exports}var Ag={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function DI(){if(ww)return xn;ww=1;var t=u0();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xn.createPortal=function(d,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,v)},xn.flushSync=function(d){var m=c.T,v=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=m,s.p=v,s.d.f()}},xn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(d,m))},xn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},xn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var v=m.as,b=h(v,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:T}):v==="script"&&s.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(d,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(d)},xn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=h(v,m.crossOrigin);s.d.L(d,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xn.preloadModule=function(d,m){if(typeof d=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(d)},xn.requestFormReset=function(d){s.d.r(d)},xn.unstable_batchedUpdates=function(d,m){return d(m)},xn.useFormState=function(d,m,v){return c.H.useFormState(d,m,v)},xn.useFormStatus=function(){return c.H.useHostTransitionStatus()},xn.version="19.2.4",xn}var Ew;function BT(){if(Ew)return Ag.exports;Ew=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ag.exports=DI(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function kI(){if(Tw)return Wc;Tw=1;var t=II(),e=u0(),n=BT();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),i;if(y===u)return d(p),r;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=y;else{for(var w=!1,C=p.child;C;){if(C===o){w=!0,o=p,u=y;break}if(C===u){w=!0,u=p,o=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===o){w=!0,o=y,u=p;break}if(C===u){w=!0,u=y,o=p;break}C=C.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function v(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=v(i),r!==null)return r;i=i.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),V=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function ke(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case Y:return"SuspenseList";case A:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case V:return i.displayName||"Context";case z:return(i._context.displayName||"Context")+".Consumer";case $:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return r=i.displayName||null,r!==null?r:ke(i.type)||"Memo";case S:r=i._payload,i=i._init;try{return ke(i(r))}catch{}}return null}var Ve=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ee=[],Ie=-1;function F(i){return{current:i}}function L(i){0>Ie||(i.current=Ee[Ie],Ee[Ie]=null,Ie--)}function X(i,r){Ie++,Ee[Ie]=i.current,i.current=r}var le=F(null),_e=F(null),Re=F(null),ge=F(null);function Be(i,r){switch(X(Re,r),X(_e,i),X(le,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?U_(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=U_(r),i=z_(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}L(le),X(le,i)}function Ue(){L(le),L(_e),L(Re)}function vt(i){i.memoizedState!==null&&X(ge,i);var r=le.current,o=z_(r,i.type);r!==o&&(X(_e,i),X(le,o))}function Qe(i){_e.current===i&&(L(le),L(_e)),ge.current===i&&(L(ge),Kc._currentValue=re)}var me,Je;function tt(i){if(me===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);me=r&&r[1]||"",Je=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+i+Je}var jt=!1;function nn(i,r){if(!i||jt)return"";jt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var Z=ie}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ie){Z=ie}i.call(ce.prototype)}}else{try{throw Error()}catch(ie){Z=ie}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&Z&&typeof ie.stack=="string")return[ie.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),w=y[0],C=y[1];if(w&&C){var B=w.split(`
`),J=C.split(`
`);for(p=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(u===B.length||p===J.length)for(u=B.length-1,p=J.length-1;1<=u&&0<=p&&B[u]!==J[p];)p--;for(;1<=u&&0<=p;u--,p--)if(B[u]!==J[p]){if(u!==1||p!==1)do if(u--,p--,0>p||B[u]!==J[p]){var se=`
`+B[u].replace(" at new "," at ");return i.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",i.displayName)),se}while(1<=u&&0<=p);break}}}finally{jt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?tt(o):""}function An(i,r){switch(i.tag){case 26:case 27:case 5:return tt(i.type);case 16:return tt("Lazy");case 13:return i.child!==r&&r!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return nn(i.type,!1);case 11:return nn(i.type.render,!1);case 1:return nn(i.type,!0);case 31:return tt("Activity");default:return""}}function Kn(i){try{var r="",o=null;do r+=An(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var rt=Object.prototype.hasOwnProperty,mt=t.unstable_scheduleCallback,kn=t.unstable_cancelCallback,va=t.unstable_shouldYield,or=t.unstable_requestPaint,sn=t.unstable_now,$i=t.unstable_getCurrentPriorityLevel,ba=t.unstable_ImmediatePriority,lr=t.unstable_UserBlockingPriority,Xi=t.unstable_NormalPriority,xa=t.unstable_LowPriority,Ri=t.unstable_IdlePriority,cr=t.log,ur=t.unstable_setDisableYieldValue,bn=null,Wt=null;function jn(i){if(typeof cr=="function"&&ur(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(bn,i)}catch{}}var At=Math.clz32?Math.clz32:_a,_o=Math.log,hr=Math.LN2;function _a(i){return i>>>=0,i===0?32:31-(_o(i)/hr|0)|0}var ai=256,Qi=262144,Rt=4194304;function Yn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function oi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,y=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~y,u!==0?p=Yn(u):(w&=C,w!==0?p=Yn(w):o||(o=C&~i,o!==0&&(p=Yn(o))))):(C=u&~y,C!==0?p=Yn(C):w!==0?p=Yn(w):o||(o=u&~i,o!==0&&(p=Yn(o)))),p===0?0:r!==0&&r!==p&&(r&y)===0&&(y=p&-p,o=r&-r,y>=o||y===32&&(o&4194048)!==0)?r:p}function Mn(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function wo(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Wi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function wa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Am(i,r,o,u,p,y){var w=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,B=i.expirationTimes,J=i.hiddenUpdates;for(o=w&~o;0<o;){var se=31-At(o),ce=1<<se;C[se]=0,B[se]=-1;var Z=J[se];if(Z!==null)for(J[se]=null,se=0;se<Z.length;se++){var ie=Z[se];ie!==null&&(ie.lane&=-536870913)}o&=~ce}u!==0&&Ea(i,u,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(w&~r))}function Ea(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-At(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Wl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-At(o),p=1<<u;p&r|i[u]&r&&(i[u]|=r),o&=~p}}function Jl(i,r){var o=r&-r;return o=(o&42)!==0?1:Ta(o),(o&(i.suspendedLanes|r))!==0?0:o}function Ta(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ts(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ph(){var i=ue.p;return i!==0?i:(i=window.event,i===void 0?32:cw(i.type))}function Ci(i,r){var o=ue.p;try{return ue.p=i,r()}finally{ue.p=o}}var Ni=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Ni,rn="__reactProps$"+Ni,Ji="__reactContainer$"+Ni,To="__reactEvents$"+Ni,Rm="__reactListeners$"+Ni,gh="__reactHandles$"+Ni,yh="__reactResources$"+Ni,Zi="__reactMarker$"+Ni;function So(i){delete i[Ut],delete i[rn],delete i[To],delete i[Rm],delete i[gh]}function es(i){var r=i[Ut];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Ji]||o[Ut]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Y_(i);i!==null;){if(o=i[Ut])return o;i=Y_(i)}return r}i=o,o=i.parentNode}return null}function li(i){if(i=i[Ut]||i[Ji]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function $n(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ts(i){var r=i[yh];return r||(r=i[yh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(i){i[Zi]=!0}var Zl=new Set,ec={};function ns(i,r){is(i,r),is(i+"Capture",r)}function is(i,r){for(ec[i]=r,i=0;i<r.length;i++)Zl.add(r[i])}var tc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},ic={};function vh(i){return rt.call(ic,i)?!0:rt.call(nc,i)?!1:tc.test(i)?ic[i]=!0:(nc[i]=!0,!1)}function Ao(i,r,o){if(vh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Xn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Bt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function an(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function dr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function sc(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,y.call(this,w)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function at(i){if(!i._valueTracker){var r=dr(i)?"checked":"value";i._valueTracker=sc(i,r,""+i[r])}}function Sa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=dr(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function ss(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Aa=/[\n"\\]/g;function Vn(i){return i.replace(Aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ro(i,r,o,u,p,y,w,C){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),r!=null?w==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+an(r)):i.value!==""+an(r)&&(i.value=""+an(r)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),r!=null?rc(i,w,an(r)):o!=null?rc(i,w,an(o)):u!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+an(C):i.removeAttribute("name")}function bh(i,r,o,u,p,y,w,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),r!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||r!=null)){at(i);return}o=o!=null?""+an(o):"",r=r!=null?""+an(r):o,C||r===i.value||(i.value=r),i.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),at(i)}function rc(i,r,o){r==="number"&&ss(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function fr(i,r,o,u){if(i=i.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=r.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&u&&(i[o].defaultSelected=!0)}else{for(o=""+an(o),r=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}r!==null||i[p].disabled||(r=i[p])}r!==null&&(r.selected=!0)}}function xh(i,r,o){if(r!=null&&(r=""+an(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+an(o):""}function mr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ve(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=an(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),at(i)}function On(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var _h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||_h.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function oc(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&ac(i,p,u)}else for(var y in r)r.hasOwnProperty(y)&&ac(i,y,r[y])}function Co(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(i){return pr.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ii(){}var lc=null;function ci(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gr=null,rs=null;function Ra(i){var r=li(i);if(r&&(i=r.stateNode)){var o=i[rn]||null;e:switch(i=r.stateNode,r.type){case"input":if(Ro(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var p=u[rn]||null;if(!p)throw Error(s(90));Ro(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&Sa(u)}break e;case"textarea":xh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&fr(i,!!o.multiple,r,!1)}}}var Io=!1;function yr(i,r,o){if(Io)return i(r,o);Io=!0;try{var u=i(r);return u}finally{if(Io=!1,(gr!==null||rs!==null)&&(pd(),gr&&(r=gr,i=rs,rs=gr=null,Ra(r),i)))for(r=0;r<i.length;r++)Ra(i[r])}}function Di(i,r){var o=i.stateNode;if(o===null)return null;var u=o[rn]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(ui)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Ca=!1}var as=null,cc=null,Na=null;function uc(){if(Na)return Na;var i,r=cc,o=r.length,u,p="value"in as?as.value:as.textContent,y=p.length;for(i=0;i<o&&r[i]===p[i];i++);var w=o-i;for(u=1;u<=w&&r[o-u]===p[y-u];u++);return Na=p.slice(i,1<u?1-u:void 0)}function Ia(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ss(){return!0}function ki(){return!1}function cn(i){function r(o,u,p,y,w){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ss:ki,this.isPropagationStopped=ki,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),r}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=cn(As),vr=b({},As,{view:0,detail:0}),hc=cn(vr),br,Do,ls,ko=b({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ls&&(ls&&i.type==="mousemove"?(br=i.screenX-ls.screenX,Do=i.screenY-ls.screenY):Do=br=0,ls=i),br)},movementY:function(i){return"movementY"in i?i.movementY:Do}}),dc=cn(ko),Da=b({},ko,{dataTransfer:0}),Eh=cn(Da),Th=b({},vr,{relatedTarget:0}),ka=cn(Th),fc=b({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),Sh=cn(fc),jo=b({},As,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ah=cn(jo),Rh=b({},As,{data:0}),cs=cn(Rh),Ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ih[i])?!!r[i]:!1}function xr(){return Dh}var Rn=b({},vr,{key:function(i){if(i.key){var r=Ch[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Ia(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Nh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(i){return i.type==="keypress"?Ia(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ia(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),kh=cn(Rn),jh=b({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rs=cn(jh),f=b({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),_=cn(f),E=b({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=cn(E),Q=b({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),te=cn(Q),de=b({},As,{newState:0,oldState:0}),Oe=cn(de),Mt=[9,13,27,32],nt=ui&&"CompositionEvent"in window,wt=null;ui&&"documentMode"in document&&(wt=document.documentMode);var hi=ui&&"TextEvent"in window&&!wt,us=ui&&(!nt||wt&&8<wt&&11>=wt),ji=" ",Mi=!1;function ja(i,r){switch(i){case"keyup":return Mt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vo=!1;function $C(i,r){switch(i){case"compositionend":return Mo(r);case"keypress":return r.which!==32?null:(Mi=!0,ji);case"textInput":return i=r.data,i===ji&&Mi?null:i;default:return null}}function XC(i,r){if(Vo)return i==="compositionend"||!nt&&ja(i,r)?(i=uc(),Na=cc=as=null,Vo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return us&&r.locale!=="ko"?null:r.data;default:return null}}var QC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!QC[i.type]:r==="textarea"}function Wv(i,r,o,u){gr?rs?rs.push(u):rs=[u]:gr=u,r=wd(r,"onChange"),0<r.length&&(o=new os("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var mc=null,pc=null;function WC(i){j_(i,0)}function Mh(i){var r=$n(i);if(Sa(r))return i}function Jv(i,r){if(i==="change")return r}var Zv=!1;if(ui){var Cm;if(ui){var Nm="oninput"in document;if(!Nm){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),Nm=typeof eb.oninput=="function"}Cm=Nm}else Cm=!1;Zv=Cm&&(!document.documentMode||9<document.documentMode)}function tb(){mc&&(mc.detachEvent("onpropertychange",nb),pc=mc=null)}function nb(i){if(i.propertyName==="value"&&Mh(pc)){var r=[];Wv(r,pc,i,ci(i)),yr(WC,r)}}function JC(i,r,o){i==="focusin"?(tb(),mc=r,pc=o,mc.attachEvent("onpropertychange",nb)):i==="focusout"&&tb()}function ZC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mh(pc)}function eN(i,r){if(i==="click")return Mh(r)}function tN(i,r){if(i==="input"||i==="change")return Mh(r)}function nN(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Qn=typeof Object.is=="function"?Object.is:nN;function gc(i,r){if(Qn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!rt.call(r,p)||!Qn(i[p],r[p]))return!1}return!0}function ib(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sb(i,r){var o=ib(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ib(o)}}function rb(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?rb(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ab(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=ss(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=ss(i.document)}return r}function Im(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var iN=ui&&"documentMode"in document&&11>=document.documentMode,Oo=null,Dm=null,yc=null,km=!1;function ob(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;km||Oo==null||Oo!==ss(u)||(u=Oo,"selectionStart"in u&&Im(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),yc&&gc(yc,u)||(yc=u,u=wd(Dm,"onSelect"),0<u.length&&(r=new os("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=Oo)))}function Ma(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Po={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},jm={},lb={};ui&&(lb=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Va(i){if(jm[i])return jm[i];if(!Po[i])return i;var r=Po[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in lb)return jm[i]=r[o];return i}var cb=Va("animationend"),ub=Va("animationiteration"),hb=Va("animationstart"),sN=Va("transitionrun"),rN=Va("transitionstart"),aN=Va("transitioncancel"),db=Va("transitionend"),fb=new Map,Mm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mm.push("scrollEnd");function Vi(i,r){fb.set(i,r),ns(r,[i])}var Vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},di=[],Lo=0,Vm=0;function Oh(){for(var i=Lo,r=Vm=Lo=0;r<i;){var o=di[r];di[r++]=null;var u=di[r];di[r++]=null;var p=di[r];di[r++]=null;var y=di[r];if(di[r++]=null,u!==null&&p!==null){var w=u.pending;w===null?p.next=p:(p.next=w.next,w.next=p),u.pending=p}y!==0&&mb(o,p,y)}}function Ph(i,r,o,u){di[Lo++]=i,di[Lo++]=r,di[Lo++]=o,di[Lo++]=u,Vm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Om(i,r,o,u){return Ph(i,r,o,u),Lh(i)}function Oa(i,r){return Ph(i,null,null,r),Lh(i)}function mb(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&r!==null&&(p=31-At(o),i=y.hiddenUpdates,u=i[p],u===null?i[p]=[r]:u.push(r),r.lane=o|536870912),y):null}function Lh(i){if(50<Uc)throw Uc=0,Gp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Uo={};function oN(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(i,r,o,u){return new oN(i,r,o,u)}function Pm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Cs(i,r){var o=i.alternate;return o===null?(o=Wn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function pb(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Uh(i,r,o,u,p,y){var w=0;if(u=i,typeof i=="function")Pm(i)&&(w=1);else if(typeof i=="string")w=dI(i,o,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case A:return i=Wn(31,o,r,p),i.elementType=A,i.lanes=y,i;case I:return Pa(o.children,p,y,r);case k:w=8,p|=24;break;case M:return i=Wn(12,o,r,p|2),i.elementType=M,i.lanes=y,i;case K:return i=Wn(13,o,r,p),i.elementType=K,i.lanes=y,i;case Y:return i=Wn(19,o,r,p),i.elementType=Y,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:w=10;break e;case z:w=9;break e;case $:w=11;break e;case D:w=14;break e;case S:w=16,u=null;break e}w=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Wn(w,o,r,p),r.elementType=i,r.type=u,r.lanes=y,r}function Pa(i,r,o,u){return i=Wn(7,i,u,r),i.lanes=o,i}function Lm(i,r,o){return i=Wn(6,i,null,r),i.lanes=o,i}function gb(i){var r=Wn(18,null,null,0);return r.stateNode=i,r}function Um(i,r,o){return r=Wn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var yb=new WeakMap;function fi(i,r){if(typeof i=="object"&&i!==null){var o=yb.get(i);return o!==void 0?o:(r={value:i,source:r,stack:Kn(r)},yb.set(i,r),r)}return{value:i,source:r,stack:Kn(r)}}var zo=[],Bo=0,zh=null,vc=0,mi=[],pi=0,_r=null,hs=1,ds="";function Ns(i,r){zo[Bo++]=vc,zo[Bo++]=zh,zh=i,vc=r}function vb(i,r,o){mi[pi++]=hs,mi[pi++]=ds,mi[pi++]=_r,_r=i;var u=hs;i=ds;var p=32-At(u)-1;u&=~(1<<p),o+=1;var y=32-At(r)+p;if(30<y){var w=p-p%5;y=(u&(1<<w)-1).toString(32),u>>=w,p-=w,hs=1<<32-At(r)+p|o<<p|u,ds=y+i}else hs=1<<y|o<<p|u,ds=i}function zm(i){i.return!==null&&(Ns(i,1),vb(i,1,0))}function Bm(i){for(;i===zh;)zh=zo[--Bo],zo[Bo]=null,vc=zo[--Bo],zo[Bo]=null;for(;i===_r;)_r=mi[--pi],mi[pi]=null,ds=mi[--pi],mi[pi]=null,hs=mi[--pi],mi[pi]=null}function bb(i,r){mi[pi++]=hs,mi[pi++]=ds,mi[pi++]=_r,hs=r.id,ds=r.overflow,_r=i}var un=null,bt=null,Xe=!1,wr=null,gi=!1,Fm=Error(s(519));function Er(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bc(fi(r,i)),Fm}function xb(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ut]=i,r[rn]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Bc.length;o++)He(Bc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),bh(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),mr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||P_(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=Ii),r=!0):r=!1,r||Er(i,!0)}function _b(i){for(un=i.return;un;)switch(un.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:un=un.return}}function Fo(i){if(i!==un)return!1;if(!Xe)return _b(i),Xe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||ag(i.type,i.memoizedProps)),o=!o),o&&bt&&Er(i),_b(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));bt=K_(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));bt=K_(i)}else r===27?(r=bt,Pr(i.type)?(i=hg,hg=null,bt=i):bt=r):bt=un?vi(i.stateNode.nextSibling):null;return!0}function La(){bt=un=null,Xe=!1}function Hm(){var i=wr;return i!==null&&(zn===null?zn=i:zn.push.apply(zn,i),wr=null),i}function bc(i){wr===null?wr=[i]:wr.push(i)}var qm=F(null),Ua=null,Is=null;function Tr(i,r,o){X(qm,r._currentValue),r._currentValue=o}function Ds(i){i._currentValue=qm.current,L(qm)}function Gm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function Km(i,r,o,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=p;for(var B=0;B<r.length;B++)if(C.context===r[B]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),Gm(y.return,o,i),u||(w=null);break e}y=C.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Gm(w,o,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Ho(i,r,o,u){i=null;for(var p=r,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var C=p.type;Qn(p.pendingProps.value,w.value)||(i!==null?i.push(C):i=[C])}}else if(p===ge.current){if(w=p.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Kc):i=[Kc])}p=p.return}i!==null&&Km(r,i,o,u),r.flags|=262144}function Bh(i){for(i=i.firstContext;i!==null;){if(!Qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function za(i){Ua=i,Is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function hn(i){return wb(Ua,i)}function Fh(i,r){return Ua===null&&za(i),wb(i,r)}function wb(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Is===null){if(i===null)throw Error(s(308));Is=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Is=Is.next=r;return o}var lN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},cN=t.unstable_scheduleCallback,uN=t.unstable_NormalPriority,Ft={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ym(){return{controller:new lN,data:new Map,refCount:0}}function xc(i){i.refCount--,i.refCount===0&&cN(uN,function(){i.controller.abort()})}var _c=null,$m=0,qo=0,Go=null;function hN(i,r){if(_c===null){var o=_c=[];$m=0,qo=Wp(),Go={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $m++,r.then(Eb,Eb),r}function Eb(){if(--$m===0&&_c!==null){Go!==null&&(Go.status="fulfilled");var i=_c;_c=null,qo=0,Go=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function dN(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Tb=ee.S;ee.S=function(i,r){o_=sn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&hN(i,r),Tb!==null&&Tb(i,r)};var Ba=F(null);function Xm(){var i=Ba.current;return i!==null?i:pt.pooledCache}function Hh(i,r){r===null?X(Ba,Ba.current):X(Ba,r.pool)}function Sb(){var i=Xm();return i===null?null:{parent:Ft._currentValue,pool:i}}var Ko=Error(s(460)),Qm=Error(s(474)),qh=Error(s(542)),Gh={then:function(){}};function Ab(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Rb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ii,Ii),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Nb(i),i;default:if(typeof r.status=="string")r.then(Ii,Ii);else{if(i=pt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Nb(i),i}throw Ha=r,Ko}}function Fa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ha=o,Ko):o}}var Ha=null;function Cb(){if(Ha===null)throw Error(s(459));var i=Ha;return Ha=null,i}function Nb(i){if(i===Ko||i===qh)throw Error(s(483))}var Yo=null,wc=0;function Kh(i){var r=wc;return wc+=1,Yo===null&&(Yo=[]),Rb(Yo,i,r)}function Ec(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Yh(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Ib(i){function r(G,q){if(i){var W=G.deletions;W===null?(G.deletions=[q],G.flags|=16):W.push(q)}}function o(G,q){if(!i)return null;for(;q!==null;)r(G,q),q=q.sibling;return null}function u(G){for(var q=new Map;G!==null;)G.key!==null?q.set(G.key,G):q.set(G.index,G),G=G.sibling;return q}function p(G,q){return G=Cs(G,q),G.index=0,G.sibling=null,G}function y(G,q,W){return G.index=W,i?(W=G.alternate,W!==null?(W=W.index,W<q?(G.flags|=67108866,q):W):(G.flags|=67108866,q)):(G.flags|=1048576,q)}function w(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function C(G,q,W,ae){return q===null||q.tag!==6?(q=Lm(W,G.mode,ae),q.return=G,q):(q=p(q,W),q.return=G,q)}function B(G,q,W,ae){var Te=W.type;return Te===I?se(G,q,W.props.children,ae,W.key):q!==null&&(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Fa(Te)===q.type)?(q=p(q,W.props),Ec(q,W),q.return=G,q):(q=Uh(W.type,W.key,W.props,null,G.mode,ae),Ec(q,W),q.return=G,q)}function J(G,q,W,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=Um(W,G.mode,ae),q.return=G,q):(q=p(q,W.children||[]),q.return=G,q)}function se(G,q,W,ae,Te){return q===null||q.tag!==7?(q=Pa(W,G.mode,ae,Te),q.return=G,q):(q=p(q,W),q.return=G,q)}function ce(G,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Lm(""+q,G.mode,W),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return W=Uh(q.type,q.key,q.props,null,G.mode,W),Ec(W,q),W.return=G,W;case R:return q=Um(q,G.mode,W),q.return=G,q;case S:return q=Fa(q),ce(G,q,W)}if(Ve(q)||H(q))return q=Pa(q,G.mode,W,null),q.return=G,q;if(typeof q.then=="function")return ce(G,Kh(q),W);if(q.$$typeof===V)return ce(G,Fh(G,q),W);Yh(G,q)}return null}function Z(G,q,W,ae){var Te=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Te!==null?null:C(G,q,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case T:return W.key===Te?B(G,q,W,ae):null;case R:return W.key===Te?J(G,q,W,ae):null;case S:return W=Fa(W),Z(G,q,W,ae)}if(Ve(W)||H(W))return Te!==null?null:se(G,q,W,ae,null);if(typeof W.then=="function")return Z(G,q,Kh(W),ae);if(W.$$typeof===V)return Z(G,q,Fh(G,W),ae);Yh(G,W)}return null}function ie(G,q,W,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(W)||null,C(q,G,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case T:return G=G.get(ae.key===null?W:ae.key)||null,B(q,G,ae,Te);case R:return G=G.get(ae.key===null?W:ae.key)||null,J(q,G,ae,Te);case S:return ae=Fa(ae),ie(G,q,W,ae,Te)}if(Ve(ae)||H(ae))return G=G.get(W)||null,se(q,G,ae,Te,null);if(typeof ae.then=="function")return ie(G,q,W,Kh(ae),Te);if(ae.$$typeof===V)return ie(G,q,W,Fh(q,ae),Te);Yh(q,ae)}return null}function ye(G,q,W,ae){for(var Te=null,Ze=null,we=q,Le=q=0,Ge=null;we!==null&&Le<W.length;Le++){we.index>Le?(Ge=we,we=null):Ge=we.sibling;var et=Z(G,we,W[Le],ae);if(et===null){we===null&&(we=Ge);break}i&&we&&et.alternate===null&&r(G,we),q=y(et,q,Le),Ze===null?Te=et:Ze.sibling=et,Ze=et,we=Ge}if(Le===W.length)return o(G,we),Xe&&Ns(G,Le),Te;if(we===null){for(;Le<W.length;Le++)we=ce(G,W[Le],ae),we!==null&&(q=y(we,q,Le),Ze===null?Te=we:Ze.sibling=we,Ze=we);return Xe&&Ns(G,Le),Te}for(we=u(we);Le<W.length;Le++)Ge=ie(we,G,Le,W[Le],ae),Ge!==null&&(i&&Ge.alternate!==null&&we.delete(Ge.key===null?Le:Ge.key),q=y(Ge,q,Le),Ze===null?Te=Ge:Ze.sibling=Ge,Ze=Ge);return i&&we.forEach(function(Fr){return r(G,Fr)}),Xe&&Ns(G,Le),Te}function Ae(G,q,W,ae){if(W==null)throw Error(s(151));for(var Te=null,Ze=null,we=q,Le=q=0,Ge=null,et=W.next();we!==null&&!et.done;Le++,et=W.next()){we.index>Le?(Ge=we,we=null):Ge=we.sibling;var Fr=Z(G,we,et.value,ae);if(Fr===null){we===null&&(we=Ge);break}i&&we&&Fr.alternate===null&&r(G,we),q=y(Fr,q,Le),Ze===null?Te=Fr:Ze.sibling=Fr,Ze=Fr,we=Ge}if(et.done)return o(G,we),Xe&&Ns(G,Le),Te;if(we===null){for(;!et.done;Le++,et=W.next())et=ce(G,et.value,ae),et!==null&&(q=y(et,q,Le),Ze===null?Te=et:Ze.sibling=et,Ze=et);return Xe&&Ns(G,Le),Te}for(we=u(we);!et.done;Le++,et=W.next())et=ie(we,G,Le,et.value,ae),et!==null&&(i&&et.alternate!==null&&we.delete(et.key===null?Le:et.key),q=y(et,q,Le),Ze===null?Te=et:Ze.sibling=et,Ze=et);return i&&we.forEach(function(EI){return r(G,EI)}),Xe&&Ns(G,Le),Te}function ft(G,q,W,ae){if(typeof W=="object"&&W!==null&&W.type===I&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case T:e:{for(var Te=W.key;q!==null;){if(q.key===Te){if(Te=W.type,Te===I){if(q.tag===7){o(G,q.sibling),ae=p(q,W.props.children),ae.return=G,G=ae;break e}}else if(q.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===S&&Fa(Te)===q.type){o(G,q.sibling),ae=p(q,W.props),Ec(ae,W),ae.return=G,G=ae;break e}o(G,q);break}else r(G,q);q=q.sibling}W.type===I?(ae=Pa(W.props.children,G.mode,ae,W.key),ae.return=G,G=ae):(ae=Uh(W.type,W.key,W.props,null,G.mode,ae),Ec(ae,W),ae.return=G,G=ae)}return w(G);case R:e:{for(Te=W.key;q!==null;){if(q.key===Te)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){o(G,q.sibling),ae=p(q,W.children||[]),ae.return=G,G=ae;break e}else{o(G,q);break}else r(G,q);q=q.sibling}ae=Um(W,G.mode,ae),ae.return=G,G=ae}return w(G);case S:return W=Fa(W),ft(G,q,W,ae)}if(Ve(W))return ye(G,q,W,ae);if(H(W)){if(Te=H(W),typeof Te!="function")throw Error(s(150));return W=Te.call(W),Ae(G,q,W,ae)}if(typeof W.then=="function")return ft(G,q,Kh(W),ae);if(W.$$typeof===V)return ft(G,q,Fh(G,W),ae);Yh(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(o(G,q.sibling),ae=p(q,W),ae.return=G,G=ae):(o(G,q),ae=Lm(W,G.mode,ae),ae.return=G,G=ae),w(G)):o(G,q)}return function(G,q,W,ae){try{wc=0;var Te=ft(G,q,W,ae);return Yo=null,Te}catch(we){if(we===Ko||we===qh)throw we;var Ze=Wn(29,we,null,G.mode);return Ze.lanes=ae,Ze.return=G,Ze}finally{}}}var qa=Ib(!0),Db=Ib(!1),Sr=!1;function Wm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Rr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=Lh(i),mb(i,null,o),r}return Ph(i,u,r,o),Lh(i)}function Tc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Wl(i,o)}}function Zm(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=r:y=y.next=r}else p=y=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var ep=!1;function Sc(){if(ep){var i=Go;if(i!==null)throw i}}function Ac(i,r,o,u){ep=!1;var p=i.updateQueue;Sr=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var B=C,J=B.next;B.next=null,w===null?y=J:w.next=J,w=B;var se=i.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==w&&(C===null?se.firstBaseUpdate=J:C.next=J,se.lastBaseUpdate=B))}if(y!==null){var ce=p.baseState;w=0,se=J=B=null,C=y;do{var Z=C.lane&-536870913,ie=Z!==C.lane;if(ie?(qe&Z)===Z:(u&Z)===Z){Z!==0&&Z===qo&&(ep=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ye=i,Ae=C;Z=r;var ft=o;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){ce=ye.call(ft,ce,Z);break e}ce=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,Z=typeof ye=="function"?ye.call(ft,ce,Z):ye,Z==null)break e;ce=b({},ce,Z);break e;case 2:Sr=!0}}Z=C.callback,Z!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=p.callbacks,ie===null?p.callbacks=[Z]:ie.push(Z))}else ie={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?(J=se=ie,B=ce):se=se.next=ie,w|=Z;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;ie=C,C=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);se===null&&(B=ce),p.baseState=B,p.firstBaseUpdate=J,p.lastBaseUpdate=se,y===null&&(p.shared.lanes=0),kr|=w,i.lanes=w,i.memoizedState=ce}}function kb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function jb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)kb(o[i],r)}var $o=F(null),$h=F(0);function Mb(i,r){i=zs,X($h,i),X($o,r),zs=i|r.baseLanes}function tp(){X($h,zs),X($o,$o.current)}function np(){zs=$h.current,L($o),L($h)}var Jn=F(null),yi=null;function Cr(i){var r=i.alternate;X(Vt,Vt.current&1),X(Jn,i),yi===null&&(r===null||$o.current!==null||r.memoizedState!==null)&&(yi=i)}function ip(i){X(Vt,Vt.current),X(Jn,i),yi===null&&(yi=i)}function Vb(i){i.tag===22?(X(Vt,Vt.current),X(Jn,i),yi===null&&(yi=i)):Nr()}function Nr(){X(Vt,Vt.current),X(Jn,Jn.current)}function Zn(i){L(Jn),yi===i&&(yi=null),L(Vt)}var Vt=F(0);function Xh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||cg(o)||ug(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ks=0,Pe=null,ht=null,Ht=null,Qh=!1,Xo=!1,Ga=!1,Wh=0,Rc=0,Qo=null,fN=0;function It(){throw Error(s(321))}function sp(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Qn(i[o],r[o]))return!1;return!0}function rp(i,r,o,u,p,y){return ks=y,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=i===null||i.memoizedState===null?vx:xp,Ga=!1,y=o(u,p),Ga=!1,Xo&&(y=Pb(r,o,u,p)),Ob(i),y}function Ob(i){ee.H=Ic;var r=ht!==null&&ht.next!==null;if(ks=0,Ht=ht=Pe=null,Qh=!1,Rc=0,Qo=null,r)throw Error(s(300));i===null||qt||(i=i.dependencies,i!==null&&Bh(i)&&(qt=!0))}function Pb(i,r,o,u){Pe=i;var p=0;do{if(Xo&&(Qo=null),Rc=0,Xo=!1,25<=p)throw Error(s(301));if(p+=1,Ht=ht=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}ee.H=bx,y=r(o,u)}while(Xo);return y}function mN(){var i=ee.H,r=i.useState()[0];return r=typeof r.then=="function"?Cc(r):r,i=i.useState()[0],(ht!==null?ht.memoizedState:null)!==i&&(Pe.flags|=1024),r}function ap(){var i=Wh!==0;return Wh=0,i}function op(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function lp(i){if(Qh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Qh=!1}ks=0,Ht=ht=Pe=null,Xo=!1,Rc=Wh=0,Qo=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Pe.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function Ot(){if(ht===null){var i=Pe.alternate;i=i!==null?i.memoizedState:null}else i=ht.next;var r=Ht===null?Pe.memoizedState:Ht.next;if(r!==null)Ht=r,ht=i;else{if(i===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ht=i,i={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Ht===null?Pe.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function Jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cc(i){var r=Rc;return Rc+=1,Qo===null&&(Qo=[]),i=Rb(Qo,i,r),r=Pe,(Ht===null?r.memoizedState:Ht.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?vx:xp),i}function Zh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Cc(i);if(i.$$typeof===V)return hn(i)}throw Error(s(438,String(i)))}function cp(i){var r=null,o=Pe.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Jh(),Pe.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=O;return r.index++,o}function js(i,r){return typeof r=="function"?r(i):r}function ed(i){var r=Ot();return up(r,ht,i)}function up(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=i.baseQueue,y=u.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}r.baseQueue=p=y,u.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{r=p.next;var C=w=null,B=null,J=r,se=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(qe&ce)===ce:(ks&ce)===ce){var Z=J.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===qo&&(se=!0);else if((ks&Z)===Z){J=J.next,Z===qo&&(se=!0);continue}else ce={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(C=B=ce,w=y):B=B.next=ce,Pe.lanes|=Z,kr|=Z;ce=J.action,Ga&&o(y,ce),y=J.hasEagerState?J.eagerState:o(y,ce)}else Z={lane:ce,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(C=B=Z,w=y):B=B.next=Z,Pe.lanes|=ce,kr|=ce;J=J.next}while(J!==null&&J!==r);if(B===null?w=y:B.next=C,!Qn(y,i.memoizedState)&&(qt=!0,se&&(o=Go,o!==null)))throw o;i.memoizedState=y,i.baseState=w,i.baseQueue=B,u.lastRenderedState=y}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function hp(i){var r=Ot(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,p=o.pending,y=r.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=i(y,w.action),w=w.next;while(w!==p);Qn(y,r.memoizedState)||(qt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),o.lastRenderedState=y}return[y,u]}function Lb(i,r,o){var u=Pe,p=Ot(),y=Xe;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=r();var w=!Qn((ht||p).memoizedState,o);if(w&&(p.memoizedState=o,qt=!0),p=p.queue,mp(Bb.bind(null,u,p,i),[i]),p.getSnapshot!==r||w||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Wo(9,{destroy:void 0},zb.bind(null,u,p,o,r),null),pt===null)throw Error(s(349));y||(ks&127)!==0||Ub(u,r,o)}return o}function Ub(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Pe.updateQueue,r===null?(r=Jh(),Pe.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function zb(i,r,o,u){r.value=o,r.getSnapshot=u,Fb(r)&&Hb(i)}function Bb(i,r,o){return o(function(){Fb(r)&&Hb(i)})}function Fb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Qn(i,o)}catch{return!0}}function Hb(i){var r=Oa(i,2);r!==null&&Bn(r,i,2)}function dp(i){var r=Cn();if(typeof i=="function"){var o=i;if(i=o(),Ga){jn(!0);try{o()}finally{jn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:i},r}function qb(i,r,o,u){return i.baseState=o,up(i,ht,typeof u=="function"?u:js)}function pN(i,r,o,u,p){if(id(i))throw Error(s(485));if(i=r.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};ee.T!==null?o(!0):y.isTransition=!1,u(y),o=r.pending,o===null?(y.next=r.pending=y,Gb(r,y)):(y.next=o.next,r.pending=o.next=y)}}function Gb(i,r){var o=r.action,u=r.payload,p=i.state;if(r.isTransition){var y=ee.T,w={};ee.T=w;try{var C=o(p,u),B=ee.S;B!==null&&B(w,C),Kb(i,r,C)}catch(J){fp(i,r,J)}finally{y!==null&&w.types!==null&&(y.types=w.types),ee.T=y}}else try{y=o(p,u),Kb(i,r,y)}catch(J){fp(i,r,J)}}function Kb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Yb(i,r,u)},function(u){return fp(i,r,u)}):Yb(i,r,o)}function Yb(i,r,o){r.status="fulfilled",r.value=o,$b(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Gb(i,o)))}function fp(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,$b(r),r=r.next;while(r!==u)}i.action=null}function $b(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Xb(i,r){return r}function Qb(i,r){if(Xe){var o=pt.formState;if(o!==null){e:{var u=Pe;if(Xe){if(bt){t:{for(var p=bt,y=gi;p.nodeType!==8;){if(!y){p=null;break t}if(p=vi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){bt=vi(p.nextSibling),u=p.data==="F!";break e}}Er(u)}u=!1}u&&(r=o[0])}}return o=Cn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:r},o.queue=u,o=px.bind(null,Pe,u),u.dispatch=o,u=dp(!1),y=bp.bind(null,Pe,!1,u.queue),u=Cn(),p={state:r,dispatch:null,action:i,pending:null},u.queue=p,o=pN.bind(null,Pe,p,y,o),p.dispatch=o,u.memoizedState=i,[r,o,!1]}function Wb(i){var r=Ot();return Jb(r,ht,i)}function Jb(i,r,o){if(r=up(i,r,Xb)[0],i=ed(js)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Cc(r)}catch(w){throw w===Ko?qh:w}else u=r;r=Ot();var p=r.queue,y=p.dispatch;return o!==r.memoizedState&&(Pe.flags|=2048,Wo(9,{destroy:void 0},gN.bind(null,p,o),null)),[u,y,i]}function gN(i,r){i.action=r}function Zb(i){var r=Ot(),o=ht;if(o!==null)return Jb(r,o,i);Ot(),r=r.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Wo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Jh(),Pe.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function ex(){return Ot().memoizedState}function td(i,r,o,u){var p=Cn();Pe.flags|=i,p.memoizedState=Wo(1|r,{destroy:void 0},o,u===void 0?null:u)}function nd(i,r,o,u){var p=Ot();u=u===void 0?null:u;var y=p.memoizedState.inst;ht!==null&&u!==null&&sp(u,ht.memoizedState.deps)?p.memoizedState=Wo(r,y,o,u):(Pe.flags|=i,p.memoizedState=Wo(1|r,y,o,u))}function tx(i,r){td(8390656,8,i,r)}function mp(i,r){nd(2048,8,i,r)}function yN(i){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=Jh(),Pe.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function nx(i){var r=Ot().memoizedState;return yN({ref:r,nextImpl:i}),function(){if((it&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ix(i,r){return nd(4,2,i,r)}function sx(i,r){return nd(4,4,i,r)}function rx(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function ax(i,r,o){o=o!=null?o.concat([i]):null,nd(4,4,rx.bind(null,r,i),o)}function pp(){}function ox(i,r){var o=Ot();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&sp(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function lx(i,r){var o=Ot();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&sp(r,u[1]))return u[0];if(u=i(),Ga){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,r],u}function gp(i,r,o){return o===void 0||(ks&1073741824)!==0&&(qe&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=c_(),Pe.lanes|=i,kr|=i,o)}function cx(i,r,o,u){return Qn(o,r)?o:$o.current!==null?(i=gp(i,o,u),Qn(i,r)||(qt=!0),i):(ks&42)===0||(ks&1073741824)!==0&&(qe&261930)===0?(qt=!0,i.memoizedState=o):(i=c_(),Pe.lanes|=i,kr|=i,r)}function ux(i,r,o,u,p){var y=ue.p;ue.p=y!==0&&8>y?y:8;var w=ee.T,C={};ee.T=C,bp(i,!1,r,o);try{var B=p(),J=ee.S;if(J!==null&&J(C,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var se=dN(B,u);Nc(i,r,se,ni(i))}else Nc(i,r,u,ni(i))}catch(ce){Nc(i,r,{then:function(){},status:"rejected",reason:ce},ni())}finally{ue.p=y,w!==null&&C.types!==null&&(w.types=C.types),ee.T=w}}function vN(){}function yp(i,r,o,u){if(i.tag!==5)throw Error(s(476));var p=hx(i).queue;ux(i,p,r,re,o===null?vN:function(){return dx(i),o(u)})}function hx(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:re},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function dx(i){var r=hx(i);r.next===null&&(r=i.alternate.memoizedState),Nc(i,r.next.queue,{},ni())}function vp(){return hn(Kc)}function fx(){return Ot().memoizedState}function mx(){return Ot().memoizedState}function bN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=ni();i=Ar(o);var u=Rr(r,i,o);u!==null&&(Bn(u,r,o),Tc(u,r,o)),r={cache:Ym()},i.payload=r;return}r=r.return}}function xN(i,r,o){var u=ni();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},id(i)?gx(r,o):(o=Om(i,r,o,u),o!==null&&(Bn(o,i,u),yx(o,r,u)))}function px(i,r,o){var u=ni();Nc(i,r,o,u)}function Nc(i,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(id(i))gx(r,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var w=r.lastRenderedState,C=y(w,o);if(p.hasEagerState=!0,p.eagerState=C,Qn(C,w))return Ph(i,r,p,0),pt===null&&Oh(),!1}catch{}finally{}if(o=Om(i,r,p,u),o!==null)return Bn(o,i,u),yx(o,r,u),!0}return!1}function bp(i,r,o,u){if(u={lane:2,revertLane:Wp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},id(i)){if(r)throw Error(s(479))}else r=Om(i,o,u,2),r!==null&&Bn(r,i,2)}function id(i){var r=i.alternate;return i===Pe||r!==null&&r===Pe}function gx(i,r){Xo=Qh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function yx(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Wl(i,o)}}var Ic={readContext:hn,use:Zh,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Ic.useEffectEvent=It;var vx={readContext:hn,use:Zh,useCallback:function(i,r){return Cn().memoizedState=[i,r===void 0?null:r],i},useContext:hn,useEffect:tx,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,td(4194308,4,rx.bind(null,r,i),o)},useLayoutEffect:function(i,r){return td(4194308,4,i,r)},useInsertionEffect:function(i,r){td(4,2,i,r)},useMemo:function(i,r){var o=Cn();r=r===void 0?null:r;var u=i();if(Ga){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=Cn();if(o!==void 0){var p=o(r);if(Ga){jn(!0);try{o(r)}finally{jn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=xN.bind(null,Pe,i),[u.memoizedState,i]},useRef:function(i){var r=Cn();return i={current:i},r.memoizedState=i},useState:function(i){i=dp(i);var r=i.queue,o=px.bind(null,Pe,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:pp,useDeferredValue:function(i,r){var o=Cn();return gp(o,i,r)},useTransition:function(){var i=dp(!1);return i=ux.bind(null,Pe,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Pe,p=Cn();if(Xe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),pt===null)throw Error(s(349));(qe&127)!==0||Ub(u,r,o)}p.memoizedState=o;var y={value:o,getSnapshot:r};return p.queue=y,tx(Bb.bind(null,u,y,i),[i]),u.flags|=2048,Wo(9,{destroy:void 0},zb.bind(null,u,y,o,r),null),o},useId:function(){var i=Cn(),r=pt.identifierPrefix;if(Xe){var o=ds,u=hs;o=(u&~(1<<32-At(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Wh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=fN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:vp,useFormState:Qb,useActionState:Qb,useOptimistic:function(i){var r=Cn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=bp.bind(null,Pe,!0,o),o.dispatch=r,[i,r]},useMemoCache:cp,useCacheRefresh:function(){return Cn().memoizedState=bN.bind(null,Pe)},useEffectEvent:function(i){var r=Cn(),o={impl:i};return r.memoizedState=o,function(){if((it&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},xp={readContext:hn,use:Zh,useCallback:ox,useContext:hn,useEffect:mp,useImperativeHandle:ax,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:lx,useReducer:ed,useRef:ex,useState:function(){return ed(js)},useDebugValue:pp,useDeferredValue:function(i,r){var o=Ot();return cx(o,ht.memoizedState,i,r)},useTransition:function(){var i=ed(js)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:Lb,useId:fx,useHostTransitionStatus:vp,useFormState:Wb,useActionState:Wb,useOptimistic:function(i,r){var o=Ot();return qb(o,ht,i,r)},useMemoCache:cp,useCacheRefresh:mx};xp.useEffectEvent=nx;var bx={readContext:hn,use:Zh,useCallback:ox,useContext:hn,useEffect:mp,useImperativeHandle:ax,useInsertionEffect:ix,useLayoutEffect:sx,useMemo:lx,useReducer:hp,useRef:ex,useState:function(){return hp(js)},useDebugValue:pp,useDeferredValue:function(i,r){var o=Ot();return ht===null?gp(o,i,r):cx(o,ht.memoizedState,i,r)},useTransition:function(){var i=hp(js)[0],r=Ot().memoizedState;return[typeof i=="boolean"?i:Cc(i),r]},useSyncExternalStore:Lb,useId:fx,useHostTransitionStatus:vp,useFormState:Zb,useActionState:Zb,useOptimistic:function(i,r){var o=Ot();return ht!==null?qb(o,ht,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:cp,useCacheRefresh:mx};bx.useEffectEvent=nx;function _p(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:b({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var wp={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=ni(),p=Ar(u);p.payload=r,o!=null&&(p.callback=o),r=Rr(i,p,u),r!==null&&(Bn(r,i,u),Tc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=ni(),p=Ar(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Rr(i,p,u),r!==null&&(Bn(r,i,u),Tc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=ni(),u=Ar(o);u.tag=2,r!=null&&(u.callback=r),r=Rr(i,u,o),r!==null&&(Bn(r,i,o),Tc(r,i,o))}};function xx(i,r,o,u,p,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,y,w):r.prototype&&r.prototype.isPureReactComponent?!gc(o,u)||!gc(p,y):!0}function _x(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&wp.enqueueReplaceState(r,r.state,null)}function Ka(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=b({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}function wx(i){Vh(i)}function Ex(i){console.error(i)}function Tx(i){Vh(i)}function sd(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Sx(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ep(i,r,o){return o=Ar(o),o.tag=3,o.payload={element:null},o.callback=function(){sd(i,r)},o}function Ax(i){return i=Ar(i),i.tag=3,i}function Rx(i,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=u.value;i.payload=function(){return p(y)},i.callback=function(){Sx(r,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Sx(r,o,u),typeof p!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function _N(i,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Ho(r,o,p,!0),o=Jn.current,o!==null){switch(o.tag){case 31:case 13:return yi===null?gd():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Gh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),$p(i,u,p)),!1;case 22:return o.flags|=65536,u===Gh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),$p(i,u,p)),!1}throw Error(s(435,o.tag))}return $p(i,u,p),gd(),!1}if(Xe)return r=Jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Fm&&(i=Error(s(422),{cause:u}),bc(fi(i,o)))):(u!==Fm&&(r=Error(s(423),{cause:u}),bc(fi(r,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=fi(u,o),p=Ep(i.stateNode,u,p),Zm(i,p),Dt!==4&&(Dt=2)),!1;var y=Error(s(520),{cause:u});if(y=fi(y,o),Lc===null?Lc=[y]:Lc.push(y),Dt!==4&&(Dt=2),r===null)return!0;u=fi(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=Ep(o.stateNode,u,i),Zm(o,i),!1;case 1:if(r=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(jr===null||!jr.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Ax(p),Rx(p,i,o,u),Zm(o,p),!1}o=o.return}while(o!==null);return!1}var Tp=Error(s(461)),qt=!1;function dn(i,r,o,u){r.child=i===null?Db(r,null,o,u):qa(r,i.child,o,u)}function Cx(i,r,o,u,p){o=o.render;var y=r.ref;if("ref"in u){var w={};for(var C in u)C!=="ref"&&(w[C]=u[C])}else w=u;return za(r),u=rp(i,r,o,w,y,p),C=ap(),i!==null&&!qt?(op(i,r,p),Ms(i,r,p)):(Xe&&C&&zm(r),r.flags|=1,dn(i,r,u,p),r.child)}function Nx(i,r,o,u,p){if(i===null){var y=o.type;return typeof y=="function"&&!Pm(y)&&y.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=y,Ix(i,r,y,u,p)):(i=Uh(o.type,null,u,r,r.mode,p),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,!kp(i,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:gc,o(w,u)&&i.ref===r.ref)return Ms(i,r,p)}return r.flags|=1,i=Cs(y,u),i.ref=r.ref,i.return=r,r.child=i}function Ix(i,r,o,u,p){if(i!==null){var y=i.memoizedProps;if(gc(y,u)&&i.ref===r.ref)if(qt=!1,r.pendingProps=u=y,kp(i,p))(i.flags&131072)!==0&&(qt=!0);else return r.lanes=i.lanes,Ms(i,r,p)}return Sp(i,r,o,u,p)}function Dx(i,r,o,u){var p=u.children,y=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,i!==null){for(u=r.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~y}else u=0,r.child=null;return kx(i,r,y,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hh(r,y!==null?y.cachePool:null),y!==null?Mb(r,y):tp(),Vb(r);else return u=r.lanes=536870912,kx(i,r,y!==null?y.baseLanes|o:o,o,u)}else y!==null?(Hh(r,y.cachePool),Mb(r,y),Nr(),r.memoizedState=null):(i!==null&&Hh(r,null),tp(),Nr());return dn(i,r,p,o),r.child}function Dc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function kx(i,r,o,u,p){var y=Xm();return y=y===null?null:{parent:Ft._currentValue,pool:y},r.memoizedState={baseLanes:o,cachePool:y},i!==null&&Hh(r,null),tp(),Vb(r),i!==null&&Ho(i,r,u,!0),r.childLanes=p,null}function rd(i,r){return r=od({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function jx(i,r,o){return qa(r,i.child,null,o),i=rd(r,r.pendingProps),i.flags|=2,Zn(r),r.memoizedState=null,i}function wN(i,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Xe){if(u.mode==="hidden")return i=rd(r,u),r.lanes=536870912,Dc(null,i);if(ip(r),(i=bt)?(i=G_(i,gi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:hs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},o=gb(i),o.return=r,r.child=o,un=r,bt=null)):i=null,i===null)throw Er(r);return r.lanes=536870912,null}return rd(r,u)}var y=i.memoizedState;if(y!==null){var w=y.dehydrated;if(ip(r),p)if(r.flags&256)r.flags&=-257,r=jx(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(qt||Ho(i,r,o,!1),p=(o&i.childLanes)!==0,qt||p){if(u=pt,u!==null&&(w=Jl(u,o),w!==0&&w!==y.retryLane))throw y.retryLane=w,Oa(i,w),Bn(u,i,w),Tp;gd(),r=jx(i,r,o)}else i=y.treeContext,bt=vi(w.nextSibling),un=r,Xe=!0,wr=null,gi=!1,i!==null&&bb(r,i),r=rd(r,u),r.flags|=4096;return r}return i=Cs(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ad(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Sp(i,r,o,u,p){return za(r),o=rp(i,r,o,u,void 0,p),u=ap(),i!==null&&!qt?(op(i,r,p),Ms(i,r,p)):(Xe&&u&&zm(r),r.flags|=1,dn(i,r,o,p),r.child)}function Mx(i,r,o,u,p,y){return za(r),r.updateQueue=null,o=Pb(r,u,o,p),Ob(i),u=ap(),i!==null&&!qt?(op(i,r,y),Ms(i,r,y)):(Xe&&u&&zm(r),r.flags|=1,dn(i,r,o,y),r.child)}function Vx(i,r,o,u,p){if(za(r),r.stateNode===null){var y=Uo,w=o.contextType;typeof w=="object"&&w!==null&&(y=hn(w)),y=new o(u,y),r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=wp,r.stateNode=y,y._reactInternals=r,y=r.stateNode,y.props=u,y.state=r.memoizedState,y.refs={},Wm(r),w=o.contextType,y.context=typeof w=="object"&&w!==null?hn(w):Uo,y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(_p(r,o,w,u),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&wp.enqueueReplaceState(y,y.state,null),Ac(r,u,y,p),Sc(),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){y=r.stateNode;var C=r.memoizedProps,B=Ka(o,C);y.props=B;var J=y.context,se=o.contextType;w=Uo,typeof se=="object"&&se!==null&&(w=hn(se));var ce=o.getDerivedStateFromProps;se=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||J!==w)&&_x(r,y,u,w),Sr=!1;var Z=r.memoizedState;y.state=Z,Ac(r,u,y,p),Sc(),J=r.memoizedState,C||Z!==J||Sr?(typeof ce=="function"&&(_p(r,o,ce,u),J=r.memoizedState),(B=Sr||xx(r,o,B,u,Z,J,w))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=J),y.props=u,y.state=J,y.context=w,u=B):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,Jm(i,r),w=r.memoizedProps,se=Ka(o,w),y.props=se,ce=r.pendingProps,Z=y.context,J=o.contextType,B=Uo,typeof J=="object"&&J!==null&&(B=hn(J)),C=o.getDerivedStateFromProps,(J=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ce||Z!==B)&&_x(r,y,u,B),Sr=!1,Z=r.memoizedState,y.state=Z,Ac(r,u,y,p),Sc();var ie=r.memoizedState;w!==ce||Z!==ie||Sr||i!==null&&i.dependencies!==null&&Bh(i.dependencies)?(typeof C=="function"&&(_p(r,o,C,u),ie=r.memoizedState),(se=Sr||xx(r,o,se,u,Z,ie,B)||i!==null&&i.dependencies!==null&&Bh(i.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ie,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ie,B)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ie),y.props=u,y.state=ie,y.context=B,u=se):(typeof y.componentDidUpdate!="function"||w===i.memoizedProps&&Z===i.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&Z===i.memoizedState||(r.flags|=1024),u=!1)}return y=u,ad(i,r),u=(r.flags&128)!==0,y||u?(y=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),r.flags|=1,i!==null&&u?(r.child=qa(r,i.child,null,p),r.child=qa(r,null,o,p)):dn(i,r,o,p),r.memoizedState=y.state,i=r.child):i=Ms(i,r,p),i}function Ox(i,r,o,u){return La(),r.flags|=256,dn(i,r,o,u),r.child}var Ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rp(i){return{baseLanes:i,cachePool:Sb()}}function Cp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=ti),i}function Px(i,r,o){var u=r.pendingProps,p=!1,y=(r.flags&128)!==0,w;if((w=y)||(w=i!==null&&i.memoizedState===null?!1:(Vt.current&2)!==0),w&&(p=!0,r.flags&=-129),w=(r.flags&32)!==0,r.flags&=-33,i===null){if(Xe){if(p?Cr(r):Nr(),(i=bt)?(i=G_(i,gi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:_r!==null?{id:hs,overflow:ds}:null,retryLane:536870912,hydrationErrors:null},o=gb(i),o.return=r,r.child=o,un=r,bt=null)):i=null,i===null)throw Er(r);return ug(i)?r.lanes=32:r.lanes=536870912,null}var C=u.children;return u=u.fallback,p?(Nr(),p=r.mode,C=od({mode:"hidden",children:C},p),u=Pa(u,p,o,null),C.return=r,u.return=r,C.sibling=u,r.child=C,u=r.child,u.memoizedState=Rp(o),u.childLanes=Cp(i,w,o),r.memoizedState=Ap,Dc(null,u)):(Cr(r),Np(r,C))}var B=i.memoizedState;if(B!==null&&(C=B.dehydrated,C!==null)){if(y)r.flags&256?(Cr(r),r.flags&=-257,r=Ip(i,r,o)):r.memoizedState!==null?(Nr(),r.child=i.child,r.flags|=128,r=null):(Nr(),C=u.fallback,p=r.mode,u=od({mode:"visible",children:u.children},p),C=Pa(C,p,o,null),C.flags|=2,u.return=r,C.return=r,u.sibling=C,r.child=u,qa(r,i.child,null,o),u=r.child,u.memoizedState=Rp(o),u.childLanes=Cp(i,w,o),r.memoizedState=Ap,r=Dc(null,u));else if(Cr(r),ug(C)){if(w=C.nextSibling&&C.nextSibling.dataset,w)var J=w.dgst;w=J,u=Error(s(419)),u.stack="",u.digest=w,bc({value:u,source:null,stack:null}),r=Ip(i,r,o)}else if(qt||Ho(i,r,o,!1),w=(o&i.childLanes)!==0,qt||w){if(w=pt,w!==null&&(u=Jl(w,o),u!==0&&u!==B.retryLane))throw B.retryLane=u,Oa(i,u),Bn(w,i,u),Tp;cg(C)||gd(),r=Ip(i,r,o)}else cg(C)?(r.flags|=192,r.child=i.child,r=null):(i=B.treeContext,bt=vi(C.nextSibling),un=r,Xe=!0,wr=null,gi=!1,i!==null&&bb(r,i),r=Np(r,u.children),r.flags|=4096);return r}return p?(Nr(),C=u.fallback,p=r.mode,B=i.child,J=B.sibling,u=Cs(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,J!==null?C=Cs(J,C):(C=Pa(C,p,o,null),C.flags|=2),C.return=r,u.return=r,u.sibling=C,r.child=u,Dc(null,u),u=r.child,C=i.child.memoizedState,C===null?C=Rp(o):(p=C.cachePool,p!==null?(B=Ft._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=Sb(),C={baseLanes:C.baseLanes|o,cachePool:p}),u.memoizedState=C,u.childLanes=Cp(i,w,o),r.memoizedState=Ap,Dc(i.child,u)):(Cr(r),o=i.child,i=o.sibling,o=Cs(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(w=r.deletions,w===null?(r.deletions=[i],r.flags|=16):w.push(i)),r.child=o,r.memoizedState=null,o)}function Np(i,r){return r=od({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function od(i,r){return i=Wn(22,i,null,r),i.lanes=0,i}function Ip(i,r,o){return qa(r,i.child,null,o),i=Np(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Lx(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),Gm(i.return,r,o)}function Dp(i,r,o,u,p,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:y}:(w.isBackwards=r,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=o,w.tailMode=p,w.treeForkCount=y)}function Ux(i,r,o){var u=r.pendingProps,p=u.revealOrder,y=u.tail;u=u.children;var w=Vt.current,C=(w&2)!==0;if(C?(w=w&1|2,r.flags|=128):w&=1,X(Vt,w),dn(i,r,u,o),u=Xe?vc:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Lx(i,o,r);else if(i.tag===19)Lx(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)i=o.alternate,i!==null&&Xh(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Dp(r,!1,p,o,y,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(i=p.alternate,i!==null&&Xh(i)===null){r.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}Dp(r,!0,o,null,y,u);break;case"together":Dp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Ms(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),kr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Ho(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Cs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Cs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function kp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Bh(i)))}function EN(i,r,o){switch(r.tag){case 3:Be(r,r.stateNode.containerInfo),Tr(r,Ft,i.memoizedState.cache),La();break;case 27:case 5:vt(r);break;case 4:Be(r,r.stateNode.containerInfo);break;case 10:Tr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ip(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Cr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Px(i,r,o):(Cr(r),i=Ms(i,r,o),i!==null?i.sibling:null);Cr(r);break;case 19:var p=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Ho(i,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Ux(i,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),X(Vt,Vt.current),u)break;return null;case 22:return r.lanes=0,Dx(i,r,o,r.pendingProps);case 24:Tr(r,Ft,i.memoizedState.cache)}return Ms(i,r,o)}function zx(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)qt=!0;else{if(!kp(i,o)&&(r.flags&128)===0)return qt=!1,EN(i,r,o);qt=(i.flags&131072)!==0}else qt=!1,Xe&&(r.flags&1048576)!==0&&vb(r,vc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Fa(r.elementType),r.type=i,typeof i=="function")Pm(i)?(u=Ka(i,u),r.tag=1,r=Vx(null,r,i,u,o)):(r.tag=0,r=Sp(null,r,i,u,o));else{if(i!=null){var p=i.$$typeof;if(p===$){r.tag=11,r=Cx(null,r,i,u,o);break e}else if(p===D){r.tag=14,r=Nx(null,r,i,u,o);break e}}throw r=ke(i)||i,Error(s(306,r,""))}}return r;case 0:return Sp(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Ka(u,r.pendingProps),Vx(i,r,u,p,o);case 3:e:{if(Be(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var y=r.memoizedState;p=y.element,Jm(i,r),Ac(r,u,null,o);var w=r.memoizedState;if(u=w.cache,Tr(r,Ft,u),u!==y.cache&&Km(r,[Ft],o,!0),Sc(),u=w.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:w.cache},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){r=Ox(i,r,u,o);break e}else if(u!==p){p=fi(Error(s(424)),r),bc(p),r=Ox(i,r,u,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(bt=vi(i.firstChild),un=r,Xe=!0,wr=null,gi=!0,o=Db(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(La(),u===p){r=Ms(i,r,o);break e}dn(i,r,u,o)}r=r.child}return r;case 26:return ad(i,r),i===null?(o=W_(r.type,null,r.pendingProps,null))?r.memoizedState=o:Xe||(o=r.type,i=r.pendingProps,u=Ed(Re.current).createElement(o),u[Ut]=r,u[rn]=i,fn(u,o,i),zt(u),r.stateNode=u):r.memoizedState=W_(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return vt(r),i===null&&Xe&&(u=r.stateNode=$_(r.type,r.pendingProps,Re.current),un=r,gi=!0,p=bt,Pr(r.type)?(hg=p,bt=vi(u.firstChild)):bt=p),dn(i,r,r.pendingProps.children,o),ad(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Xe&&((p=u=bt)&&(u=ZN(u,r.type,r.pendingProps,gi),u!==null?(r.stateNode=u,un=r,bt=vi(u.firstChild),gi=!1,p=!0):p=!1),p||Er(r)),vt(r),p=r.type,y=r.pendingProps,w=i!==null?i.memoizedProps:null,u=y.children,ag(p,y)?u=null:w!==null&&ag(p,w)&&(r.flags|=32),r.memoizedState!==null&&(p=rp(i,r,mN,null,null,o),Kc._currentValue=p),ad(i,r),dn(i,r,u,o),r.child;case 6:return i===null&&Xe&&((i=o=bt)&&(o=eI(o,r.pendingProps,gi),o!==null?(r.stateNode=o,un=r,bt=null,i=!0):i=!1),i||Er(r)),null;case 13:return Px(i,r,o);case 4:return Be(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=qa(r,null,u,o):dn(i,r,u,o),r.child;case 11:return Cx(i,r,r.type,r.pendingProps,o);case 7:return dn(i,r,r.pendingProps,o),r.child;case 8:return dn(i,r,r.pendingProps.children,o),r.child;case 12:return dn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Tr(r,r.type,u.value),dn(i,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,za(r),p=hn(p),u=u(p),r.flags|=1,dn(i,r,u,o),r.child;case 14:return Nx(i,r,r.type,r.pendingProps,o);case 15:return Ix(i,r,r.type,r.pendingProps,o);case 19:return Ux(i,r,o);case 31:return wN(i,r,o);case 22:return Dx(i,r,o,r.pendingProps);case 24:return za(r),u=hn(Ft),i===null?(p=Xm(),p===null&&(p=pt,y=Ym(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),r.memoizedState={parent:u,cache:p},Wm(r),Tr(r,Ft,p)):((i.lanes&o)!==0&&(Jm(i,r),Ac(r,null,null,o),Sc()),p=i.memoizedState,y=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Tr(r,Ft,u)):(u=y.cache,Tr(r,Ft,u),u!==p.cache&&Km(r,[Ft],o,!0))),dn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Vs(i){i.flags|=4}function jp(i,r,o,u,p){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(f_())i.flags|=8192;else throw Ha=Gh,Qm}else i.flags&=-16777217}function Bx(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nw(r))if(f_())i.flags|=8192;else throw Ha=Gh,Qm}function ld(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Eo():536870912,i.lanes|=r,tl|=r)}function kc(i,r){if(!Xe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function xt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function TN(i,r,o){var u=r.pendingProps;switch(Bm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(r),null;case 1:return xt(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Ds(Ft),Ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Fo(r)?Vs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hm())),xt(r),null;case 26:var p=r.type,y=r.memoizedState;return i===null?(Vs(r),y!==null?(xt(r),Bx(r,y)):(xt(r),jp(r,p,null,u,o))):y?y!==i.memoizedState?(Vs(r),xt(r),Bx(r,y)):(xt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&Vs(r),xt(r),jp(r,p,i,u,o)),null;case 27:if(Qe(r),o=Re.current,p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return xt(r),null}i=le.current,Fo(r)?xb(r):(i=$_(p,u,o),r.stateNode=i,Vs(r))}return xt(r),null;case 5:if(Qe(r),p=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&Vs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return xt(r),null}if(y=le.current,Fo(r))xb(r);else{var w=Ed(Re.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?w.createElement(p,{is:u.is}):w.createElement(p)}}y[Ut]=r,y[rn]=u;e:for(w=r.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===r)break e;for(;w.sibling===null;){if(w.return===null||w.return===r)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}r.stateNode=y;e:switch(fn(y,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Vs(r)}}return xt(r),jp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&Vs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=Re.current,Fo(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,p=un,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Ut]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||P_(i.nodeValue,o)),i||Er(r,!0)}else i=Ed(i).createTextNode(u),i[Ut]=r,r.stateNode=i}return xt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Fo(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ut]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),i=!1}else o=Hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Zn(r),r):(Zn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return xt(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Fo(r),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ut]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;xt(r),p=!1}else p=Hm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Zn(r),r):(Zn(r),null)}return Zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==p&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),ld(r,r.updateQueue),xt(r),null);case 4:return Ue(),i===null&&tg(r.stateNode.containerInfo),xt(r),null;case 10:return Ds(r.type),xt(r),null;case 19:if(L(Vt),u=r.memoizedState,u===null)return xt(r),null;if(p=(r.flags&128)!==0,y=u.rendering,y===null)if(p)kc(u,!1);else{if(Dt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(y=Xh(i),y!==null){for(r.flags|=128,kc(u,!1),i=y.updateQueue,r.updateQueue=i,ld(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)pb(o,i),o=o.sibling;return X(Vt,Vt.current&1|2),Xe&&Ns(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&sn()>fd&&(r.flags|=128,p=!0,kc(u,!1),r.lanes=4194304)}else{if(!p)if(i=Xh(y),i!==null){if(r.flags|=128,p=!0,i=i.updateQueue,r.updateQueue=i,ld(r,i),kc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Xe)return xt(r),null}else 2*sn()-u.renderingStartTime>fd&&o!==536870912&&(r.flags|=128,p=!0,kc(u,!1),r.lanes=4194304);u.isBackwards?(y.sibling=r.child,r.child=y):(i=u.last,i!==null?i.sibling=y:r.child=y,u.last=y)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=sn(),i.sibling=null,o=Vt.current,X(Vt,p?o&1|2:o&1),Xe&&Ns(r,u.treeForkCount),i):(xt(r),null);case 22:case 23:return Zn(r),np(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(xt(r),r.subtreeFlags&6&&(r.flags|=8192)):xt(r),o=r.updateQueue,o!==null&&ld(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&L(Ba),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ds(Ft),xt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function SN(i,r){switch(Bm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ds(Ft),Ue(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Qe(r),null;case 31:if(r.memoizedState!==null){if(Zn(r),r.alternate===null)throw Error(s(340));La()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Zn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));La()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return L(Vt),null;case 4:return Ue(),null;case 10:return Ds(r.type),null;case 22:case 23:return Zn(r),np(),i!==null&&L(Ba),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ds(Ft),null;case 25:return null;default:return null}}function Fx(i,r){switch(Bm(r),r.tag){case 3:Ds(Ft),Ue();break;case 26:case 27:case 5:Qe(r);break;case 4:Ue();break;case 31:r.memoizedState!==null&&Zn(r);break;case 13:Zn(r);break;case 19:L(Vt);break;case 10:Ds(r.type);break;case 22:case 23:Zn(r),np(),i!==null&&L(Ba);break;case 24:Ds(Ft)}}function jc(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&i)===i){u=void 0;var y=o.create,w=o.inst;u=y(),w.destroy=u}o=o.next}while(o!==p)}}catch(C){lt(r,r.return,C)}}function Ir(i,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&i)===i){var w=u.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,p=r;var B=o,J=C;try{J()}catch(se){lt(p,B,se)}}}u=u.next}while(u!==y)}}catch(se){lt(r,r.return,se)}}function Hx(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{jb(r,o)}catch(u){lt(i,i.return,u)}}}function qx(i,r,o){o.props=Ka(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){lt(i,r,u)}}function Mc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(p){lt(i,r,p)}}function fs(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){lt(i,r,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){lt(i,r,p)}else o.current=null}function Gx(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){lt(i,i.return,p)}}function Mp(i,r,o){try{var u=i.stateNode;YN(u,i.type,o,r),u[rn]=r}catch(p){lt(i,i.return,p)}}function Kx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pr(i.type)||i.tag===4}function Vp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Op(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ii));else if(u!==4&&(u===27&&Pr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Op(i,r,o),i=i.sibling;i!==null;)Op(i,r,o),i=i.sibling}function cd(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Pr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(cd(i,r,o),i=i.sibling;i!==null;)cd(i,r,o),i=i.sibling}function Yx(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);fn(r,u,o),r[Ut]=i,r[rn]=o}catch(y){lt(i,i.return,y)}}var Os=!1,Gt=!1,Pp=!1,$x=typeof WeakSet=="function"?WeakSet:Set,on=null;function AN(i,r){if(i=i.containerInfo,sg=Id,i=ab(i),Im(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var w=0,C=-1,B=-1,J=0,se=0,ce=i,Z=null;t:for(;;){for(var ie;ce!==o||p!==0&&ce.nodeType!==3||(C=w+p),ce!==y||u!==0&&ce.nodeType!==3||(B=w+u),ce.nodeType===3&&(w+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)Z=ce,ce=ie;for(;;){if(ce===i)break t;if(Z===o&&++J===p&&(C=w),Z===y&&++se===u&&(B=w),(ie=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=ie}o=C===-1||B===-1?null:{start:C,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(rg={focusedElem:i,selectionRange:o},Id=!1,on=r;on!==null;)if(r=on,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,on=i;else for(;on!==null;){switch(r=on,y=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)p=i[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=r,p=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var ye=Ka(o.type,p);i=u.getSnapshotBeforeUpdate(ye,y),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){lt(o,o.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)lg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,on=i;break}on=r.return}}function Xx(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ls(i,o),u&4&&jc(5,o);break;case 1:if(Ls(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(w){lt(o,o.return,w)}else{var p=Ka(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(p,r,i.__reactInternalSnapshotBeforeUpdate)}catch(w){lt(o,o.return,w)}}u&64&&Hx(o),u&512&&Mc(o,o.return);break;case 3:if(Ls(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{jb(i,r)}catch(w){lt(o,o.return,w)}}break;case 27:r===null&&u&4&&Yx(o);case 26:case 5:Ls(i,o),r===null&&u&4&&Gx(o),u&512&&Mc(o,o.return);break;case 12:Ls(i,o);break;case 31:Ls(i,o),u&4&&Jx(i,o);break;case 13:Ls(i,o),u&4&&Zx(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=VN.bind(null,o),tI(i,o))));break;case 22:if(u=o.memoizedState!==null||Os,!u){r=r!==null&&r.memoizedState!==null||Gt,p=Os;var y=Gt;Os=u,(Gt=r)&&!y?Us(i,o,(o.subtreeFlags&8772)!==0):Ls(i,o),Os=p,Gt=y}break;case 30:break;default:Ls(i,o)}}function Qx(i){var r=i.alternate;r!==null&&(i.alternate=null,Qx(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&So(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Et=null,Pn=!1;function Ps(i,r,o){for(o=o.child;o!==null;)Wx(i,r,o),o=o.sibling}function Wx(i,r,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(bn,o)}catch{}switch(o.tag){case 26:Gt||fs(o,r),Ps(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Gt||fs(o,r);var u=Et,p=Pn;Pr(o.type)&&(Et=o.stateNode,Pn=!1),Ps(i,r,o),Hc(o.stateNode),Et=u,Pn=p;break;case 5:Gt||fs(o,r);case 6:if(u=Et,p=Pn,Et=null,Ps(i,r,o),Et=u,Pn=p,Et!==null)if(Pn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(o.stateNode)}catch(y){lt(o,r,y)}else try{Et.removeChild(o.stateNode)}catch(y){lt(o,r,y)}break;case 18:Et!==null&&(Pn?(i=Et,H_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),cl(i)):H_(Et,o.stateNode));break;case 4:u=Et,p=Pn,Et=o.stateNode.containerInfo,Pn=!0,Ps(i,r,o),Et=u,Pn=p;break;case 0:case 11:case 14:case 15:Ir(2,o,r),Gt||Ir(4,o,r),Ps(i,r,o);break;case 1:Gt||(fs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&qx(o,r,u)),Ps(i,r,o);break;case 21:Ps(i,r,o);break;case 22:Gt=(u=Gt)||o.memoizedState!==null,Ps(i,r,o),Gt=u;break;default:Ps(i,r,o)}}function Jx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{cl(i)}catch(o){lt(r,r.return,o)}}}function Zx(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cl(i)}catch(o){lt(r,r.return,o)}}function RN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new $x),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new $x),r;default:throw Error(s(435,i.tag))}}function ud(i,r){var o=RN(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=ON.bind(null,i,u);u.then(p,p)}})}function Ln(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],y=i,w=r,C=w;e:for(;C!==null;){switch(C.tag){case 27:if(Pr(C.type)){Et=C.stateNode,Pn=!1;break e}break;case 5:Et=C.stateNode,Pn=!1;break e;case 3:case 4:Et=C.stateNode.containerInfo,Pn=!0;break e}C=C.return}if(Et===null)throw Error(s(160));Wx(y,w,p),Et=null,Pn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)e_(r,i),r=r.sibling}var Oi=null;function e_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ln(r,i),Un(i),u&4&&(Ir(3,i,i.return),jc(3,i),Ir(5,i,i.return));break;case 1:Ln(r,i),Un(i),u&512&&(Gt||o===null||fs(o,o.return)),u&64&&Os&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Oi;if(Ln(r,i),Un(i),u&512&&(Gt||o===null||fs(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Zi]||y[Ut]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(u),p.head.insertBefore(y,p.querySelector("head > title"))),fn(y,u,o),y[Ut]=i,zt(y),u=y;break e;case"link":var w=ew("link","href",p).get(u+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(y=w[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break t}}y=p.createElement(u),fn(y,u,o),p.head.appendChild(y);break;case"meta":if(w=ew("meta","content",p).get(u+(o.content||""))){for(C=0;C<w.length;C++)if(y=w[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break t}}y=p.createElement(u),fn(y,u,o),p.head.appendChild(y);break;default:throw Error(s(468,u))}y[Ut]=i,zt(y),u=y}i.stateNode=u}else tw(p,i.type,i.stateNode);else i.stateNode=Z_(p,u,i.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?tw(p,i.type,i.stateNode):Z_(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Mp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ln(r,i),Un(i),u&512&&(Gt||o===null||fs(o,o.return)),o!==null&&u&4&&Mp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ln(r,i),Un(i),u&512&&(Gt||o===null||fs(o,o.return)),i.flags&32){p=i.stateNode;try{On(p,"")}catch(ye){lt(i,i.return,ye)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Mp(i,p,o!==null?o.memoizedProps:p)),u&1024&&(Pp=!0);break;case 6:if(Ln(r,i),Un(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(ye){lt(i,i.return,ye)}}break;case 3:if(Ad=null,p=Oi,Oi=Td(r.containerInfo),Ln(r,i),Oi=p,Un(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{cl(r.containerInfo)}catch(ye){lt(i,i.return,ye)}Pp&&(Pp=!1,t_(i));break;case 4:u=Oi,Oi=Td(i.stateNode.containerInfo),Ln(r,i),Un(i),Oi=u;break;case 12:Ln(r,i),Un(i);break;case 31:Ln(r,i),Un(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ud(i,u)));break;case 13:Ln(r,i),Un(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dd=sn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ud(i,u)));break;case 22:p=i.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,J=Os,se=Gt;if(Os=J||p,Gt=se||B,Ln(r,i),Gt=se,Os=J,Un(i),u&8192)e:for(r=i.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||B||Os||Gt||Ya(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){B=o=r;try{if(y=B.stateNode,p)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{C=B.stateNode;var ce=B.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ye){lt(B,B.return,ye)}}}else if(r.tag===6){if(o===null){B=r;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(ye){lt(B,B.return,ye)}}}else if(r.tag===18){if(o===null){B=r;try{var ie=B.stateNode;p?q_(ie,!0):q_(B.stateNode,!1)}catch(ye){lt(B,B.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,ud(i,o))));break;case 19:Ln(r,i),Un(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,ud(i,u)));break;case 30:break;case 21:break;default:Ln(r,i),Un(i)}}function Un(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(Kx(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,y=Vp(i);cd(i,y,p);break;case 5:var w=o.stateNode;o.flags&32&&(On(w,""),o.flags&=-33);var C=Vp(i);cd(i,C,w);break;case 3:case 4:var B=o.stateNode.containerInfo,J=Vp(i);Op(i,J,B);break;default:throw Error(s(161))}}catch(se){lt(i,i.return,se)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function t_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;t_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ls(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xx(i,r.alternate,r),r=r.sibling}function Ya(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ir(4,r,r.return),Ya(r);break;case 1:fs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&qx(r,r.return,o),Ya(r);break;case 27:Hc(r.stateNode);case 26:case 5:fs(r,r.return),Ya(r);break;case 22:r.memoizedState===null&&Ya(r);break;case 30:Ya(r);break;default:Ya(r)}i=i.sibling}}function Us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=i,y=r,w=y.flags;switch(y.tag){case 0:case 11:case 15:Us(p,y,o),jc(4,y);break;case 1:if(Us(p,y,o),u=y,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){lt(u,u.return,J)}if(u=y,p=u.updateQueue,p!==null){var C=u.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)kb(B[p],C)}catch(J){lt(u,u.return,J)}}o&&w&64&&Hx(y),Mc(y,y.return);break;case 27:Yx(y);case 26:case 5:Us(p,y,o),o&&u===null&&w&4&&Gx(y),Mc(y,y.return);break;case 12:Us(p,y,o);break;case 31:Us(p,y,o),o&&w&4&&Jx(p,y);break;case 13:Us(p,y,o),o&&w&4&&Zx(p,y);break;case 22:y.memoizedState===null&&Us(p,y,o),Mc(y,y.return);break;case 30:break;default:Us(p,y,o)}r=r.sibling}}function Lp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&xc(o))}function Up(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xc(i))}function Pi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n_(i,r,o,u),r=r.sibling}function n_(i,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Pi(i,r,o,u),p&2048&&jc(9,r);break;case 1:Pi(i,r,o,u);break;case 3:Pi(i,r,o,u),p&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xc(i)));break;case 12:if(p&2048){Pi(i,r,o,u),i=r.stateNode;try{var y=r.memoizedProps,w=y.id,C=y.onPostCommit;typeof C=="function"&&C(w,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){lt(r,r.return,B)}}else Pi(i,r,o,u);break;case 31:Pi(i,r,o,u);break;case 13:Pi(i,r,o,u);break;case 23:break;case 22:y=r.stateNode,w=r.alternate,r.memoizedState!==null?y._visibility&2?Pi(i,r,o,u):Vc(i,r):y._visibility&2?Pi(i,r,o,u):(y._visibility|=2,Jo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Lp(w,r);break;case 24:Pi(i,r,o,u),p&2048&&Up(r.alternate,r);break;default:Pi(i,r,o,u)}}function Jo(i,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var y=i,w=r,C=o,B=u,J=w.flags;switch(w.tag){case 0:case 11:case 15:Jo(y,w,C,B,p),jc(8,w);break;case 23:break;case 22:var se=w.stateNode;w.memoizedState!==null?se._visibility&2?Jo(y,w,C,B,p):Vc(y,w):(se._visibility|=2,Jo(y,w,C,B,p)),p&&J&2048&&Lp(w.alternate,w);break;case 24:Jo(y,w,C,B,p),p&&J&2048&&Up(w.alternate,w);break;default:Jo(y,w,C,B,p)}r=r.sibling}}function Vc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,p=u.flags;switch(u.tag){case 22:Vc(o,u),p&2048&&Lp(u.alternate,u);break;case 24:Vc(o,u),p&2048&&Up(u.alternate,u);break;default:Vc(o,u)}r=r.sibling}}var Oc=8192;function Zo(i,r,o){if(i.subtreeFlags&Oc)for(i=i.child;i!==null;)i_(i,r,o),i=i.sibling}function i_(i,r,o){switch(i.tag){case 26:Zo(i,r,o),i.flags&Oc&&i.memoizedState!==null&&fI(o,Oi,i.memoizedState,i.memoizedProps);break;case 5:Zo(i,r,o);break;case 3:case 4:var u=Oi;Oi=Td(i.stateNode.containerInfo),Zo(i,r,o),Oi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Oc,Oc=16777216,Zo(i,r,o),Oc=u):Zo(i,r,o));break;default:Zo(i,r,o)}}function s_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Pc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];on=u,a_(u,i)}s_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(i),i=i.sibling}function r_(i){switch(i.tag){case 0:case 11:case 15:Pc(i),i.flags&2048&&Ir(9,i,i.return);break;case 3:Pc(i);break;case 12:Pc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,hd(i)):Pc(i);break;default:Pc(i)}}function hd(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];on=u,a_(u,i)}s_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ir(8,r,r.return),hd(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,hd(r));break;default:hd(r)}i=i.sibling}}function a_(i,r){for(;on!==null;){var o=on;switch(o.tag){case 0:case 11:case 15:Ir(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,on=u;else e:for(o=i;on!==null;){u=on;var p=u.sibling,y=u.return;if(Qx(u),u===o){on=null;break e}if(p!==null){p.return=y,on=p;break e}on=y}}}var CN={getCacheForType:function(i){var r=hn(Ft),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return hn(Ft).controller.signal}},NN=typeof WeakMap=="function"?WeakMap:Map,it=0,pt=null,Fe=null,qe=0,ot=0,ei=null,Dr=!1,el=!1,zp=!1,zs=0,Dt=0,kr=0,$a=0,Bp=0,ti=0,tl=0,Lc=null,zn=null,Fp=!1,dd=0,o_=0,fd=1/0,md=null,jr=null,Jt=0,Mr=null,nl=null,Bs=0,Hp=0,qp=null,l_=null,Uc=0,Gp=null;function ni(){return(it&2)!==0&&qe!==0?qe&-qe:ee.T!==null?Wp():ph()}function c_(){if(ti===0)if((qe&536870912)===0||Xe){var i=Qi;Qi<<=1,(Qi&3932160)===0&&(Qi=262144),ti=i}else ti=536870912;return i=Jn.current,i!==null&&(i.flags|=32),ti}function Bn(i,r,o){(i===pt&&(ot===2||ot===9)||i.cancelPendingCommit!==null)&&(il(i,0),Vr(i,qe,ti,!1)),wa(i,o),((it&2)===0||i!==pt)&&(i===pt&&((it&2)===0&&($a|=o),Dt===4&&Vr(i,qe,ti,!1)),ms(i))}function u_(i,r,o){if((it&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Mn(i,r),p=u?kN(i,r):Yp(i,r,!0),y=u;do{if(p===0){el&&!u&&Vr(i,r,0,!1);break}else{if(o=i.current.alternate,y&&!IN(o)){p=Yp(i,r,!1),y=!1;continue}if(p===2){if(y=r,i.errorRecoveryDisabledLanes&y)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){r=w;e:{var C=i;p=Lc;var B=C.current.memoizedState.isDehydrated;if(B&&(il(C,w).flags|=256),w=Yp(C,w,!1),w!==2){if(zp&&!B){C.errorRecoveryDisabledLanes|=y,$a|=y,p=4;break e}y=zn,zn=p,y!==null&&(zn===null?zn=y:zn.push.apply(zn,y))}p=w}if(y=!1,p!==2)continue}}if(p===1){il(i,0),Vr(i,r,0,!0);break}e:{switch(u=i,y=p,y){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vr(u,r,ti,!Dr);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=dd+300-sn(),10<p)){if(Vr(u,r,ti,!Dr),oi(u,0,!0)!==0)break e;Bs=r,u.timeoutHandle=B_(h_.bind(null,u,o,zn,md,Fp,r,ti,$a,tl,Dr,y,"Throttled",-0,0),p);break e}h_(u,o,zn,md,Fp,r,ti,$a,tl,Dr,y,null,-0,0)}}break}while(!0);ms(i)}function h_(i,r,o,u,p,y,w,C,B,J,se,ce,Z,ie){if(i.timeoutHandle=-1,ce=r.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ii},i_(r,y,ce);var ye=(y&62914560)===y?dd-sn():(y&4194048)===y?o_-sn():0;if(ye=mI(ce,ye),ye!==null){Bs=y,i.cancelPendingCommit=ye(b_.bind(null,i,r,y,o,u,p,w,C,B,se,ce,null,Z,ie)),Vr(i,y,w,!J);return}}b_(i,r,y,o,u,p,w,C,B)}function IN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],y=p.getSnapshot;p=p.value;try{if(!Qn(y(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(i,r,o,u){r&=~Bp,r&=~$a,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var p=r;0<p;){var y=31-At(p),w=1<<y;u[y]=-1,p&=~w}o!==0&&Ea(i,o,r)}function pd(){return(it&6)===0?(zc(0),!1):!0}function Kp(){if(Fe!==null){if(ot===0)var i=Fe.return;else i=Fe,Is=Ua=null,lp(i),Yo=null,wc=0,i=Fe;for(;i!==null;)Fx(i.alternate,i),i=i.return;Fe=null}}function il(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,QN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Bs=0,Kp(),pt=i,Fe=o=Cs(i.current,null),qe=r,ot=0,ei=null,Dr=!1,el=Mn(i,r),zp=!1,tl=ti=Bp=$a=kr=Dt=0,zn=Lc=null,Fp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var p=31-At(u),y=1<<p;r|=i[p],u&=~y}return zs=r,Oh(),o}function d_(i,r){Pe=null,ee.H=Ic,r===Ko||r===qh?(r=Cb(),ot=3):r===Qm?(r=Cb(),ot=4):ot=r===Tp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,ei=r,Fe===null&&(Dt=1,sd(i,fi(r,i.current)))}function f_(){var i=Jn.current;return i===null?!0:(qe&4194048)===qe?yi===null:(qe&62914560)===qe||(qe&536870912)!==0?i===yi:!1}function m_(){var i=ee.H;return ee.H=Ic,i===null?Ic:i}function p_(){var i=ee.A;return ee.A=CN,i}function gd(){Dt=4,Dr||(qe&4194048)!==qe&&Jn.current!==null||(el=!0),(kr&134217727)===0&&($a&134217727)===0||pt===null||Vr(pt,qe,ti,!1)}function Yp(i,r,o){var u=it;it|=2;var p=m_(),y=p_();(pt!==i||qe!==r)&&(md=null,il(i,r)),r=!1;var w=Dt;e:do try{if(ot!==0&&Fe!==null){var C=Fe,B=ei;switch(ot){case 8:Kp(),w=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(r=!0);var J=ot;if(ot=0,ei=null,sl(i,C,B,J),o&&el){w=0;break e}break;default:J=ot,ot=0,ei=null,sl(i,C,B,J)}}DN(),w=Dt;break}catch(se){d_(i,se)}while(!0);return r&&i.shellSuspendCounter++,Is=Ua=null,it=u,ee.H=p,ee.A=y,Fe===null&&(pt=null,qe=0,Oh()),w}function DN(){for(;Fe!==null;)g_(Fe)}function kN(i,r){var o=it;it|=2;var u=m_(),p=p_();pt!==i||qe!==r?(md=null,fd=sn()+500,il(i,r)):el=Mn(i,r);e:do try{if(ot!==0&&Fe!==null){r=Fe;var y=ei;t:switch(ot){case 1:ot=0,ei=null,sl(i,r,y,1);break;case 2:case 9:if(Ab(y)){ot=0,ei=null,y_(r);break}r=function(){ot!==2&&ot!==9||pt!==i||(ot=7),ms(i)},y.then(r,r);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Ab(y)?(ot=0,ei=null,y_(r)):(ot=0,ei=null,sl(i,r,y,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var C=Fe;if(w?nw(w):C.stateNode.complete){ot=0,ei=null;var B=C.sibling;if(B!==null)Fe=B;else{var J=C.return;J!==null?(Fe=J,yd(J)):Fe=null}break t}}ot=0,ei=null,sl(i,r,y,5);break;case 6:ot=0,ei=null,sl(i,r,y,6);break;case 8:Kp(),Dt=6;break e;default:throw Error(s(462))}}jN();break}catch(se){d_(i,se)}while(!0);return Is=Ua=null,ee.H=u,ee.A=p,it=o,Fe!==null?0:(pt=null,qe=0,Oh(),Dt)}function jN(){for(;Fe!==null&&!va();)g_(Fe)}function g_(i){var r=zx(i.alternate,i,zs);i.memoizedProps=i.pendingProps,r===null?yd(i):Fe=r}function y_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Mx(o,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Mx(o,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:lp(r);default:Fx(o,r),r=Fe=pb(r,zs),r=zx(o,r,zs)}i.memoizedProps=i.pendingProps,r===null?yd(i):Fe=r}function sl(i,r,o,u){Is=Ua=null,lp(r),Yo=null,wc=0;var p=r.return;try{if(_N(i,p,r,o,qe)){Dt=1,sd(i,fi(o,i.current)),Fe=null;return}}catch(y){if(p!==null)throw Fe=p,y;Dt=1,sd(i,fi(o,i.current)),Fe=null;return}r.flags&32768?(Xe||u===1?i=!0:el||(qe&536870912)!==0?i=!1:(Dr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),v_(r,i)):yd(r)}function yd(i){var r=i;do{if((r.flags&32768)!==0){v_(r,Dr);return}i=r.return;var o=TN(r.alternate,r,zs);if(o!==null){Fe=o;return}if(r=r.sibling,r!==null){Fe=r;return}Fe=r=i}while(r!==null);Dt===0&&(Dt=5)}function v_(i,r){do{var o=SN(i.alternate,i);if(o!==null){o.flags&=32767,Fe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Fe=i;return}Fe=i=o}while(i!==null);Dt=6,Fe=null}function b_(i,r,o,u,p,y,w,C,B){i.cancelPendingCommit=null;do vd();while(Jt!==0);if((it&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(y=r.lanes|r.childLanes,y|=Vm,Am(i,o,y,w,C,B),i===pt&&(Fe=pt=null,qe=0),nl=r,Mr=i,Bs=o,Hp=y,qp=p,l_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PN(Xi,function(){return T_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,p=ue.p,ue.p=2,w=it,it|=4;try{AN(i,r,o)}finally{it=w,ue.p=p,ee.T=u}}Jt=1,x_(),__(),w_()}}function x_(){if(Jt===1){Jt=0;var i=Mr,r=nl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=ue.p;ue.p=2;var p=it;it|=4;try{e_(r,i);var y=rg,w=ab(i.containerInfo),C=y.focusedElem,B=y.selectionRange;if(w!==C&&C&&C.ownerDocument&&rb(C.ownerDocument.documentElement,C)){if(B!==null&&Im(C)){var J=B.start,se=B.end;if(se===void 0&&(se=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(se,C.value.length);else{var ce=C.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var ie=Z.getSelection(),ye=C.textContent.length,Ae=Math.min(B.start,ye),ft=B.end===void 0?Ae:Math.min(B.end,ye);!ie.extend&&Ae>ft&&(w=ft,ft=Ae,Ae=w);var G=sb(C,Ae),q=sb(C,ft);if(G&&q&&(ie.rangeCount!==1||ie.anchorNode!==G.node||ie.anchorOffset!==G.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var W=ce.createRange();W.setStart(G.node,G.offset),ie.removeAllRanges(),Ae>ft?(ie.addRange(W),ie.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ie.addRange(W))}}}}for(ce=[],ie=C;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var ae=ce[C];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Id=!!sg,rg=sg=null}finally{it=p,ue.p=u,ee.T=o}}i.current=r,Jt=2}}function __(){if(Jt===2){Jt=0;var i=Mr,r=nl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=ue.p;ue.p=2;var p=it;it|=4;try{Xx(i,r.alternate,r)}finally{it=p,ue.p=u,ee.T=o}}Jt=3}}function w_(){if(Jt===4||Jt===3){Jt=0,or();var i=Mr,r=nl,o=Bs,u=l_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Jt=5:(Jt=0,nl=Mr=null,E_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(jr=null),Ts(o),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(bn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=ee.T,p=ue.p,ue.p=2,ee.T=null;try{for(var y=i.onRecoverableError,w=0;w<u.length;w++){var C=u[w];y(C.value,{componentStack:C.stack})}}finally{ee.T=r,ue.p=p}}(Bs&3)!==0&&vd(),ms(i),p=i.pendingLanes,(o&261930)!==0&&(p&42)!==0?i===Gp?Uc++:(Uc=0,Gp=i):Uc=0,zc(0)}}function E_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,xc(r)))}function vd(){return x_(),__(),w_(),T_()}function T_(){if(Jt!==5)return!1;var i=Mr,r=Hp;Hp=0;var o=Ts(Bs),u=ee.T,p=ue.p;try{ue.p=32>o?32:o,ee.T=null,o=qp,qp=null;var y=Mr,w=Bs;if(Jt=0,nl=Mr=null,Bs=0,(it&6)!==0)throw Error(s(331));var C=it;if(it|=4,r_(y.current),n_(y,y.current,w,o),it=C,zc(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(bn,y)}catch{}return!0}finally{ue.p=p,ee.T=u,E_(i,r)}}function S_(i,r,o){r=fi(o,r),r=Ep(i.stateNode,r,2),i=Rr(i,r,2),i!==null&&(wa(i,2),ms(i))}function lt(i,r,o){if(i.tag===3)S_(i,i,o);else for(;r!==null;){if(r.tag===3){S_(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(jr===null||!jr.has(u))){i=fi(o,i),o=Ax(2),u=Rr(r,o,2),u!==null&&(Rx(o,u,r,i),wa(u,2),ms(u));break}}r=r.return}}function $p(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new NN;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(zp=!0,p.add(o),i=MN.bind(null,i,r,o),r.then(i,i))}function MN(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,pt===i&&(qe&o)===o&&(Dt===4||Dt===3&&(qe&62914560)===qe&&300>sn()-dd?(it&2)===0&&il(i,0):Bp|=o,tl===qe&&(tl=0)),ms(i)}function A_(i,r){r===0&&(r=Eo()),i=Oa(i,r),i!==null&&(wa(i,r),ms(i))}function VN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),A_(i,o)}function ON(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),A_(i,o)}function PN(i,r){return mt(i,r)}var bd=null,rl=null,Xp=!1,xd=!1,Qp=!1,Or=0;function ms(i){i!==rl&&i.next===null&&(rl===null?bd=rl=i:rl=rl.next=i),xd=!0,Xp||(Xp=!0,UN())}function zc(i,r){if(!Qp&&xd){Qp=!0;do for(var o=!1,u=bd;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var y=0;else{var w=u.suspendedLanes,C=u.pingedLanes;y=(1<<31-At(42|i)+1)-1,y&=p&~(w&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,I_(u,y))}else y=qe,y=oi(u,u===pt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Mn(u,y)||(o=!0,I_(u,y));u=u.next}while(o);Qp=!1}}function LN(){R_()}function R_(){xd=Xp=!1;var i=0;Or!==0&&XN()&&(i=Or);for(var r=sn(),o=null,u=bd;u!==null;){var p=u.next,y=C_(u,r);y===0?(u.next=null,o===null?bd=p:o.next=p,p===null&&(rl=o)):(o=u,(i!==0||(y&3)!==0)&&(xd=!0)),u=p}Jt!==0&&Jt!==5||zc(i),Or!==0&&(Or=0)}function C_(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var w=31-At(y),C=1<<w,B=p[w];B===-1?((C&o)===0||(C&u)!==0)&&(p[w]=wo(C,r)):B<=r&&(i.expiredLanes|=C),y&=~C}if(r=pt,o=qe,o=oi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(ot===2||ot===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&kn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Mn(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&kn(u),Ts(o)){case 2:case 8:o=lr;break;case 32:o=Xi;break;case 268435456:o=Ri;break;default:o=Xi}return u=N_.bind(null,i),o=mt(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&kn(u),i.callbackPriority=2,i.callbackNode=null,2}function N_(i,r){if(Jt!==0&&Jt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(vd()&&i.callbackNode!==o)return null;var u=qe;return u=oi(i,i===pt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(u_(i,u,r),C_(i,sn()),i.callbackNode!=null&&i.callbackNode===o?N_.bind(null,i):null)}function I_(i,r){if(vd())return null;u_(i,r,!0)}function UN(){WN(function(){(it&6)!==0?mt(ba,LN):R_()})}function Wp(){if(Or===0){var i=qo;i===0&&(i=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Or=i}return Or}function D_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:No(""+i)}function k_(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function zN(i,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var y=D_((p[rn]||null).action),w=u.submitter;w&&(r=(r=w[rn]||null)?D_(r.formAction):w.getAttribute("formAction"),r!==null&&(y=r,w=null));var C=new os("action","action",null,u,p);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Or!==0){var B=w?k_(p,w):new FormData(p);yp(o,{pending:!0,data:B,method:p.method,action:y},null,B)}}else typeof y=="function"&&(C.preventDefault(),B=w?k_(p,w):new FormData(p),yp(o,{pending:!0,data:B,method:p.method,action:y},y,B))},currentTarget:p}]})}}for(var Jp=0;Jp<Mm.length;Jp++){var Zp=Mm[Jp],BN=Zp.toLowerCase(),FN=Zp[0].toUpperCase()+Zp.slice(1);Vi(BN,"on"+FN)}Vi(cb,"onAnimationEnd"),Vi(ub,"onAnimationIteration"),Vi(hb,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(sN,"onTransitionRun"),Vi(rN,"onTransitionStart"),Vi(aN,"onTransitionCancel"),Vi(db,"onTransitionEnd"),is("onMouseEnter",["mouseout","mouseover"]),is("onMouseLeave",["mouseout","mouseover"]),is("onPointerEnter",["pointerout","pointerover"]),is("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bc));function j_(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],p=u.event;u=u.listeners;e:{var y=void 0;if(r)for(var w=u.length-1;0<=w;w--){var C=u[w],B=C.instance,J=C.currentTarget;if(C=C.listener,B!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=J;try{y(p)}catch(se){Vh(se)}p.currentTarget=null,y=B}else for(w=0;w<u.length;w++){if(C=u[w],B=C.instance,J=C.currentTarget,C=C.listener,B!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=J;try{y(p)}catch(se){Vh(se)}p.currentTarget=null,y=B}}}}function He(i,r){var o=r[To];o===void 0&&(o=r[To]=new Set);var u=i+"__bubble";o.has(u)||(M_(r,i,2,!1),o.add(u))}function eg(i,r,o){var u=0;r&&(u|=4),M_(o,i,u,r)}var _d="_reactListening"+Math.random().toString(36).slice(2);function tg(i){if(!i[_d]){i[_d]=!0,Zl.forEach(function(o){o!=="selectionchange"&&(HN.has(o)||eg(o,!1,i),eg(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[_d]||(r[_d]=!0,eg("selectionchange",!1,r))}}function M_(i,r,o,u){switch(cw(r)){case 2:var p=yI;break;case 8:p=vI;break;default:p=gg}o=p.bind(null,r,o,i),p=void 0,!Ca||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(r,o,{capture:!0,passive:p}):i.addEventListener(r,o,!0):p!==void 0?i.addEventListener(r,o,{passive:p}):i.addEventListener(r,o,!1)}function ng(i,r,o,u,p){var y=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var C=u.stateNode.containerInfo;if(C===p)break;if(w===4)for(w=u.return;w!==null;){var B=w.tag;if((B===3||B===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;C!==null;){if(w=es(C),w===null)return;if(B=w.tag,B===5||B===6||B===26||B===27){u=y=w;continue e}C=C.parentNode}}u=u.return}yr(function(){var J=y,se=ci(o),ce=[];e:{var Z=fb.get(i);if(Z!==void 0){var ie=os,ye=i;switch(i){case"keypress":if(Ia(o)===0)break e;case"keydown":case"keyup":ie=kh;break;case"focusin":ye="focus",ie=ka;break;case"focusout":ye="blur",ie=ka;break;case"beforeblur":case"afterblur":ie=ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_;break;case cb:case ub:case hb:ie=Sh;break;case db:ie=j;break;case"scroll":case"scrollend":ie=hc;break;case"wheel":ie=te;break;case"copy":case"cut":case"paste":ie=Ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Rs;break;case"toggle":case"beforetoggle":ie=Oe}var Ae=(r&4)!==0,ft=!Ae&&(i==="scroll"||i==="scrollend"),G=Ae?Z!==null?Z+"Capture":null:Z;Ae=[];for(var q=J,W;q!==null;){var ae=q;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||G===null||(ae=Di(q,G),ae!=null&&Ae.push(Fc(q,ae,W))),ft)break;q=q.return}0<Ae.length&&(Z=new ie(Z,ye,null,o,se),ce.push({event:Z,listeners:Ae}))}}if((r&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",Z&&o!==lc&&(ye=o.relatedTarget||o.fromElement)&&(es(ye)||ye[Ji]))break e;if((ie||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,ie?(ye=o.relatedTarget||o.toElement,ie=J,ye=ye?es(ye):null,ye!==null&&(ft=l(ye),Ae=ye.tag,ye!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(ie=null,ye=J),ie!==ye)){if(Ae=dc,ae="onMouseLeave",G="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=Rs,ae="onPointerLeave",G="onPointerEnter",q="pointer"),ft=ie==null?Z:$n(ie),W=ye==null?Z:$n(ye),Z=new Ae(ae,q+"leave",ie,o,se),Z.target=ft,Z.relatedTarget=W,ae=null,es(se)===J&&(Ae=new Ae(G,q+"enter",ye,o,se),Ae.target=W,Ae.relatedTarget=ft,ae=Ae),ft=ae,ie&&ye)t:{for(Ae=qN,G=ie,q=ye,W=0,ae=G;ae;ae=Ae(ae))W++;ae=0;for(var Te=q;Te;Te=Ae(Te))ae++;for(;0<W-ae;)G=Ae(G),W--;for(;0<ae-W;)q=Ae(q),ae--;for(;W--;){if(G===q||q!==null&&G===q.alternate){Ae=G;break t}G=Ae(G),q=Ae(q)}Ae=null}else Ae=null;ie!==null&&V_(ce,Z,ie,Ae,!1),ye!==null&&ft!==null&&V_(ce,ft,ye,Ae,!0)}}e:{if(Z=J?$n(J):window,ie=Z.nodeName&&Z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&Z.type==="file")var Ze=Jv;else if(Qv(Z))if(Zv)Ze=tN;else{Ze=ZC;var we=JC}else ie=Z.nodeName,!ie||ie.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&Co(J.elementType)&&(Ze=Jv):Ze=eN;if(Ze&&(Ze=Ze(i,J))){Wv(ce,Ze,o,se);break e}we&&we(i,Z,J),i==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&rc(Z,"number",Z.value)}switch(we=J?$n(J):window,i){case"focusin":(Qv(we)||we.contentEditable==="true")&&(Oo=we,Dm=J,yc=null);break;case"focusout":yc=Dm=Oo=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,ob(ce,o,se);break;case"selectionchange":if(iN)break;case"keydown":case"keyup":ob(ce,o,se)}var Le;if(nt)e:{switch(i){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Vo?ja(i,o)&&(Ge="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(us&&o.locale!=="ko"&&(Vo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Vo&&(Le=uc()):(as=se,cc="value"in as?as.value:as.textContent,Vo=!0)),we=wd(J,Ge),0<we.length&&(Ge=new cs(Ge,i,null,o,se),ce.push({event:Ge,listeners:we}),Le?Ge.data=Le:(Le=Mo(o),Le!==null&&(Ge.data=Le)))),(Le=hi?$C(i,o):XC(i,o))&&(Ge=wd(J,"onBeforeInput"),0<Ge.length&&(we=new cs("onBeforeInput","beforeinput",null,o,se),ce.push({event:we,listeners:Ge}),we.data=Le)),zN(ce,i,J,o,se)}j_(ce,r)})}function Fc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function wd(i,r){for(var o=r+"Capture",u=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Di(i,o),p!=null&&u.unshift(Fc(i,p,y)),p=Di(i,r),p!=null&&u.push(Fc(i,p,y))),i.tag===3)return u;i=i.return}return[]}function qN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function V_(i,r,o,u,p){for(var y=r._reactName,w=[];o!==null&&o!==u;){var C=o,B=C.alternate,J=C.stateNode;if(C=C.tag,B!==null&&B===u)break;C!==5&&C!==26&&C!==27||J===null||(B=J,p?(J=Di(o,y),J!=null&&w.unshift(Fc(o,J,B))):p||(J=Di(o,y),J!=null&&w.push(Fc(o,J,B)))),o=o.return}w.length!==0&&i.push({event:r,listeners:w})}var GN=/\r\n?/g,KN=/\u0000|\uFFFD/g;function O_(i){return(typeof i=="string"?i:""+i).replace(GN,`
`).replace(KN,"")}function P_(i,r){return r=O_(r),O_(i)===r}function dt(i,r,o,u,p,y){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||On(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&On(i,""+u);break;case"className":Xn(i,"class",u);break;case"tabIndex":Xn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(i,o,u);break;case"style":oc(i,u,y);break;case"data":if(r!=="object"){Xn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=No(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(r!=="input"&&dt(i,r,"name",p.name,p,null),dt(i,r,"formEncType",p.formEncType,p,null),dt(i,r,"formMethod",p.formMethod,p,null),dt(i,r,"formTarget",p.formTarget,p,null)):(dt(i,r,"encType",p.encType,p,null),dt(i,r,"method",p.method,p,null),dt(i,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=No(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ii);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=No(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":He("beforetoggle",i),He("toggle",i),Ao(i,"popover",u);break;case"xlinkActuate":Bt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ao(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wh.get(o)||o,Ao(i,o,u))}}function ig(i,r,o,u,p,y){switch(o){case"style":oc(i,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?On(i,u):(typeof u=="number"||typeof u=="bigint")&&On(i,""+u);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),y=i[rn]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(r,y,p),typeof u=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,p);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Ao(i,o,u)}}}function fn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var u=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(i,r,y,w,o,null)}}p&&dt(i,r,"srcSet",o.srcSet,o,null),u&&dt(i,r,"src",o.src,o,null);return;case"input":He("invalid",i);var C=y=w=p=null,B=null,J=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":p=se;break;case"type":w=se;break;case"checked":B=se;break;case"defaultChecked":J=se;break;case"value":y=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:dt(i,r,u,se,o,null)}}bh(i,y,C,B,J,w,p,!1);return;case"select":He("invalid",i),u=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":w=C;break;case"multiple":u=C;default:dt(i,r,p,C,o,null)}r=y,o=w,i.multiple=!!u,r!=null?fr(i,!!u,r,!1):o!=null&&fr(i,!!u,o,!0);return;case"textarea":He("invalid",i),y=p=u=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":u=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:dt(i,r,w,C,o,null)}mr(i,u,p,y);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:dt(i,r,B,u,o,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(u=0;u<Bc.length;u++)He(Bc[u],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(u=o[J],u!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:dt(i,r,J,u,o,null)}return;default:if(Co(r)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&ig(i,r,se,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&dt(i,r,C,u,o,null))}function YN(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,C=null,B=null,J=null,se=null;for(ie in o){var ce=o[ie];if(o.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":B=ce;default:u.hasOwnProperty(ie)||dt(i,r,ie,null,u,ce)}}for(var Z in u){var ie=u[Z];if(ce=o[Z],u.hasOwnProperty(Z)&&(ie!=null||ce!=null))switch(Z){case"type":y=ie;break;case"name":p=ie;break;case"checked":J=ie;break;case"defaultChecked":se=ie;break;case"value":w=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:ie!==ce&&dt(i,r,Z,ie,u,ce)}}Ro(i,w,C,B,J,se,y,p);return;case"select":ie=w=C=Z=null;for(y in o)if(B=o[y],o.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":ie=B;default:u.hasOwnProperty(y)||dt(i,r,y,null,u,B)}for(p in u)if(y=u[p],B=o[p],u.hasOwnProperty(p)&&(y!=null||B!=null))switch(p){case"value":Z=y;break;case"defaultValue":C=y;break;case"multiple":w=y;default:y!==B&&dt(i,r,p,y,u,B)}r=C,o=w,u=ie,Z!=null?fr(i,!!o,Z,!1):!!u!=!!o&&(r!=null?fr(i,!!o,r,!0):fr(i,!!o,o?[]:"",!1));return;case"textarea":ie=Z=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:dt(i,r,C,null,u,p)}for(w in u)if(p=u[w],y=o[w],u.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":Z=p;break;case"defaultValue":ie=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==y&&dt(i,r,w,p,u,y)}xh(i,Z,ie);return;case"option":for(var ye in o)if(Z=o[ye],o.hasOwnProperty(ye)&&Z!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":i.selected=!1;break;default:dt(i,r,ye,null,u,Z)}for(B in u)if(Z=u[B],ie=o[B],u.hasOwnProperty(B)&&Z!==ie&&(Z!=null||ie!=null))switch(B){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:dt(i,r,B,Z,u,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)Z=o[Ae],o.hasOwnProperty(Ae)&&Z!=null&&!u.hasOwnProperty(Ae)&&dt(i,r,Ae,null,u,Z);for(J in u)if(Z=u[J],ie=o[J],u.hasOwnProperty(J)&&Z!==ie&&(Z!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:dt(i,r,J,Z,u,ie)}return;default:if(Co(r)){for(var ft in o)Z=o[ft],o.hasOwnProperty(ft)&&Z!==void 0&&!u.hasOwnProperty(ft)&&ig(i,r,ft,void 0,u,Z);for(se in u)Z=u[se],ie=o[se],!u.hasOwnProperty(se)||Z===ie||Z===void 0&&ie===void 0||ig(i,r,se,Z,u,ie);return}}for(var G in o)Z=o[G],o.hasOwnProperty(G)&&Z!=null&&!u.hasOwnProperty(G)&&dt(i,r,G,null,u,Z);for(ce in u)Z=u[ce],ie=o[ce],!u.hasOwnProperty(ce)||Z===ie||Z==null&&ie==null||dt(i,r,ce,Z,u,ie)}function L_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $N(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],y=p.transferSize,w=p.initiatorType,C=p.duration;if(y&&C&&L_(w)){for(w=0,C=p.responseEnd,u+=1;u<o.length;u++){var B=o[u],J=B.startTime;if(J>C)break;var se=B.transferSize,ce=B.initiatorType;se&&L_(ce)&&(B=B.responseEnd,w+=se*(B<C?1:(C-J)/(B-J)))}if(--u,r+=8*(y+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var sg=null,rg=null;function Ed(i){return i.nodeType===9?i:i.ownerDocument}function U_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function ag(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var og=null;function XN(){var i=window.event;return i&&i.type==="popstate"?i===og?!1:(og=i,!0):(og=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,QN=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,WN=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(i){return F_.resolve(null).then(i).catch(JN)}:B_;function JN(i){setTimeout(function(){throw i})}function Pr(i){return i==="head"}function H_(i,r){var o=r,u=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(p),cl(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Hc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Hc(o);for(var y=o.firstChild;y;){var w=y.nextSibling,C=y.nodeName;y[Zi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=w}}else o==="body"&&Hc(i.ownerDocument.body);o=p}while(o);cl(r)}function q_(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function lg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":lg(o),So(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ZN(i,r,o,u){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Zi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=vi(i.nextSibling),i===null)break}return null}function eI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=vi(i.nextSibling),i===null))return null;return i}function G_(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=vi(i.nextSibling),i===null))return null;return i}function cg(i){return i.data==="$?"||i.data==="$~"}function ug(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function tI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function vi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var hg=null;function K_(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return vi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Y_(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function $_(i,r,o){switch(r=Ed(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Hc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);So(i)}var bi=new Map,X_=new Set;function Td(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=ue.d;ue.d={f:nI,r:iI,D:sI,C:rI,L:aI,m:oI,X:cI,S:lI,M:uI};function nI(){var i=Fs.f(),r=pd();return i||r}function iI(i){var r=li(i);r!==null&&r.tag===5&&r.type==="form"?dx(r):Fs.r(i)}var al=typeof document>"u"?null:document;function Q_(i,r,o){var u=al;if(u&&typeof r=="string"&&r){var p=Vn(r);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),X_.has(p)||(X_.add(p),i={rel:i,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),fn(r,"link",i),zt(r),u.head.appendChild(r)))}}function sI(i){Fs.D(i),Q_("dns-prefetch",i,null)}function rI(i,r){Fs.C(i,r),Q_("preconnect",i,r)}function aI(i,r,o){Fs.L(i,r,o);var u=al;if(u&&i&&r){var p='link[rel="preload"][as="'+Vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Vn(o.imageSizes)+'"]')):p+='[href="'+Vn(i)+'"]';var y=p;switch(r){case"style":y=ol(i);break;case"script":y=ll(i)}bi.has(y)||(i=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),bi.set(y,i),u.querySelector(p)!==null||r==="style"&&u.querySelector(qc(y))||r==="script"&&u.querySelector(Gc(y))||(r=u.createElement("link"),fn(r,"link",i),zt(r),u.head.appendChild(r)))}}function oI(i,r){Fs.m(i,r);var o=al;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Vn(u)+'"][href="'+Vn(i)+'"]',y=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ll(i)}if(!bi.has(y)&&(i=b({rel:"modulepreload",href:i},r),bi.set(y,i),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gc(y)))return}u=o.createElement("link"),fn(u,"link",i),zt(u),o.head.appendChild(u)}}}function lI(i,r,o){Fs.S(i,r,o);var u=al;if(u&&i){var p=ts(u).hoistableStyles,y=ol(i);r=r||"default";var w=p.get(y);if(!w){var C={loading:0,preload:null};if(w=u.querySelector(qc(y)))C.loading=5;else{i=b({rel:"stylesheet",href:i,"data-precedence":r},o),(o=bi.get(y))&&dg(i,o);var B=w=u.createElement("link");zt(B),fn(B,"link",i),B._p=new Promise(function(J,se){B.onload=J,B.onerror=se}),B.addEventListener("load",function(){C.loading|=1}),B.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Sd(w,r,u)}w={type:"stylesheet",instance:w,count:1,state:C},p.set(y,w)}}}function cI(i,r){Fs.X(i,r);var o=al;if(o&&i){var u=ts(o).hoistableScripts,p=ll(i),y=u.get(p);y||(y=o.querySelector(Gc(p)),y||(i=b({src:i,async:!0},r),(r=bi.get(p))&&fg(i,r),y=o.createElement("script"),zt(y),fn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function uI(i,r){Fs.M(i,r);var o=al;if(o&&i){var u=ts(o).hoistableScripts,p=ll(i),y=u.get(p);y||(y=o.querySelector(Gc(p)),y||(i=b({src:i,async:!0,type:"module"},r),(r=bi.get(p))&&fg(i,r),y=o.createElement("script"),zt(y),fn(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(p,y))}}function W_(i,r,o,u){var p=(p=Re.current)?Td(p):null;if(!p)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=ol(o.href),o=ts(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ol(o.href);var y=ts(p).hoistableStyles,w=y.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,w),(y=p.querySelector(qc(i)))&&!y._p&&(w.instance=y,w.state.loading=5),bi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},bi.set(i,o),y||hI(p,i,o,w.state))),r&&u===null)throw Error(s(528,""));return w}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ll(o),o=ts(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ol(i){return'href="'+Vn(i)+'"'}function qc(i){return'link[rel="stylesheet"]['+i+"]"}function J_(i){return b({},i,{"data-precedence":i.precedence,precedence:null})}function hI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),fn(r,"link",o),zt(r),i.head.appendChild(r))}function ll(i){return'[src="'+Vn(i)+'"]'}function Gc(i){return"script[async]"+i}function Z_(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Vn(o.href)+'"]');if(u)return r.instance=u,zt(u),u;var p=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),zt(u),fn(u,"style",p),Sd(u,o.precedence,i),r.instance=u;case"stylesheet":p=ol(o.href);var y=i.querySelector(qc(p));if(y)return r.state.loading|=4,r.instance=y,zt(y),y;u=J_(o),(p=bi.get(p))&&dg(u,p),y=(i.ownerDocument||i).createElement("link"),zt(y);var w=y;return w._p=new Promise(function(C,B){w.onload=C,w.onerror=B}),fn(y,"link",u),r.state.loading|=4,Sd(y,o.precedence,i),r.instance=y;case"script":return y=ll(o.src),(p=i.querySelector(Gc(y)))?(r.instance=p,zt(p),p):(u=o,(p=bi.get(y))&&(u=b({},o),fg(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),zt(p),fn(p,"link",u),i.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Sd(u,o.precedence,i));return r.instance}function Sd(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,y=p,w=0;w<u.length;w++){var C=u[w];if(C.dataset.precedence===r)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function dg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function fg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ad=null;function ew(i,r,o){if(Ad===null){var u=new Map,p=Ad=new Map;p.set(o,u)}else p=Ad,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[Zi]||y[Ut]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(r)||"";w=i+w;var C=u.get(w);C?C.push(y):u.set(w,[y])}}return u}function tw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function dI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function fI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=ol(u.href),y=r.querySelector(qc(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Rd.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=y,zt(y);return}y=r.ownerDocument||r,u=J_(u),(p=bi.get(p))&&dg(u,p),y=y.createElement("link"),zt(y);var w=y;w._p=new Promise(function(C,B){w.onload=C,w.onerror=B}),fn(y,"link",u),o.instance=y}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Rd.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var mg=0;function mI(i,r){return i.stylesheets&&i.count===0&&Nd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&Nd(i,i.stylesheets),i.unsuspend){var y=i.unsuspend;i.unsuspend=null,y()}},6e4+r);0<i.imgBytes&&mg===0&&(mg=62500*$N());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Nd(i,i.stylesheets),i.unsuspend)){var y=i.unsuspend;i.unsuspend=null,y()}},(i.imgBytes>mg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cd=null;function Nd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cd=new Map,r.forEach(pI,i),Cd=null,Rd.call(i))}function pI(i,r){if(!(r.state.loading&4)){var o=Cd.get(i);if(o)var u=o.get(null);else{o=new Map,Cd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}p=r.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||u,y===u&&o.set(null,p),o.set(w,p),this.count++,u=Rd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),r.state.loading|=4}}var Kc={$$typeof:V,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function gI(i,r,o,u,p,y,w,C,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function iw(i,r,o,u,p,y,w,C,B,J,se,ce){return i=new gI(i,r,o,w,B,J,se,ce,C),r=1,y===!0&&(r|=24),y=Wn(3,null,null,r),i.current=y,y.stateNode=i,r=Ym(),r.refCount++,i.pooledCache=r,r.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:r},Wm(y),i}function sw(i){return i?(i=Uo,i):Uo}function rw(i,r,o,u,p,y){p=sw(p),u.context===null?u.context=p:u.pendingContext=p,u=Ar(r),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Rr(i,u,r),o!==null&&(Bn(o,i,r),Tc(o,i,r))}function aw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function pg(i,r){aw(i,r),(i=i.alternate)&&aw(i,r)}function ow(i){if(i.tag===13||i.tag===31){var r=Oa(i,67108864);r!==null&&Bn(r,i,67108864),pg(i,67108864)}}function lw(i){if(i.tag===13||i.tag===31){var r=ni();r=Ta(r);var o=Oa(i,r);o!==null&&Bn(o,i,r),pg(i,r)}}var Id=!0;function yI(i,r,o,u){var p=ee.T;ee.T=null;var y=ue.p;try{ue.p=2,gg(i,r,o,u)}finally{ue.p=y,ee.T=p}}function vI(i,r,o,u){var p=ee.T;ee.T=null;var y=ue.p;try{ue.p=8,gg(i,r,o,u)}finally{ue.p=y,ee.T=p}}function gg(i,r,o,u){if(Id){var p=yg(u);if(p===null)ng(i,r,u,Dd,o),uw(i,u);else if(xI(p,i,r,o,u))u.stopPropagation();else if(uw(i,u),r&4&&-1<bI.indexOf(i)){for(;p!==null;){var y=li(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Yn(y.pendingLanes);if(w!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var B=1<<31-At(w);C.entanglements[1]|=B,w&=~B}ms(y),(it&6)===0&&(fd=sn()+500,zc(0))}}break;case 31:case 13:C=Oa(y,2),C!==null&&Bn(C,y,2),pd(),pg(y,2)}if(y=yg(u),y===null&&ng(i,r,u,Dd,o),y===p)break;p=y}p!==null&&u.stopPropagation()}else ng(i,r,u,null,o)}}function yg(i){return i=ci(i),vg(i)}var Dd=null;function vg(i){if(Dd=null,i=es(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Dd=i,null}function cw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($i()){case ba:return 2;case lr:return 8;case Xi:case xa:return 32;case Ri:return 268435456;default:return 32}default:return 32}}var bg=!1,Lr=null,Ur=null,zr=null,Yc=new Map,$c=new Map,Br=[],bI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uw(i,r){switch(i){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Yc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(r.pointerId)}}function Xc(i,r,o,u,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[p]},r!==null&&(r=li(r),r!==null&&ow(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),i)}function xI(i,r,o,u,p){switch(r){case"focusin":return Lr=Xc(Lr,i,r,o,u,p),!0;case"dragenter":return Ur=Xc(Ur,i,r,o,u,p),!0;case"mouseover":return zr=Xc(zr,i,r,o,u,p),!0;case"pointerover":var y=p.pointerId;return Yc.set(y,Xc(Yc.get(y)||null,i,r,o,u,p)),!0;case"gotpointercapture":return y=p.pointerId,$c.set(y,Xc($c.get(y)||null,i,r,o,u,p)),!0}return!1}function hw(i){var r=es(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Ci(i.priority,function(){lw(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Ci(i.priority,function(){lw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=yg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);lc=u,o.target.dispatchEvent(u),lc=null}else return r=li(o),r!==null&&ow(r),i.blockedOn=o,!1;r.shift()}return!0}function dw(i,r,o){kd(i)&&o.delete(r)}function _I(){bg=!1,Lr!==null&&kd(Lr)&&(Lr=null),Ur!==null&&kd(Ur)&&(Ur=null),zr!==null&&kd(zr)&&(zr=null),Yc.forEach(dw),$c.forEach(dw)}function jd(i,r){i.blockedOn===r&&(i.blockedOn=null,bg||(bg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_I)))}var Md=null;function fw(i){Md!==i&&(Md=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Md===i&&(Md=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],p=i[r+2];if(typeof u!="function"){if(vg(u||o)===null)continue;break}var y=li(o);y!==null&&(i.splice(r,3),r-=3,yp(y,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function cl(i){function r(B){return jd(B,i)}Lr!==null&&jd(Lr,i),Ur!==null&&jd(Ur,i),zr!==null&&jd(zr,i),Yc.forEach(r),$c.forEach(r);for(var o=0;o<Br.length;o++){var u=Br[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Br.length&&(o=Br[0],o.blockedOn===null);)hw(o),o.blockedOn===null&&Br.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],y=o[u+1],w=p[rn]||null;if(typeof y=="function")w||fw(o);else if(w){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[rn]||null)C=w.formAction;else if(vg(p)!==null)continue}else C=w.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),fw(o)}}}function mw(){function i(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function xg(i){this._internalRoot=i}Vd.prototype.render=xg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=ni();rw(o,u,i,r,null,null)},Vd.prototype.unmount=xg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;rw(i.current,2,null,i,null,null),pd(),r[Ji]=null}};function Vd(i){this._internalRoot=i}Vd.prototype.unstable_scheduleHydration=function(i){if(i){var r=ph();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Br.length&&r!==0&&r<Br[o].priority;o++);Br.splice(o,0,i),o===0&&hw(i)}};var pw=e.version;if(pw!=="19.2.4")throw Error(s(527,pw,"19.2.4"));ue.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var wI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{bn=Od.inject(wI),Wt=Od}catch{}}return Wc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",p=wx,y=Ex,w=Tx;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError)),r=iw(i,1,!1,null,null,o,u,null,p,y,w,mw),i[Ji]=r.current,tg(i),new xg(r)},Wc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,p="",y=wx,w=Ex,C=Tx,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),r=iw(i,1,!0,r,o??null,u,p,B,y,w,C,mw),r.context=sw(null),o=r.current,u=ni(),u=Ta(u),p=Ar(u),p.callback=null,Rr(o,p,u),o=u,r.current.lanes=o,wa(r,o),ms(r),i[Ji]=r.current,tg(i),new Vd(r)},Wc.version="19.2.4",Wc}var Sw;function jI(){if(Sw)return Eg.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Eg.exports=kI(),Eg.exports}var MI=jI();const VI=UT(MI);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Aw="popstate";function OI(t={}){function e(s,a){let{pathname:l,search:c,hash:h}=s.location;return cy("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ru(a)}return LI(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PI(){return Math.random().toString(36).substring(2,10)}function Rw(t,e){return{usr:t.state,key:t.key,idx:e}}function cy(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ml(e):e,state:n,key:e&&e.key||s||PI()}}function Ru({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ml(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function LI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,h="POP",d=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function b(){h="POP";let k=v(),M=k==null?null:k-m;m=k,d&&d({action:h,location:I.location,delta:M})}function x(k,M){h="PUSH";let z=cy(I.location,k,M);m=v()+1;let V=Rw(z,m),$=I.createHref(z);try{c.pushState(V,"",$)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;a.location.assign($)}l&&d&&d({action:h,location:I.location,delta:1})}function T(k,M){h="REPLACE";let z=cy(I.location,k,M);m=v();let V=Rw(z,m),$=I.createHref(z);c.replaceState(V,"",$),l&&d&&d({action:h,location:I.location,delta:0})}function R(k){return UI(k)}let I={get action(){return h},get location(){return t(a,c)},listen(k){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Aw,b),d=k,()=>{a.removeEventListener(Aw,b),d=null}},createHref(k){return e(a,k)},createURL:R,encodeLocation(k){let M=R(k);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:x,replace:T,go(k){return c.go(k)}};return I}function UI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ru(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function FT(t,e,n="/"){return zI(t,e,n,!1)}function zI(t,e,n,s){let a=typeof e=="string"?Ml(e):e,l=Js(a.pathname||"/",n);if(l==null)return null;let c=HT(t);BI(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let m=JI(l);h=QI(c[d],m,s)}return h}function HT(t,e=[],n=[],s="",a=!1){let l=(c,h,d=a,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&d)return;St(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=$s([s,v.relativePath]),x=n.concat(v);c.children&&c.children.length>0&&(St(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),HT(c.children,e,x,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:$I(b,c.index),routesMeta:x})};return t.forEach((c,h)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))l(c,h);else for(let m of qT(c.path))l(c,h,!0,m)}),e}function qT(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=qT(s.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function BI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var FI=/^:[\w-]+$/,HI=3,qI=2,GI=1,KI=10,YI=-2,Cw=t=>t==="*";function $I(t,e){let n=t.split("/"),s=n.length;return n.some(Cw)&&(s+=YI),e&&(s+=qI),n.filter(a=>!Cw(a)).reduce((a,l)=>a+(FI.test(l)?HI:l===""?GI:KI),s)}function XI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function QI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],m=h===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=pf({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),x=d.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=pf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:$s([l,b.pathname]),pathnameBase:n3($s([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=$s([l,b.pathnameBase]))}return c}function pf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=WI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:b},x)=>{if(v==="*"){let R=h[x]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const T=h[x];return b&&!T?m[v]=void 0:m[v]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function WI(t,e=!1,n=!0){Gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function JI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Js(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var ZI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function e3(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Ml(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Nw(n.substring(1),"/"):l=Nw(n,e)):l=e,{pathname:l,search:i3(s),hash:s3(a)}}function Nw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Rg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h0(t){let e=t3(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function d0(t,e,n,s=!1){let a;typeof t=="string"?a=Ml(t):(a={...t},St(!a.pathname||!a.pathname.includes("?"),Rg("?","pathname","search",a)),St(!a.pathname||!a.pathname.includes("#"),Rg("#","pathname","hash",a)),St(!a.search||!a.search.includes("#"),Rg("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}h=b>=0?e[b]:"/"}let d=e3(a,h),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}var $s=t=>t.join("/").replace(/\/\/+/g,"/"),n3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),i3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,s3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,r3=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function a3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function o3(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var GT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function KT(t,e){let n=t;if(typeof n!="string"||!ZI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(GT)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=Js(c.pathname,e);c.origin===l.origin&&h!=null?n=h+c.search+c.hash:a=!0}catch{Gi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var YT=["POST","PUT","PATCH","DELETE"];new Set(YT);var l3=["GET",...YT];new Set(l3);var Vl=N.createContext(null);Vl.displayName="DataRouter";var Kf=N.createContext(null);Kf.displayName="DataRouterState";var c3=N.createContext(!1),$T=N.createContext({isTransitioning:!1});$T.displayName="ViewTransition";var u3=N.createContext(new Map);u3.displayName="Fetchers";var h3=N.createContext(null);h3.displayName="Await";var ri=N.createContext(null);ri.displayName="Navigation";var $u=N.createContext(null);$u.displayName="Location";var Yi=N.createContext({outlet:null,matches:[],isDataRoute:!1});Yi.displayName="Route";var f0=N.createContext(null);f0.displayName="RouteError";var XT="REACT_ROUTER_ERROR",d3="REDIRECT",f3="ROUTE_ERROR_RESPONSE";function m3(t){if(t.startsWith(`${XT}:${d3}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function p3(t){if(t.startsWith(`${XT}:${f3}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new r3(e.status,e.statusText,e.data)}catch{}}function g3(t,{relative:e}={}){St(Ol(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(ri),{hash:a,pathname:l,search:c}=Xu(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:$s([n,l])),s.createHref({pathname:h,search:c,hash:a})}function Ol(){return N.useContext($u)!=null}function ca(){return St(Ol(),"useLocation() may be used only in the context of a <Router> component."),N.useContext($u).location}var QT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WT(t){N.useContext(ri).static||N.useLayoutEffect(t)}function Yf(){let{isDataRoute:t}=N.useContext(Yi);return t?D3():y3()}function y3(){St(Ol(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Vl),{basename:e,navigator:n}=N.useContext(ri),{matches:s}=N.useContext(Yi),{pathname:a}=ca(),l=JSON.stringify(h0(s)),c=N.useRef(!1);return WT(()=>{c.current=!0}),N.useCallback((d,m={})=>{if(Gi(c.current,QT),!c.current)return;if(typeof d=="number"){n.go(d);return}let v=d0(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$s([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,l,a,t])}var v3=N.createContext(null);function b3(t){let e=N.useContext(Yi).outlet;return N.useMemo(()=>e&&N.createElement(v3.Provider,{value:t},e),[e,t])}function Xu(t,{relative:e}={}){let{matches:n}=N.useContext(Yi),{pathname:s}=ca(),a=JSON.stringify(h0(n));return N.useMemo(()=>d0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function x3(t,e){return JT(t,e)}function JT(t,e,n,s,a){var z;St(Ol(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=N.useContext(ri),{matches:c}=N.useContext(Yi),h=c[c.length-1],d=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",b=h&&h.route;{let V=b&&b.path||"";eS(m,!b||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let x=ca(),T;if(e){let V=typeof e=="string"?Ml(e):e;St(v==="/"||((z=V.pathname)==null?void 0:z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=x;let R=T.pathname||"/",I=R;if(v!=="/"){let V=v.replace(/^\//,"").split("/");I="/"+R.replace(/^\//,"").split("/").slice(V.length).join("/")}let k=FT(t,{pathname:I});Gi(b||k!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Gi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=S3(k&&k.map(V=>Object.assign({},V,{params:Object.assign({},d,V.params),pathname:$s([v,l.encodeLocation?l.encodeLocation(V.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?v:$s([v,l.encodeLocation?l.encodeLocation(V.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:V.pathnameBase])})),c,n,s,a);return e&&M?N.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},M):M}function _3(){let t=I3(),e=a3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:a},n):null,c)}var w3=N.createElement(_3,null),ZT=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=p3(t.digest);n&&(t=n)}let e=t!==void 0?N.createElement(Yi.Provider,{value:this.props.routeContext},N.createElement(f0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(E3,{error:t},e):e}};ZT.contextType=c3;var Cg=new WeakMap;function E3({children:t,error:e}){let{basename:n}=N.useContext(ri);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=m3(e.digest);if(s){let a=Cg.get(e);if(a)throw a;let l=KT(s.location,n);if(GT&&!Cg.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Cg.set(e,c),c}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function T3({routeContext:t,match:e,children:n}){let s=N.useContext(Vl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(Yi.Provider,{value:t},n)}function S3(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n==null?void 0:n.errors;if(c!=null){let v=l.findIndex(b=>b.route.id&&(c==null?void 0:c[b.route.id])!==void 0);St(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,d=-1;if(n)for(let v=0;v<l.length;v++){let b=l[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=v),b.route.id){let{loaderData:x,errors:T}=n,R=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!T||T[b.route.id]===void 0);if(b.route.lazy||R){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let m=n&&s?(v,b)=>{var x,T;s(v,{location:n.location,params:((T=(x=n.matches)==null?void 0:x[0])==null?void 0:T.params)??{},unstable_pattern:o3(n.matches),errorInfo:b})}:void 0;return l.reduceRight((v,b,x)=>{let T,R=!1,I=null,k=null;n&&(T=c&&b.route.id?c[b.route.id]:void 0,I=b.route.errorElement||w3,h&&(d<0&&x===0?(eS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,k=null):d===x&&(R=!0,k=b.route.hydrateFallbackElement||null)));let M=e.concat(l.slice(0,x+1)),z=()=>{let V;return T?V=I:R?V=k:b.route.Component?V=N.createElement(b.route.Component,null):b.route.element?V=b.route.element:V=v,N.createElement(T3,{match:b,routeContext:{outlet:v,matches:M,isDataRoute:n!=null},children:V})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?N.createElement(ZT,{location:n.location,revalidation:n.revalidation,component:I,error:T,children:z(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:m}):z()},null)}function m0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A3(t){let e=N.useContext(Vl);return St(e,m0(t)),e}function R3(t){let e=N.useContext(Kf);return St(e,m0(t)),e}function C3(t){let e=N.useContext(Yi);return St(e,m0(t)),e}function p0(t){let e=C3(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function N3(){return p0("useRouteId")}function I3(){var s;let t=N.useContext(f0),e=R3("useRouteError"),n=p0("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function D3(){let{router:t}=A3("useNavigate"),e=p0("useNavigate"),n=N.useRef(!1);return WT(()=>{n.current=!0}),N.useCallback(async(a,l={})=>{Gi(n.current,QT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Iw={};function eS(t,e,n){!e&&!Iw[t]&&(Iw[t]=!0,Gi(!1,n))}N.memo(k3);function k3({routes:t,future:e,state:n,onError:s}){return JT(t,void 0,n,s,e)}function j3({to:t,replace:e,state:n,relative:s}){St(Ol(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(ri);Gi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=N.useContext(Yi),{pathname:c}=ca(),h=Yf(),d=d0(t,h0(l),c,s==="path"),m=JSON.stringify(d);return N.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:s})},[h,m,s,e,n]),null}function M3(t){return b3(t.context)}function qs(t){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V3({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){St(!Ol(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:h,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[h,a,l,c]);typeof n=="string"&&(n=Ml(n));let{pathname:m="/",search:v="",hash:b="",state:x=null,key:T="default"}=n,R=N.useMemo(()=>{let I=Js(m,h);return I==null?null:{location:{pathname:I,search:v,hash:b,state:x,key:T},navigationType:s}},[h,m,v,b,x,T,s]);return Gi(R!=null,`<Router basename="${h}"> is not able to match the URL "${m}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:N.createElement(ri.Provider,{value:d},N.createElement($u.Provider,{children:e,value:R}))}function O3({children:t,location:e}){return x3(uy(t),e)}function uy(t,e=[]){let n=[];return N.Children.forEach(t,(s,a)=>{if(!N.isValidElement(s))return;let l=[...e,a];if(s.type===N.Fragment){n.push.apply(n,uy(s.props.children,l));return}St(s.type===qs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=uy(s.props.children,l)),n.push(c)}),n}var Jd="get",Zd="application/x-www-form-urlencoded";function $f(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function P3(t){return $f(t)&&t.tagName.toLowerCase()==="button"}function L3(t){return $f(t)&&t.tagName.toLowerCase()==="form"}function U3(t){return $f(t)&&t.tagName.toLowerCase()==="input"}function z3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function B3(t,e){return t.button===0&&(!e||e==="_self")&&!z3(t)}var Pd=null;function F3(){if(Pd===null)try{new FormData(document.createElement("form"),0),Pd=!1}catch{Pd=!0}return Pd}var H3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(t){return t!=null&&!H3.has(t)?(Gi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zd}"`),null):t}function q3(t,e){let n,s,a,l,c;if(L3(t)){let h=t.getAttribute("action");s=h?Js(h,e):null,n=t.getAttribute("method")||Jd,a=Ng(t.getAttribute("enctype"))||Zd,l=new FormData(t)}else if(P3(t)||U3(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Js(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Jd,a=Ng(t.getAttribute("formenctype"))||Ng(h.getAttribute("enctype"))||Zd,l=new FormData(h,t),!F3()){let{name:m,type:v,value:b}=t;if(v==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if($f(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jd,s=null,a=Zd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function G3(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Js(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function K3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $3(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await K3(l,n);return c.links?c.links():[]}return[]}));return J3(s.flat(1).filter(Y3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Dw(t,e,n,s,a,l){let c=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var v;return n[m].pathname!==d.pathname||((v=n[m].route.path)==null?void 0:v.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,m)=>c(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{var b;let v=s.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(c(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function X3(t,e,{includeHydrateFallback:n}={}){return Q3(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Q3(t){return[...new Set(t)]}function W3(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function J3(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(W3(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function tS(){let t=N.useContext(Vl);return g0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Z3(){let t=N.useContext(Kf);return g0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var y0=N.createContext(void 0);y0.displayName="FrameworkContext";function nS(){let t=N.useContext(y0);return g0(t,"You must render this element inside a <HydratedRouter> element"),t}function eD(t,e){let n=N.useContext(y0),[s,a]=N.useState(!1),[l,c]=N.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let I=M=>{M.forEach(z=>{c(z.isIntersecting)})},k=new IntersectionObserver(I,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[t]),N.useEffect(()=>{if(s){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[s]);let T=()=>{a(!0)},R=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Jc(h,T),onBlur:Jc(d,R),onMouseEnter:Jc(m,T),onMouseLeave:Jc(v,R),onTouchStart:Jc(b,T)}]:[!1,x,{}]}function Jc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tD({page:t,...e}){let{router:n}=tS(),s=N.useMemo(()=>FT(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?N.createElement(iD,{page:t,matches:s,...e}):null}function nD(t){let{manifest:e,routeModules:n}=nS(),[s,a]=N.useState([]);return N.useEffect(()=>{let l=!1;return $3(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function iD({page:t,matches:e,...n}){let s=ca(),{future:a,manifest:l,routeModules:c}=nS(),{basename:h}=tS(),{loaderData:d,matches:m}=Z3(),v=N.useMemo(()=>Dw(t,e,m,l,s,"data"),[t,e,m,l,s]),b=N.useMemo(()=>Dw(t,e,m,l,s,"assets"),[t,e,m,l,s]),x=N.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let I=new Set,k=!1;if(e.forEach(z=>{var $;let V=l.routes[z.route.id];!V||!V.hasLoader||(!v.some(K=>K.route.id===z.route.id)&&z.route.id in d&&(($=c[z.route.id])!=null&&$.shouldRevalidate)||V.hasClientLoader?k=!0:I.add(z.route.id))}),I.size===0)return[];let M=G3(t,h,a.unstable_trailingSlashAwareDataRequests,"data");return k&&I.size>0&&M.searchParams.set("_routes",e.filter(z=>I.has(z.route.id)).map(z=>z.route.id).join(",")),[M.pathname+M.search]},[h,a.unstable_trailingSlashAwareDataRequests,d,s,l,v,e,t,c]),T=N.useMemo(()=>X3(b,l),[b,l]),R=nD(b);return N.createElement(N.Fragment,null,x.map(I=>N.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),T.map(I=>N.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),R.map(({key:I,link:k})=>N.createElement("link",{key:I,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function sD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var rD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rD&&(window.__reactRouterVersion="7.13.0")}catch{}function aD({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=N.useRef();a.current==null&&(a.current=OI({window:s,v5Compat:!0}));let l=a.current,[c,h]=N.useState({action:l.action,location:l.location}),d=N.useCallback(m=>{n===!1?h(m):N.startTransition(()=>h(m))},[n]);return N.useLayoutEffect(()=>l.listen(d),[l,d]),N.createElement(V3,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sS=N.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...T},R){let{basename:I,unstable_useTransitions:k}=N.useContext(ri),M=typeof m=="string"&&iS.test(m),z=KT(m,I);m=z.to;let V=g3(m,{relative:a}),[$,K,Y]=eD(s,T),D=cD(m,{replace:c,state:h,target:d,preventScrollReset:v,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function S(O){e&&e(O),O.defaultPrevented||D(O)}let A=N.createElement("a",{...T,...Y,href:z.absoluteURL||V,onClick:z.isExternal||l?e:S,ref:sD(R,K),target:d,"data-discover":!M&&n==="render"?"true":void 0});return $&&!M?N.createElement(N.Fragment,null,A,N.createElement(tD,{page:V})):A});sS.displayName="Link";var rS=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...m},v){let b=Xu(c,{relative:m.relative}),x=ca(),T=N.useContext(Kf),{navigator:R,basename:I}=N.useContext(ri),k=T!=null&&mD(b)&&h===!0,M=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,z=x.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(z=z.toLowerCase(),V=V?V.toLowerCase():null,M=M.toLowerCase()),V&&I&&(V=Js(V,I)||V);const $=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let K=z===M||!a&&z.startsWith(M)&&z.charAt($)==="/",Y=V!=null&&(V===M||!a&&V.startsWith(M)&&V.charAt(M.length)==="/"),D={isActive:K,isPending:Y,isTransitioning:k},S=K?e:void 0,A;typeof s=="function"?A=s(D):A=[s,K?"active":null,Y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(D):l;return N.createElement(sS,{...m,"aria-current":S,className:A,ref:v,style:O,to:c,viewTransition:h},typeof d=="function"?d(D):d)});rS.displayName="NavLink";var oD=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=Jd,action:h,onSubmit:d,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x,...T},R)=>{let{unstable_useTransitions:I}=N.useContext(ri),k=dD(),M=fD(h,{relative:m}),z=c.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&iS.test(h),$=K=>{if(d&&d(K),K.defaultPrevented)return;K.preventDefault();let Y=K.nativeEvent.submitter,D=(Y==null?void 0:Y.getAttribute("formmethod"))||c,S=()=>k(Y||K.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:l,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:x});I&&n!==!1?N.startTransition(()=>S()):S()};return N.createElement("form",{ref:R,method:z,action:M,onSubmit:s?d:$,...T,"data-discover":!V&&t==="render"?"true":void 0})});oD.displayName="Form";function lD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aS(t){let e=N.useContext(Vl);return St(e,lD(t)),e}function cD(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let m=Yf(),v=ca(),b=Xu(t,{relative:l});return N.useCallback(x=>{if(B3(x,e)){x.preventDefault();let T=n!==void 0?n:Ru(v)===Ru(b),R=()=>m(t,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:h});d?N.startTransition(()=>R()):R()}},[v,m,b,n,s,e,t,a,l,c,h,d])}var uD=0,hD=()=>`__${String(++uD)}__`;function dD(){let{router:t}=aS("useSubmit"),{basename:e}=N.useContext(ri),n=N3(),s=t.fetch,a=t.navigate;return N.useCallback(async(l,c={})=>{let{action:h,method:d,encType:m,formData:v,body:b}=q3(l,e);if(c.navigate===!1){let x=c.fetcherKey||hD();await s(x,n,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||d,formEncType:c.encType||m,flushSync:c.flushSync})}else await a(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:b,formMethod:c.method||d,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function fD(t,{relative:e}={}){let{basename:n}=N.useContext(ri),s=N.useContext(Yi);St(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Xu(t||".",{relative:e})},c=ca();if(t==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(v=>v==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let v=h.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:$s([n,l.pathname])),Ru(l)}function mD(t,{relative:e}={}){let n=N.useContext($T);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=aS("useViewTransitionState"),a=Xu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Js(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Js(n.nextLocation.pathname,s)||n.nextLocation.pathname;return pf(a.pathname,c)!=null||pf(a.pathname,l)!=null}var pD=BT();const gD=()=>{};var kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},yD=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,h=c?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,v=l>>2,b=(l&3)<<4|h>>4;let x=(h&15)<<2|m>>6,T=m&63;d||(T=64,c||(x=64)),s.push(n[v],n[b],n[x],n[T])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||b==null)throw new vD;const x=l<<2|h>>4;if(s.push(x),m!==64){const T=h<<4&240|m>>2;if(s.push(T),b!==64){const R=m<<6&192|b;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bD=function(t){const e=oS(t);return lS.encodeByteArray(e,!0)},gf=function(t){return bD(t).replace(/\./g,"")},cS=function(t){try{return lS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=()=>xD().__FIREBASE_DEFAULTS__,wD=()=>{if(typeof process>"u"||typeof kw>"u")return;const t=kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ED=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cS(t[1]);return e&&JSON.parse(e)},Xf=()=>{try{return gD()||_D()||wD()||ED()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uS=t=>{var e,n;return(n=(e=Xf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TD=t=>{const e=uS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hS=()=>{var t;return(t=Xf())==null?void 0:t.config},dS=t=>{var e;return(e=Xf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gf(JSON.stringify(n)),gf(JSON.stringify(c)),""].join(".")}const fu={};function RD(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function CD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let jw=!1;function mS(t,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||fu[t]===e||fu[t]||jw)return;fu[t]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",l=RD().prod.length>0;function c(){const x=document.getElementById(s);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{jw=!0,c()},x}function v(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=CD(s),T=n("text"),R=document.getElementById(T)||document.createElement("span"),I=n("learnmore"),k=document.getElementById(I)||document.createElement("a"),M=n("preprendIcon"),z=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const V=x.element;h(V),v(k,I);const $=m();d(z,M),V.append(z,R,k,$),document.body.appendChild(V)}l?(R.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ND(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function ID(){var e;const t=(e=Xf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MD(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VD(){return!ID()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OD(){try{return typeof indexedDB=="object"}catch{return!1}}function PD(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="FirebaseError";class rr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=LD,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?UD(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new rr(a,h,s)}}function UD(t,e){return t.replace(zD,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const zD=/\{\$([^}]+)}/g;function BD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(Mw(l)&&Mw(c)){if(!oo(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function iu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function su(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FD(t,e){const n=new HD(t,e);return n.subscribe.bind(n)}class HD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");qD(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Ig),a.error===void 0&&(a.error=Ig),a.complete===void 0&&(a.complete=Ig);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new SD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YD(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KD(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KD(t){return t===Ja?void 0:t}function YD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const XD={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},QD=Ke.INFO,WD={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},JD=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=WD[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v0{constructor(e){this.name=e,this._logLevel=QD,this._logHandler=JD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const ZD=(t,e)=>e.some(n=>t instanceof n);let Vw,Ow;function ek(){return Vw||(Vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tk(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,hy=new WeakMap,gS=new WeakMap,Dg=new WeakMap,b0=new WeakMap;function nk(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Wr(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&pS.set(n,t)}).catch(()=>{}),b0.set(e,t),e}function ik(t){if(hy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});hy.set(t,e)}let dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sk(t){dy=t(dy)}function rk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(kg(this),e,...n);return gS.set(s,e.sort?e.sort():[e]),Wr(s)}:tk().includes(t)?function(...e){return t.apply(kg(this),e),Wr(pS.get(this))}:function(...e){return Wr(t.apply(kg(this),e))}}function ak(t){return typeof t=="function"?rk(t):(t instanceof IDBTransaction&&ik(t),ZD(t,ek())?new Proxy(t,dy):t)}function Wr(t){if(t instanceof IDBRequest)return nk(t);if(Dg.has(t))return Dg.get(t);const e=ak(t);return e!==t&&(Dg.set(t,e),b0.set(e,t)),e}const kg=t=>b0.get(t);function ok(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),h=Wr(c);return s&&c.addEventListener("upgradeneeded",d=>{s(Wr(c.result),d.oldVersion,d.newVersion,Wr(c.transaction),d)}),n&&c.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const lk=["get","getKey","getAll","getAllKeys","count"],ck=["put","add","delete","clear"],jg=new Map;function Pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ck.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||lk.includes(n)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let m=d.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return jg.set(e,l),l}sk(t=>({...t,get:(e,n,s)=>Pw(e,n)||t.get(e,n,s),has:(e,n)=>!!Pw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function hk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fy="@firebase/app",Lw="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new v0("@firebase/app"),dk="@firebase/app-compat",fk="@firebase/analytics-compat",mk="@firebase/analytics",pk="@firebase/app-check-compat",gk="@firebase/app-check",yk="@firebase/auth",vk="@firebase/auth-compat",bk="@firebase/database",xk="@firebase/data-connect",_k="@firebase/database-compat",wk="@firebase/functions",Ek="@firebase/functions-compat",Tk="@firebase/installations",Sk="@firebase/installations-compat",Ak="@firebase/messaging",Rk="@firebase/messaging-compat",Ck="@firebase/performance",Nk="@firebase/performance-compat",Ik="@firebase/remote-config",Dk="@firebase/remote-config-compat",kk="@firebase/storage",jk="@firebase/storage-compat",Mk="@firebase/firestore",Vk="@firebase/ai",Ok="@firebase/firestore-compat",Pk="firebase",Lk="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="[DEFAULT]",Uk={[fy]:"fire-core",[dk]:"fire-core-compat",[mk]:"fire-analytics",[fk]:"fire-analytics-compat",[gk]:"fire-app-check",[pk]:"fire-app-check-compat",[yk]:"fire-auth",[vk]:"fire-auth-compat",[bk]:"fire-rtdb",[xk]:"fire-data-connect",[_k]:"fire-rtdb-compat",[wk]:"fire-fn",[Ek]:"fire-fn-compat",[Tk]:"fire-iid",[Sk]:"fire-iid-compat",[Ak]:"fire-fcm",[Rk]:"fire-fcm-compat",[Ck]:"fire-perf",[Nk]:"fire-perf-compat",[Ik]:"fire-rc",[Dk]:"fire-rc-compat",[kk]:"fire-gcs",[jk]:"fire-gcs-compat",[Mk]:"fire-fst",[Ok]:"fire-fst-compat",[Vk]:"fire-vertex","fire-js":"fire-js",[Pk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Map,zk=new Map,py=new Map;function Uw(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(py.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;py.set(e,t);for(const n of yf.values())Uw(n,t);for(const n of zk.values())Uw(n,t);return!0}function x0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Qu("app","Firebase",Bk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=Lk;function yS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:my,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Jr.create("bad-app-name",{appName:String(a)});if(n||(n=hS()),!n)throw Jr.create("no-options");const l=yf.get(a);if(l){if(oo(n,l.options)&&oo(s,l.config))return l;throw Jr.create("duplicate-app",{appName:a})}const c=new $D(a);for(const d of py.values())c.addComponent(d);const h=new Fk(n,s,c);return yf.set(a,h),h}function vS(t=my){const e=yf.get(t);if(!e&&t===my&&hS())return yS();if(!e)throw Jr.create("no-app",{appName:t});return e}function Zr(t,e,n){let s=Uk[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(c.join(" "));return}Rl(new lo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firebase-heartbeat-database",qk=1,Cu="firebase-heartbeat-store";let Mg=null;function bS(){return Mg||(Mg=ok(Hk,qk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function Gk(t){try{const n=(await bS()).transaction(Cu),s=await n.objectStore(Cu).get(xS(t));return await n.done,s}catch(e){if(e instanceof rr)Zs.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(n.message)}}}async function zw(t,e){try{const s=(await bS()).transaction(Cu,"readwrite");await s.objectStore(Cu).put(e,xS(t)),await s.done}catch(n){if(n instanceof rr)Zs.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zs.warn(s.message)}}}function xS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=1024,Yk=30;class $k{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Bw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>Yk){const c=Wk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bw(),{heartbeatsToSend:s,unsentEntries:a}=Xk(this._heartbeatsCache.heartbeats),l=gf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Zs.warn(n),""}}}function Bw(){return new Date().toISOString().substring(0,10)}function Xk(t,e=Kk){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Fw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Fw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Qk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OD()?PD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fw(t){return gf(JSON.stringify({version:2,heartbeats:t})).length}function Wk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){Rl(new lo("platform-logger",e=>new uk(e),"PRIVATE")),Rl(new lo("heartbeat",e=>new $k(e),"PRIVATE")),Zr(fy,Lw,t),Zr(fy,Lw,"esm2020"),Zr("fire-js","")}Jk("");function _S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zk=_S,wS=new Qu("auth","Firebase",_S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf=new v0("@firebase/auth");function e5(t,...e){vf.logLevel<=Ke.WARN&&vf.warn(`Auth (${Ll}): ${t}`,...e)}function ef(t,...e){vf.logLevel<=Ke.ERROR&&vf.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,...e){throw w0(t,...e)}function Fi(t,...e){return w0(t,...e)}function _0(t,e,n){const s={...Zk(),[e]:n};return new Qu("auth","Firebase",s).create(e,{appName:t.name})}function Xs(t){return _0(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t5(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Si(t,"argument-error"),_0(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function w0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return wS.create(t,...e)}function Ce(t,e,...n){if(!t)throw w0(e,...n)}function Ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ef(e),new Error(e)}function er(t,e){t||Ks(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function n5(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n5()||kD()||"connection"in navigator)?navigator.onLine:!0}function s5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=ND()||jD()}get(){return i5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o5=new Ju(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ha(t,e,n,s,a={}){return TS(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=Wu({key:t.config.apiKey,...c}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:d,...l};return DD()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(m.credentials="include"),ES.fetch()(await SS(t,t.config.apiHost,n,h),m)})}async function TS(t,e,n){t._canInitEmulator=!1;const s={...r5,...e};try{const a=new c5(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Ld(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(t,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw Ld(t,"email-already-in-use",c);if(d==="USER_DISABLED")throw Ld(t,"user-disabled",c);const v=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _0(t,v,m);Si(t,v)}}catch(a){if(a instanceof rr)throw a;Si(t,"network-request-failed",{message:String(a)})}}async function Zu(t,e,n,s,a={}){const l=await ha(t,e,n,s,a);return"mfaPendingCredential"in l&&Si(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function SS(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?E0(t.config,a):`${t.config.apiScheme}://${a}`;return a5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function l5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fi(this.auth,"network-request-failed")),o5.get())})}}function Ld(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Fi(t,e,s);return a.customData._tokenResponse=n,a}function qw(t){return t!==void 0&&t.enterprise!==void 0}class u5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function h5(t,e){return ha(t,"GET","/v2/recaptchaConfig",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d5(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function bf(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f5(t,e=!1){const n=Qt(t),s=await n.getIdToken(e),a=T0(s);Ce(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:mu(Vg(a.auth_time)),issuedAtTime:mu(Vg(a.iat)),expirationTime:mu(Vg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Vg(t){return Number(t)*1e3}function T0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{const a=cS(n);return a?JSON.parse(a):(ef("Failed to decode base64 JWT payload"),null)}catch(a){return ef("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Gw(t){const e=T0(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rr&&m5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function m5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(t){var b;const e=t.auth,n=await t.getIdToken(),s=await Nu(t,bf(e,{idToken:n}));Ce(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=(b=a.providerUserInfo)!=null&&b.length?AS(a.providerUserInfo):[],c=y5(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=h?d:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new yy(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,v)}async function g5(t){const e=Qt(t);await xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y5(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function AS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e){const n=await TS(t,{},async()=>{const s=Wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await SS(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(d.credentials="include"),ES.fetch()(c,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b5(t,e){return ha(t,"POST","/v2/accounts:revokeToken",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=Gw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await v5(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new xl;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Ks("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new p5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new yy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f5(this,e)}reload(){return g5(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await Nu(this,d5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,m=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:T,providerData:R,stsTokenManager:I}=n;Ce(b&&I,e,"internal-error");const k=xl.fromJSON(this.name,I);Ce(typeof b=="string",e,"internal-error"),Hr(s,e.name),Hr(a,e.name),Ce(typeof x=="boolean",e,"internal-error"),Ce(typeof T=="boolean",e,"internal-error"),Hr(l,e.name),Hr(c,e.name),Hr(h,e.name),Hr(d,e.name),Hr(m,e.name),Hr(v,e.name);const M=new Bi({uid:b,auth:e,email:a,emailVerified:x,displayName:s,isAnonymous:T,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:k,createdAt:m,lastLoginAt:v});return R&&Array.isArray(R)&&(M.providerData=R.map(z=>({...z}))),d&&(M._redirectEventId=d),M}static async _fromIdTokenResponse(e,n,s=!1){const a=new xl;a.updateFromServerResponse(n);const l=new Bi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await xf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?AS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new xl;h.updateFromIdToken(s);const d=new Bi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new yy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;function Ys(t){er(t instanceof Function,"Expected a class definition");let e=Kw.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Kw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RS.type="NONE";const Yw=RS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=tf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bf(this.auth,{idToken:e}).catch(()=>{});return n?Bi._fromGetAccountInfoResponse(this.auth,n,e):null}return Bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _l(Ys(Yw),e,s);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Ys(Yw);const c=tf(s,e.config.apiKey,e.name);let h=null;for(const m of n)try{const v=await m._get(c);if(v){let b;if(typeof v=="string"){const x=await bf(e,{idToken:v}).catch(()=>{});if(!x)break;b=await Bi._fromGetAccountInfoResponse(e,x,v)}else b=Bi._fromJSON(e,v);m!==l&&(h=b),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new _l(l,e,s):(l=d[0],h&&await l._set(c,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new _l(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jS(e))return"Blackberry";if(MS(e))return"Webos";if(NS(e))return"Safari";if((e.includes("chrome/")||IS(e))&&!e.includes("edge/"))return"Chrome";if(kS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function CS(t=Sn()){return/firefox\//i.test(t)}function NS(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IS(t=Sn()){return/crios\//i.test(t)}function DS(t=Sn()){return/iemobile/i.test(t)}function kS(t=Sn()){return/android/i.test(t)}function jS(t=Sn()){return/blackberry/i.test(t)}function MS(t=Sn()){return/webos/i.test(t)}function S0(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x5(t=Sn()){var e;return S0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _5(){return MD()&&document.documentMode===10}function VS(t=Sn()){return S0(t)||kS(t)||MS(t)||jS(t)||/windows phone/i.test(t)||DS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e=[]){let n;switch(t){case"Browser":n=$w(Sn());break;case"Worker":n=`${$w(Sn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,h)=>{try{const d=e(l);c(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E5(t,e={}){return ha(t,"GET","/v2/passwordPolicy",ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=6;class S5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??T5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xw(this),this.idTokenSubscription=new Xw(this),this.beforeStateQueue=new w5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bf(this,{idToken:e}),s=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(l=this.redirectUser)==null?void 0:l._redirectEventId,h=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Xs(this));const n=e?Qt(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E5(this),n=new S5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await b5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{c=!0,d()}}else{const d=e.addObserver(n);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&e5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function da(t){return Qt(t)}class Xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=FD(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R5(t){Qf=t}function PS(t){return Qf.loadJS(t)}function C5(){return Qf.recaptchaEnterpriseScript}function N5(){return Qf.gapiScript}function I5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class D5{constructor(){this.enterprise=new k5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class k5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const j5="recaptcha-enterprise",LS="NO_RECAPTCHA";class M5{constructor(e){this.type=j5,this.auth=da(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{h5(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new u5(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(d=>{h(d)})})}function a(l,c,h){const d=window.grecaptcha;qw(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(LS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D5().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(h=>{if(!n&&qw(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=C5();d.length!==0&&(d+=h),PS(d).then(()=>{a(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Qw(t,e,n,s=!1,a=!1){const l=new M5(t);let c;if(a)c=LS;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vy(t,e,n,s,a){var l;if((l=t._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Qw(t,e,n,n==="getOobCode");return s(t,c)}else return s(t,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Qw(t,e,n,n==="getOobCode");return s(t,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){const n=x0(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(oo(l,e??{}))return a;Si(a,"already-initialized")}return n.initialize({options:e})}function O5(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function P5(t,e,n){const s=da(t);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=US(e),{host:c,port:h}=L5(e),d=h===null?"":`:${h}`,m={url:`${l}//${c}${d}/`},v=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(oo(m,s.config.emulator)&&oo(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Pl(c)?(fS(`${l}//${c}${d}`),mS("Auth",!0)):U5()}function US(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L5(t){const e=US(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Ww(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Ww(c)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function U5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,n){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}}async function z5(t,e){return ha(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(t,e){return Zu(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F5(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}async function H5(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends A0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,n,"signInWithPassword",B5);case"emailLink":return F5(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,s,"signUpPassword",z5);case"emailLink":return H5(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return Zu(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="http://localhost";class co extends A0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new co(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,wl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:q5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K5(t){const e=iu(su(t)).link,n=e?iu(su(e)).deep_link_id:null,s=iu(su(t)).deep_link_id;return(s?iu(su(s)).link:null)||s||n||e||t}class R0{constructor(e){const n=iu(su(e)),s=n.apiKey??null,a=n.oobCode??null,l=G5(n.mode??null);Ce(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=K5(e);try{return new R0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.providerId=Ul.PROVIDER_ID}static credential(e,n){return Iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=R0.parseLink(n);return Ce(s,"argument-error"),Iu._fromEmailAndCode(e,s.code,s.tenantId)}}Ul.PROVIDER_ID="password";Ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends C0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends eh{constructor(){super("facebook.com")}static credential(e){return co._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return co._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gs.credential(n,s)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends eh{constructor(){super("github.com")}static credential(e){return co._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends eh{constructor(){super("twitter.com")}static credential(e,n){return co._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y5(t,e){return Zu(t,"POST","/v1/accounts:signUp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Bi._fromIdTokenResponse(e,s,a),c=Jw(s);return new uo({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Jw(s);return new uo({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Jw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends rr{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new _f(e,n,s,a)}}function zS(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(t,l,e,s):l})}async function $5(t,e,n=!1){const s=await Nu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t,e,n=!1){const{auth:s}=t;if(ii(s.app))return Promise.reject(Xs(s));const a="reauthenticate";try{const l=await Nu(t,zS(s,a,e,t),n);Ce(l.idToken,s,"internal-error");const c=T0(l.idToken);Ce(c,s,"internal-error");const{sub:h}=c;return Ce(t.uid===h,s,"user-mismatch"),uo._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Si(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(t,e,n=!1){if(ii(t.app))return Promise.reject(Xs(t));const s="signIn",a=await zS(t,s,e),l=await uo._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Q5(t,e){return BS(da(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(t){const e=da(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W5(t,e,n){if(ii(t.app))return Promise.reject(Xs(t));const s=da(t),c=await vy(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Y5).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&FS(t),d}),h=await uo._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(h.user),h}function J5(t,e,n){return ii(t.app)?Promise.reject(Xs(t)):Q5(Qt(t),Ul.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&FS(t),s})}function Z5(t,e,n,s){return Qt(t).onIdTokenChanged(e,n,s)}function e4(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function t4(t,e,n,s){return Qt(t).onAuthStateChanged(e,n,s)}function n4(t){return Qt(t).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1e3,s4=10;class qS extends HS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);_5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,s4):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},i4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qS.type="LOCAL";const r4=qS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends HS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GS.type="SESSION";const KS=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Wf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async m=>m(n.origin,l)),d=await a4(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,d)=>{const m=N0("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function l4(t){gs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function c4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function h4(){return YS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",d4=1,Ef="firebaseLocalStorage",XS="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jf(t,e){return t.transaction([Ef],e?"readwrite":"readonly").objectStore(Ef)}function f4(){const t=indexedDB.deleteDatabase($S);return new th(t).toPromise()}function by(){const t=indexedDB.open($S,d4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ef,{keyPath:XS})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ef)?e(s):(s.close(),await f4(),e(await by()))})})}async function Zw(t,e,n){const s=Jf(t,!0).put({[XS]:e,value:n});return new th(s).toPromise()}async function m4(t,e){const n=Jf(t,!1).get(e),s=await new th(n).toPromise();return s===void 0?null:s.value}function eE(t,e){const n=Jf(t,!0).delete(e);return new th(n).toPromise()}const p4=800,g4=3;class QS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await by(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>g4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(h4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await c4(),!this.activeServiceWorker)return;this.sender=new o4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await by();return await Zw(e,wf,"1"),await eE(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>m4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Jf(a,!1).getAll();return new th(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QS.type="LOCAL";const y4=QS;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){return e?Ys(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends A0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v4(t){return BS(t.auth,new I0(t),t.bypassAuthState)}function b4(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),X5(n,new I0(t),t.bypassAuthState)}async function x4(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),$5(n,new I0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v4;case"linkViaPopup":case"linkViaRedirect":return x4;case"reauthViaPopup":case"reauthViaRedirect":return b4;default:Si(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new Ju(2e3,1e4);async function w4(t,e,n){if(ii(t.app))return Promise.reject(Fi(t,"operation-not-supported-in-this-environment"));const s=da(t);t5(t,e,C0);const a=WS(s,n);return new eo(s,"signInViaPopup",e,a).executeNotNull()}class eo extends JS{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=N0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_4.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="pendingRedirect",nf=new Map;class T4 extends JS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nf.get(this.auth._key());if(!e){try{const s=await S4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nf.set(this.auth._key(),e)}return this.bypassAuthState||nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S4(t,e){const n=C4(e),s=R4(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function A4(t,e){nf.set(t._key(),e)}function R4(t){return Ys(t._redirectPersistence)}function C4(t){return tf(E4,t.config.apiKey,t.name)}async function N4(t,e,n=!1){if(ii(t.app))return Promise.reject(Xs(t));const s=da(t),a=WS(s,e),c=await new T4(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=600*1e3;class D4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ZS(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Fi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I4&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e={}){return ha(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V4=/^https?/;async function O4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await j4(t);for(const n of e)try{if(P4(n))return}catch{}Si(t,"unauthorized-domain")}function P4(t){const e=gy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!V4.test(n))return!1;if(M4.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Ju(3e4,6e4);function nE(){const t=gs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U4(t){return new Promise((e,n)=>{var a,l,c;function s(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(Fi(t,"network-request-failed"))},timeout:L4.get()})}if((l=(a=gs().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((c=gs().gapi)!=null&&c.load)s();else{const h=I5("iframefcb");return gs()[h]=()=>{gapi.load?s():n(Fi(t,"network-request-failed"))},PS(`${N5()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw sf=null,e})}let sf=null;function z4(t){return sf=sf||U4(t),sf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=new Ju(5e3,15e3),F4="__/auth/iframe",H4="emulator/auth/iframe",q4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K4(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?E0(e,H4):`https://${t.config.authDomain}/${F4}`,s={apiKey:e.apiKey,appName:t.name,v:Ll},a=G4.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Wu(s).slice(1)}`}async function Y4(t){const e=await z4(t),n=gs().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:K4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q4,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Fi(t,"network-request-failed"),h=gs().setTimeout(()=>{l(c)},B4.get());function d(){gs().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},X4=500,Q4=600,W4="_blank",J4="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z4(t,e,n,s=X4,a=Q4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...$4,width:s.toString(),height:a.toString(),top:l,left:c},m=Sn().toLowerCase();n&&(h=IS(m)?W4:n),CS(m)&&(e=e||J4,d.scrollbars="yes");const v=Object.entries(d).reduce((x,[T,R])=>`${x}${T}=${R},`,"");if(x5(m)&&h!=="_self")return ej(e||"",h),new iE(null);const b=window.open(e||"",h,v);Ce(b,t,"popup-blocked");try{b.focus()}catch{}return new iE(b)}function ej(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="__/auth/handler",nj="emulator/auth/handler",ij=encodeURIComponent("fac");async function sE(t,e,n,s,a,l){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ll,eventId:a};if(e instanceof C0){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",BD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof eh){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const d=await t._getAppCheckToken(),m=d?`#${ij}=${encodeURIComponent(d)}`:"";return`${sj(t)}?${Wu(h).slice(1)}${m}`}function sj({config:t}){return t.emulator?E0(t,nj):`https://${t.authDomain}/${tj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="webStorageSupport";class rj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KS,this._completeRedirectFn=N4,this._overrideRedirectResult=A4}async _openPopup(e,n,s,a){var c;er((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const l=await sE(e,n,s,gy(),a);return Z4(e,l,N0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await sE(e,n,s,gy(),a);return l4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Y4(e),s=new D4(e);return n.register("authEvent",a=>(Ce(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Og,{type:Og},a=>{var c;const l=(c=a==null?void 0:a[0])==null?void 0:c[Og];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VS()||NS()||S0()}}const aj=rj;var rE="@firebase/auth",aE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cj(t){Rl(new lo("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:c,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OS(t)},m=new A5(s,a,l,d);return O5(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Rl(new lo("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new oj(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(rE,aE,lj(t)),Zr(rE,aE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=300,hj=dS("authIdTokenMaxAge")||uj;let oE=null;const dj=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>hj)return;const a=n==null?void 0:n.token;oE!==a&&(oE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fj(t=vS()){const e=x0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=V5(t,{popupRedirectResolver:aj,persistence:[y4,r4,KS]}),s=dS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=dj(l.toString());e4(n,c,()=>c(n.currentUser)),Z5(n,h=>c(h))}}const a=uS("auth");return a&&P5(n,`http://${a}`),n}function mj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}R5({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Fi("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",mj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cj("Browser");var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,eA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function A(){}A.prototype=S.prototype,D.F=S.prototype,D.prototype=new A,D.prototype.constructor=D,D.D=function(O,P,H){for(var U=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)U[ke-2]=arguments[ke];return S.prototype[P].apply(O,U)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,S,A){A||(A=0);const O=Array(16);if(typeof S=="string")for(var P=0;P<16;++P)O[P]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(P=0;P<16;++P)O[P]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=D.g[0],A=D.g[1],P=D.g[2];let H=D.g[3],U;U=S+(H^A&(P^H))+O[0]+3614090360&4294967295,S=A+(U<<7&4294967295|U>>>25),U=H+(P^S&(A^P))+O[1]+3905402710&4294967295,H=S+(U<<12&4294967295|U>>>20),U=P+(A^H&(S^A))+O[2]+606105819&4294967295,P=H+(U<<17&4294967295|U>>>15),U=A+(S^P&(H^S))+O[3]+3250441966&4294967295,A=P+(U<<22&4294967295|U>>>10),U=S+(H^A&(P^H))+O[4]+4118548399&4294967295,S=A+(U<<7&4294967295|U>>>25),U=H+(P^S&(A^P))+O[5]+1200080426&4294967295,H=S+(U<<12&4294967295|U>>>20),U=P+(A^H&(S^A))+O[6]+2821735955&4294967295,P=H+(U<<17&4294967295|U>>>15),U=A+(S^P&(H^S))+O[7]+4249261313&4294967295,A=P+(U<<22&4294967295|U>>>10),U=S+(H^A&(P^H))+O[8]+1770035416&4294967295,S=A+(U<<7&4294967295|U>>>25),U=H+(P^S&(A^P))+O[9]+2336552879&4294967295,H=S+(U<<12&4294967295|U>>>20),U=P+(A^H&(S^A))+O[10]+4294925233&4294967295,P=H+(U<<17&4294967295|U>>>15),U=A+(S^P&(H^S))+O[11]+2304563134&4294967295,A=P+(U<<22&4294967295|U>>>10),U=S+(H^A&(P^H))+O[12]+1804603682&4294967295,S=A+(U<<7&4294967295|U>>>25),U=H+(P^S&(A^P))+O[13]+4254626195&4294967295,H=S+(U<<12&4294967295|U>>>20),U=P+(A^H&(S^A))+O[14]+2792965006&4294967295,P=H+(U<<17&4294967295|U>>>15),U=A+(S^P&(H^S))+O[15]+1236535329&4294967295,A=P+(U<<22&4294967295|U>>>10),U=S+(P^H&(A^P))+O[1]+4129170786&4294967295,S=A+(U<<5&4294967295|U>>>27),U=H+(A^P&(S^A))+O[6]+3225465664&4294967295,H=S+(U<<9&4294967295|U>>>23),U=P+(S^A&(H^S))+O[11]+643717713&4294967295,P=H+(U<<14&4294967295|U>>>18),U=A+(H^S&(P^H))+O[0]+3921069994&4294967295,A=P+(U<<20&4294967295|U>>>12),U=S+(P^H&(A^P))+O[5]+3593408605&4294967295,S=A+(U<<5&4294967295|U>>>27),U=H+(A^P&(S^A))+O[10]+38016083&4294967295,H=S+(U<<9&4294967295|U>>>23),U=P+(S^A&(H^S))+O[15]+3634488961&4294967295,P=H+(U<<14&4294967295|U>>>18),U=A+(H^S&(P^H))+O[4]+3889429448&4294967295,A=P+(U<<20&4294967295|U>>>12),U=S+(P^H&(A^P))+O[9]+568446438&4294967295,S=A+(U<<5&4294967295|U>>>27),U=H+(A^P&(S^A))+O[14]+3275163606&4294967295,H=S+(U<<9&4294967295|U>>>23),U=P+(S^A&(H^S))+O[3]+4107603335&4294967295,P=H+(U<<14&4294967295|U>>>18),U=A+(H^S&(P^H))+O[8]+1163531501&4294967295,A=P+(U<<20&4294967295|U>>>12),U=S+(P^H&(A^P))+O[13]+2850285829&4294967295,S=A+(U<<5&4294967295|U>>>27),U=H+(A^P&(S^A))+O[2]+4243563512&4294967295,H=S+(U<<9&4294967295|U>>>23),U=P+(S^A&(H^S))+O[7]+1735328473&4294967295,P=H+(U<<14&4294967295|U>>>18),U=A+(H^S&(P^H))+O[12]+2368359562&4294967295,A=P+(U<<20&4294967295|U>>>12),U=S+(A^P^H)+O[5]+4294588738&4294967295,S=A+(U<<4&4294967295|U>>>28),U=H+(S^A^P)+O[8]+2272392833&4294967295,H=S+(U<<11&4294967295|U>>>21),U=P+(H^S^A)+O[11]+1839030562&4294967295,P=H+(U<<16&4294967295|U>>>16),U=A+(P^H^S)+O[14]+4259657740&4294967295,A=P+(U<<23&4294967295|U>>>9),U=S+(A^P^H)+O[1]+2763975236&4294967295,S=A+(U<<4&4294967295|U>>>28),U=H+(S^A^P)+O[4]+1272893353&4294967295,H=S+(U<<11&4294967295|U>>>21),U=P+(H^S^A)+O[7]+4139469664&4294967295,P=H+(U<<16&4294967295|U>>>16),U=A+(P^H^S)+O[10]+3200236656&4294967295,A=P+(U<<23&4294967295|U>>>9),U=S+(A^P^H)+O[13]+681279174&4294967295,S=A+(U<<4&4294967295|U>>>28),U=H+(S^A^P)+O[0]+3936430074&4294967295,H=S+(U<<11&4294967295|U>>>21),U=P+(H^S^A)+O[3]+3572445317&4294967295,P=H+(U<<16&4294967295|U>>>16),U=A+(P^H^S)+O[6]+76029189&4294967295,A=P+(U<<23&4294967295|U>>>9),U=S+(A^P^H)+O[9]+3654602809&4294967295,S=A+(U<<4&4294967295|U>>>28),U=H+(S^A^P)+O[12]+3873151461&4294967295,H=S+(U<<11&4294967295|U>>>21),U=P+(H^S^A)+O[15]+530742520&4294967295,P=H+(U<<16&4294967295|U>>>16),U=A+(P^H^S)+O[2]+3299628645&4294967295,A=P+(U<<23&4294967295|U>>>9),U=S+(P^(A|~H))+O[0]+4096336452&4294967295,S=A+(U<<6&4294967295|U>>>26),U=H+(A^(S|~P))+O[7]+1126891415&4294967295,H=S+(U<<10&4294967295|U>>>22),U=P+(S^(H|~A))+O[14]+2878612391&4294967295,P=H+(U<<15&4294967295|U>>>17),U=A+(H^(P|~S))+O[5]+4237533241&4294967295,A=P+(U<<21&4294967295|U>>>11),U=S+(P^(A|~H))+O[12]+1700485571&4294967295,S=A+(U<<6&4294967295|U>>>26),U=H+(A^(S|~P))+O[3]+2399980690&4294967295,H=S+(U<<10&4294967295|U>>>22),U=P+(S^(H|~A))+O[10]+4293915773&4294967295,P=H+(U<<15&4294967295|U>>>17),U=A+(H^(P|~S))+O[1]+2240044497&4294967295,A=P+(U<<21&4294967295|U>>>11),U=S+(P^(A|~H))+O[8]+1873313359&4294967295,S=A+(U<<6&4294967295|U>>>26),U=H+(A^(S|~P))+O[15]+4264355552&4294967295,H=S+(U<<10&4294967295|U>>>22),U=P+(S^(H|~A))+O[6]+2734768916&4294967295,P=H+(U<<15&4294967295|U>>>17),U=A+(H^(P|~S))+O[13]+1309151649&4294967295,A=P+(U<<21&4294967295|U>>>11),U=S+(P^(A|~H))+O[4]+4149444226&4294967295,S=A+(U<<6&4294967295|U>>>26),U=H+(A^(S|~P))+O[11]+3174756917&4294967295,H=S+(U<<10&4294967295|U>>>22),U=P+(S^(H|~A))+O[2]+718787259&4294967295,P=H+(U<<15&4294967295|U>>>17),U=A+(H^(P|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+H&4294967295}s.prototype.v=function(D,S){S===void 0&&(S=D.length);const A=S-this.blockSize,O=this.C;let P=this.h,H=0;for(;H<S;){if(P==0)for(;H<=A;)a(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<S;)if(O[P++]=D.charCodeAt(H++),P==this.blockSize){a(this,O),P=0;break}}else for(;H<S;)if(O[P++]=D[H++],P==this.blockSize){a(this,O),P=0;break}}this.h=P,this.o+=S},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var A=D.length-8;A<D.length;++A)D[A]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)D[S++]=this.g[A]>>>O&255;return D};function l(D,S){var A=h;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=S(D)}function c(D,S){this.h=S;const A=[];let O=!0;for(let P=D.length-1;P>=0;P--){const H=D[P]|0;O&&H==S||(A[P]=H,O=!1)}this.g=A}var h={};function d(D){return-128<=D&&D<128?l(D,function(S){return new c([S|0],S<0?-1:0)}):new c([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return k(m(-D));const S=[];let A=1;for(let O=0;D>=A;O++)S[O]=D/A|0,A*=4294967296;return new c(S,0)}function v(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return k(v(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=m(Math.pow(S,8));let O=b;for(let H=0;H<D.length;H+=8){var P=Math.min(8,D.length-H);const U=parseInt(D.substring(H,H+P),S);P<8?(P=m(Math.pow(S,P)),O=O.j(P).add(m(U))):(O=O.j(A),O=O.add(m(U)))}return O}var b=d(0),x=d(1),T=d(16777216);t=c.prototype,t.m=function(){if(I(this))return-k(this).m();let D=0,S=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(I(this))return"-"+k(this).toString(D);const S=m(Math.pow(D,6));var A=this;let O="";for(;;){const P=$(A,S).g;A=M(A,P.j(S));let H=((A.g.length>0?A.g[0]:A.h)>>>0).toString(D);if(A=P,R(A))return H+O;for(;H.length<6;)H="0"+H;O=H+O}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function I(D){return D.h==-1}t.l=function(D){return D=M(this,D),I(D)?-1:R(D)?0:1};function k(D){const S=D.g.length,A=[];for(let O=0;O<S;O++)A[O]=~D.g[O];return new c(A,~D.h).add(x)}t.abs=function(){return I(this)?k(this):this},t.add=function(D){const S=Math.max(this.g.length,D.g.length),A=[];let O=0;for(let P=0;P<=S;P++){let H=O+(this.i(P)&65535)+(D.i(P)&65535),U=(H>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);O=U>>>16,H&=65535,U&=65535,A[P]=U<<16|H}return new c(A,A[A.length-1]&-2147483648?-1:0)};function M(D,S){return D.add(k(S))}t.j=function(D){if(R(this)||R(D))return b;if(I(this))return I(D)?k(this).j(k(D)):k(k(this).j(D));if(I(D))return k(this.j(k(D)));if(this.l(T)<0&&D.l(T)<0)return m(this.m()*D.m());const S=this.g.length+D.g.length,A=[];for(var O=0;O<2*S;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let P=0;P<D.g.length;P++){const H=this.i(O)>>>16,U=this.i(O)&65535,ke=D.i(P)>>>16,Ve=D.i(P)&65535;A[2*O+2*P]+=U*Ve,z(A,2*O+2*P),A[2*O+2*P+1]+=H*Ve,z(A,2*O+2*P+1),A[2*O+2*P+1]+=U*ke,z(A,2*O+2*P+1),A[2*O+2*P+2]+=H*ke,z(A,2*O+2*P+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new c(A,0)};function z(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function V(D,S){this.g=D,this.h=S}function $(D,S){if(R(S))throw Error("division by zero");if(R(D))return new V(b,b);if(I(D))return S=$(k(D),S),new V(k(S.g),k(S.h));if(I(S))return S=$(D,k(S)),new V(k(S.g),S.h);if(D.g.length>30){if(I(D)||I(S))throw Error("slowDivide_ only works with positive integers.");for(var A=x,O=S;O.l(D)<=0;)A=K(A),O=K(O);var P=Y(A,1),H=Y(O,1);for(O=Y(O,2),A=Y(A,2);!R(O);){var U=H.add(O);U.l(D)<=0&&(P=P.add(A),H=U),O=Y(O,1),A=Y(A,1)}return S=M(D,P.j(S)),new V(P,S)}for(P=b;D.l(S)>=0;){for(A=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),H=m(A),U=H.j(S);I(U)||U.l(D)>0;)A-=O,H=m(A),U=H.j(S);R(H)&&(H=x),P=P.add(H),D=M(D,U)}return new V(P,D)}t.B=function(D){return $(this,D).h},t.and=function(D){const S=Math.max(this.g.length,D.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)&D.i(O);return new c(A,this.h&D.h)},t.or=function(D){const S=Math.max(this.g.length,D.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)|D.i(O);return new c(A,this.h|D.h)},t.xor=function(D){const S=Math.max(this.g.length,D.g.length),A=[];for(let O=0;O<S;O++)A[O]=this.i(O)^D.i(O);return new c(A,this.h^D.h)};function K(D){const S=D.g.length+1,A=[];for(let O=0;O<S;O++)A[O]=D.i(O)<<1|D.i(O-1)>>>31;return new c(A,D.h)}function Y(D,S){const A=S>>5;S%=32;const O=D.g.length-A,P=[];for(let H=0;H<O;H++)P[H]=S>0?D.i(H+A)>>>S|D.i(H+A+1)<<32-S:D.i(H+A);return new c(P,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,eA=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,ea=c}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tA,ru,nA,rf,xy,iA,sA,rA;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)e:{var E=s;f=f.split(".");for(var j=0;j<f.length-1;j++){var Q=f[j];if(!(Q in E))break e;E=E[Q]}f=f[f.length-1],j=E[f],_=_(j),_!=j&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],j;for(j in _)Object.prototype.hasOwnProperty.call(_,j)&&E.push([j,_[j]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function m(f,_,E){return m=d,m.apply(null,arguments)}function v(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var j=E.slice();return j.push.apply(j,arguments),f.apply(this,j)}}function b(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(j,Q,te){for(var de=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)de[Oe-2]=arguments[Oe];return _.prototype[Q].apply(j,de)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function T(f){const _=f.length;if(_>0){const E=Array(_);for(let j=0;j<_;j++)E[j]=f[j];return E}return[]}function R(f,_){for(let j=1;j<arguments.length;j++){const Q=arguments[j];var E=typeof Q;if(E=E!="object"?E:Q?Array.isArray(Q)?"array":E:"null",E=="array"||E=="object"&&typeof Q.length=="number"){E=f.length||0;const te=Q.length||0;f.length=E+te;for(let de=0;de<te;de++)f[E+de]=Q[de]}else f.push(Q)}}class I{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(f){c.setTimeout(()=>{throw f},0)}function M(){var f=D;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,E){const j=V.get();j.set(_,E),this.h?this.h.next=j:this.g=j,this.h=j}}var V=new I(()=>new $,f=>f.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let K,Y=!1,D=new z,S=()=>{const f=Promise.resolve(void 0);K=()=>{f.then(A)}};function A(){for(var f;f=M();){try{f.h.call(f.g)}catch(E){k(E)}var _=V;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}Y=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return f})();function U(f){return/^[\s\xa0]*$/.test(f)}function ke(f,_){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}b(ke,P),ke.prototype.init=function(f,_){const E=this.type=f.type,j=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),ee=0;function ue(f,_,E,j,Q){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!j,this.ha=Q,this.key=++ee,this.da=this.fa=!1}function re(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ee(f,_,E){for(const j in f)_.call(E,f[j],j,f)}function Ie(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function F(f){const _={};for(const E in f)_[E]=f[E];return _}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(f,_){let E,j;for(let Q=1;Q<arguments.length;Q++){j=arguments[Q];for(E in j)f[E]=j[E];for(let te=0;te<L.length;te++)E=L[te],Object.prototype.hasOwnProperty.call(j,E)&&(f[E]=j[E])}}function le(f){this.src=f,this.g={},this.h=0}le.prototype.add=function(f,_,E,j,Q){const te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);const de=Re(f,_,j,Q);return de>-1?(_=f[de],E||(_.fa=!1)):(_=new ue(_,this.src,te,!!j,Q),_.fa=E,f.push(_)),_};function _e(f,_){const E=_.type;if(E in f.g){var j=f.g[E],Q=Array.prototype.indexOf.call(j,_,void 0),te;(te=Q>=0)&&Array.prototype.splice.call(j,Q,1),te&&(re(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Re(f,_,E,j){for(let Q=0;Q<f.length;++Q){const te=f[Q];if(!te.da&&te.listener==_&&te.capture==!!E&&te.ha==j)return Q}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Be={};function Ue(f,_,E,j,Q){if(Array.isArray(_)){for(let te=0;te<_.length;te++)Ue(f,_[te],E,j,Q);return null}return E=Kn(E),f&&f[Ve]?f.J(_,E,h(j)?!!j.capture:!1,Q):vt(f,_,E,!1,j,Q)}function vt(f,_,E,j,Q,te){if(!_)throw Error("Invalid event type");const de=h(Q)?!!Q.capture:!!Q;let Oe=nn(f);if(Oe||(f[ge]=Oe=new le(f)),E=Oe.add(_,E,j,de,te),E.proxy)return E;if(j=Qe(),E.proxy=j,j.src=f,j.listener=E,f.addEventListener)H||(Q=de),Q===void 0&&(Q=!1),f.addEventListener(_.toString(),j,Q);else if(f.attachEvent)f.attachEvent(tt(_.toString()),j);else if(f.addListener&&f.removeListener)f.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Qe(){function f(E){return _.call(f.src,f.listener,E)}const _=jt;return f}function me(f,_,E,j,Q){if(Array.isArray(_))for(var te=0;te<_.length;te++)me(f,_[te],E,j,Q);else j=h(j)?!!j.capture:!!j,E=Kn(E),f&&f[Ve]?(f=f.i,te=String(_).toString(),te in f.g&&(_=f.g[te],E=Re(_,E,j,Q),E>-1&&(re(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[te],f.h--)))):f&&(f=nn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Re(_,E,j,Q)),(E=f>-1?_[f]:null)&&Je(E))}function Je(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ve])_e(_.i,f);else{var E=f.type,j=f.proxy;_.removeEventListener?_.removeEventListener(E,j,f.capture):_.detachEvent?_.detachEvent(tt(E),j):_.addListener&&_.removeListener&&_.removeListener(j),(E=nn(_))?(_e(E,f),E.h==0&&(E.src=null,_[ge]=null)):re(f)}}}function tt(f){return f in Be?Be[f]:Be[f]="on"+f}function jt(f,_){if(f.da)f=!0;else{_=new ke(_,this);const E=f.listener,j=f.ha||f.src;f.fa&&Je(f),f=E.call(j,_)}return f}function nn(f){return f=f[ge],f instanceof le?f:null}var An="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kn(f){return typeof f=="function"?f:(f[An]||(f[An]=function(_){return f.handleEvent(_)}),f[An])}function rt(){O.call(this),this.i=new le(this),this.M=this,this.G=null}b(rt,O),rt.prototype[Ve]=!0,rt.prototype.removeEventListener=function(f,_,E,j){me(this,f,_,E,j)};function mt(f,_){var E,j=f.G;if(j)for(E=[];j;j=j.G)E.push(j);if(f=f.M,j=_.type||_,typeof _=="string")_=new P(_,f);else if(_ instanceof P)_.target=_.target||f;else{var Q=_;_=new P(j,f),X(_,Q)}Q=!0;let te,de;if(E)for(de=E.length-1;de>=0;de--)te=_.g=E[de],Q=kn(te,j,!0,_)&&Q;if(te=_.g=f,Q=kn(te,j,!0,_)&&Q,Q=kn(te,j,!1,_)&&Q,E)for(de=0;de<E.length;de++)te=_.g=E[de],Q=kn(te,j,!1,_)&&Q}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let j=0;j<E.length;j++)re(E[j]);delete f.g[_],f.h--}}this.G=null},rt.prototype.J=function(f,_,E,j){return this.i.add(String(f),_,!1,E,j)},rt.prototype.K=function(f,_,E,j){return this.i.add(String(f),_,!0,E,j)};function kn(f,_,E,j){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Q=!0;for(let te=0;te<_.length;++te){const de=_[te];if(de&&!de.da&&de.capture==E){const Oe=de.listener,Mt=de.ha||de.src;de.fa&&_e(f.i,de),Q=Oe.call(Mt,j)!==!1&&Q}}return Q&&!j.defaultPrevented}function va(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(f,_||0)}function or(f){f.g=va(()=>{f.g=null,f.i&&(f.i=!1,or(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class sn extends O{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(f){O.call(this),this.h=f,this.g={}}b($i,O);var ba=[];function lr(f){Ee(f.g,function(_,E){this.g.hasOwnProperty(E)&&Je(_)},f),f.g={}}$i.prototype.N=function(){$i.Z.N.call(this),lr(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=c.JSON.stringify,xa=c.JSON.parse,Ri=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function cr(){}function ur(){}var bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){P.call(this,"d")}b(Wt,P);function jn(){P.call(this,"c")}b(jn,P);var At={},_o=null;function hr(){return _o=_o||new rt}At.Ia="serverreachability";function _a(f){P.call(this,At.Ia,f)}b(_a,P);function ai(f){const _=hr();mt(_,new _a(_))}At.STAT_EVENT="statevent";function Qi(f,_){P.call(this,At.STAT_EVENT,f),this.stat=_}b(Qi,P);function Rt(f){const _=hr();mt(_,new Qi(_,f))}At.Ja="timingevent";function Yn(f,_){P.call(this,At.Ja,f),this.size=_}b(Yn,P);function oi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},_)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function wo(f,_,E,j,Q,te){f.info(function(){if(f.g)if(te){var de="",Oe=te.split("&");for(let nt=0;nt<Oe.length;nt++){var Mt=Oe[nt].split("=");if(Mt.length>1){const wt=Mt[0];Mt=Mt[1];const hi=wt.split("_");de=hi.length>=2&&hi[1]=="type"?de+(wt+"="+Mt+"&"):de+(wt+"=redacted&")}}}else de=null;else de=te;return"XMLHTTP REQ ("+j+") [attempt "+Q+"]: "+_+`
`+E+`
`+de})}function Eo(f,_,E,j,Q,te,de){f.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Q+"]: "+_+`
`+E+`
`+te+" "+de})}function Wi(f,_,E,j){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Am(f,E)+(j?" "+j:"")})}function wa(f,_){f.info(function(){return"TIMEOUT: "+_})}Mn.prototype.info=function(){};function Am(f,_){if(!f.g)return _;if(!_)return null;try{const te=JSON.parse(_);if(te){for(f=0;f<te.length;f++)if(Array.isArray(te[f])){var E=te[f];if(!(E.length<2)){var j=E[1];if(Array.isArray(j)&&!(j.length<1)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let de=1;de<j.length;de++)j[de]=""}}}}return Xi(te)}catch{return _}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jl;function Ta(){}b(Ta,cr),Ta.prototype.g=function(){return new XMLHttpRequest},Jl=new Ta;function Ts(f){return encodeURIComponent(String(f))}function ph(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ci(f,_,E,j){this.j=f,this.i=_,this.l=E,this.S=j||1,this.V=new $i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ni}function Ni(){this.i=null,this.g="",this.h=!1}var Ut={},rn={};function Ji(f,_,E){f.M=1,f.A=Sa(Bt(_)),f.u=E,f.R=!0,To(f,null)}function To(f,_){f.F=Date.now(),Zi(f),f.B=Bt(f.A);var E=f.B,j=f.S;Array.isArray(j)||(j=[String(j)]),Co(E.i,"t",j),f.C=0,E=f.j.L,f.h=new Ni,f.g=Ih(f.j,E?_:null,!f.u),f.P>0&&(f.O=new sn(m(f.Y,f,f.g),f.P)),_=f.V,E=f.g,j=f.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(ba[0]=Q.toString()),Q=ba);for(let te=0;te<Q.length;te++){const de=Ue(E,Q[te],j||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=f.J?F(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),ai(),wo(f.i,f.v,f.B,f.l,f.S,f.u)}Ci.prototype.ba=function(f){f=f.target;const _=this.O;_&&ki(f)==3?_.j():this.Y(f)},Ci.prototype.Y=function(f){try{if(f==this.g)e:{const Oe=ki(this.g),Mt=this.g.ya(),nt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Oe!=4||Mt==7||(Mt==8||nt<=0?ai(3):ai(2)),es(this);var _=this.g.ca();this.X=_;var E=Rm(this);if(this.o=_==200,Eo(this.i,this.v,this.B,this.l,this.S,Oe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var j,Q=this.g;if((j=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(j)){var te=j;break t}}te=null}if(f=te)Wi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ts(this,f);else{this.o=!1,this.m=3,Rt(12),$n(this),li(this);break e}}if(this.R){f=!0;let wt;for(;!this.K&&this.C<E.length;)if(wt=yh(this,E),wt==rn){Oe==4&&(this.m=4,Rt(14),f=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(wt==Ut){this.m=4,Rt(15),Wi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Wi(this.i,this.l,wt,null),ts(this,wt);if(gh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,Rt(16),f=!1),this.o=this.o&&f,!f)Wi(this.i,this.l,E,"[Invalid Chunked Response]"),$n(this),li(this);else if(E.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),fc(de),de.P=!0,Rt(11))}}else Wi(this.i,this.l,E,null),ts(this,E);Oe==4&&$n(this),this.o&&!this.K&&(Oe==4?Ah(this.j,this):(this.o=!1,Zi(this)))}else As(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),$n(this),li(this)}}}catch{}finally{}};function Rm(f){if(!gh(f))return f.g.la();const _=cn(f.g);if(_==="")return"";let E="";const j=_.length,Q=ki(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return $n(f),li(f),"";f.h.i=new c.TextDecoder}for(let te=0;te<j;te++)f.h.h=!0,E+=f.h.i.decode(_[te],{stream:!(Q&&te==j-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function gh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function yh(f,_){var E=f.C,j=_.indexOf(`
`,E);return j==-1?rn:(E=Number(_.substring(E,j)),isNaN(E)?Ut:(j+=1,j+E>_.length?rn:(_=_.slice(j,j+E),f.C=j+E,_)))}Ci.prototype.cancel=function(){this.K=!0,$n(this)};function Zi(f){f.T=Date.now()+f.H,So(f,f.H)}function So(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=oi(m(f.aa,f),_)}function es(f){f.D&&(c.clearTimeout(f.D),f.D=null)}Ci.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(wa(this.i,this.B),this.M!=2&&(ai(),Rt(17)),$n(this),this.m=2,li(this)):So(this,this.T-f)};function li(f){f.j.I==0||f.K||Ah(f.j,f)}function $n(f){es(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,lr(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function ts(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||is(E.h,f))){if(!f.L&&is(E.h,f)&&E.I==3){try{var j=E.Ba.g.parse(_)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Q=j;if(Q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)jo(E),br(E);else break e;ka(E),Rt(18)}}else E.xa=Q[1],0<E.xa-E.K&&Q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=oi(m(E.Va,E),6e3));ns(E.h)<=1&&E.ta&&(E.ta=void 0)}else cs(E,11)}else if((f.L||E.g==f)&&jo(E),!U(_))for(Q=E.Ba.g.parse(_),_=0;_<Q.length;_++){let nt=Q[_];const wt=nt[0];if(!(wt<=E.K))if(E.K=wt,nt=nt[1],E.I==2)if(nt[0]=="c"){E.M=nt[1],E.ba=nt[2];const hi=nt[3];hi!=null&&(E.ka=hi,E.j.info("VER="+E.ka));const us=nt[4];us!=null&&(E.za=us,E.j.info("SVER="+E.za));const ji=nt[5];ji!=null&&typeof ji=="number"&&ji>0&&(j=1.5*ji,E.O=j,E.j.info("backChannelRequestTimeoutMs_="+j)),j=E;const Mi=f.g;if(Mi){const ja=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var te=j.h;te.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(tc(te,te.h),te.h=null))}if(j.G){const Mo=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(j.wa=Mo,at(j.J,j.G,Mo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),j=E;var de=f;if(j.na=Nh(j,j.L?j.ba:null,j.W),de.L){nc(j.h,de);var Oe=de,Mt=j.O;Mt&&(Oe.H=Mt),Oe.D&&(es(Oe),Zi(Oe)),j.g=de}else Th(j);E.i.length>0&&ls(E)}else nt[0]!="stop"&&nt[0]!="close"||cs(E,7);else E.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?cs(E,7):hc(E):nt[0]!="noop"&&E.l&&E.l.qa(nt),E.A=0)}}ai(4)}catch{}}var zt=class{constructor(f,_){this.g=f,this.map=_}};function Zl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ec(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ns(f){return f.h?1:f.g?f.g.size:0}function is(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function tc(f,_){f.g?f.g.add(_):f.h=_}function nc(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Zl.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ic(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return T(f.i)}var vh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const j=f[E].indexOf("=");let Q,te=null;j>=0?(Q=f[E].substring(0,j),te=f[E].substring(j+1)):Q=f[E],_(Q,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Xn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Xn?(this.l=f.l,an(this,f.j),this.o=f.o,this.g=f.g,dr(this,f.u),this.h=f.h,sc(this,wh(f.i)),this.m=f.m):f&&(_=String(f).match(vh))?(this.l=!1,an(this,_[1]||"",!0),this.o=ss(_[2]||""),this.g=ss(_[3]||"",!0),dr(this,_[4]),this.h=ss(_[5]||"",!0),sc(this,_[6]||"",!0),this.m=ss(_[7]||"")):(this.l=!1,this.i=new mr(null,this.l))}Xn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Aa(_,Ro,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Aa(_,Ro,!0),"@"),f.push(Ts(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Aa(E,E.charAt(0)=="/"?rc:bh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Aa(E,xh)),f.join("")},Xn.prototype.resolve=function(f){const _=Bt(this);let E=!!f.j;E?an(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var j=f.h;if(E)dr(_,f.u);else if(E=!!f.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var Q=_.h.lastIndexOf("/");Q!=-1&&(j=_.h.slice(0,Q+1)+j)}if(Q=j,Q==".."||Q==".")j="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){j=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const te=[];for(let de=0;de<Q.length;){const Oe=Q[de++];Oe=="."?j&&de==Q.length&&te.push(""):Oe==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),j&&de==Q.length&&te.push("")):(te.push(Oe),j=!0)}j=te.join("/")}else j=Q}return E?_.h=j:E=f.i.toString()!=="",E?sc(_,wh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Bt(f){return new Xn(f)}function an(f,_,E){f.j=E?ss(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function dr(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function sc(f,_,E){_ instanceof mr?(f.i=_,No(f.i,f.l)):(E||(_=Aa(_,fr)),f.i=new mr(_,f.l))}function at(f,_,E){f.i.set(_,E)}function Sa(f){return at(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ss(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Aa(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Vn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Vn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Ro=/[#\/\?@]/g,bh=/[#\?:]/g,rc=/[#\?]/g,fr=/[#\?@]/g,xh=/#/g;function mr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function On(f){f.g||(f.g=new Map,f.h=0,f.i&&Ao(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=mr.prototype,t.add=function(f,_){On(this),this.i=null,f=pr(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function _h(f,_){On(f),_=pr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function ac(f,_){return On(f),_=pr(f,_),f.g.has(_)}t.forEach=function(f,_){On(this),this.g.forEach(function(E,j){E.forEach(function(Q){f.call(_,Q,j,this)},this)},this)};function oc(f,_){On(f);let E=[];if(typeof _=="string")ac(f,_)&&(E=E.concat(f.g.get(pr(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return On(this),this.i=null,f=pr(this,f),ac(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=oc(this,f),f.length>0?String(f[0]):_):_};function Co(f,_,E){_h(f,_),E.length>0&&(f.i=null,f.g.set(pr(f,_),T(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let j=0;j<_.length;j++){var E=_[j];const Q=Ts(E);E=oc(this,E);for(let te=0;te<E.length;te++){let de=Q;E[te]!==""&&(de+="="+Ts(E[te])),f.push(de)}}return this.i=f.join("&")};function wh(f){const _=new mr;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function pr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function No(f,_){_&&!f.j&&(On(f),f.i=null,f.g.forEach(function(E,j){const Q=j.toLowerCase();j!=Q&&(_h(this,j),Co(this,Q,E))},f)),f.j=_}function Ii(f,_){const E=new Mn;if(c.Image){const j=new Image;j.onload=v(ci,E,"TestLoadImage: loaded",!0,_,j),j.onerror=v(ci,E,"TestLoadImage: error",!1,_,j),j.onabort=v(ci,E,"TestLoadImage: abort",!1,_,j),j.ontimeout=v(ci,E,"TestLoadImage: timeout",!1,_,j),c.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=f}else _(!1)}function lc(f,_){const E=new Mn,j=new AbortController,Q=setTimeout(()=>{j.abort(),ci(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:j.signal}).then(te=>{clearTimeout(Q),te.ok?ci(E,"TestPingServer: ok",!0,_):ci(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),ci(E,"TestPingServer: error",!1,_)})}function ci(f,_,E,j,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),j(E)}catch{}}function gr(){this.g=new Ri}function rs(f){this.i=f.Sb||null,this.h=f.ab||!1}b(rs,cr),rs.prototype.g=function(){return new Ra(this.i,this.h)};function Ra(f,_){rt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ra,rt),t=Ra.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Di(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Io(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Io(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?yr(this):Di(this),this.readyState==3&&Io(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,yr(this))},t.Na=function(f){this.g&&(this.response=f,yr(this))},t.ga=function(){this.g&&yr(this)};function yr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Di(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ui(f){let _="";return Ee(f,function(E,j){_+=j,_+=":",_+=E,_+=`\r
`}),_}function Ca(f,_,E){e:{for(j in E){var j=!1;break e}j=!0}j||(E=ui(E),typeof f=="string"?E!=null&&Ts(E):at(f,_,E))}function ut(f){rt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ut,rt);var as=/^https?$/i,cc=["POST","PUT"];t=ut.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jl.g(),this.g.onreadystatechange=x(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(te){Na(this,te);return}if(f=E||"",E=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Q in j)E.set(Q,j[Q]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const te of j.keys())E.set(te,j.get(te));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),Q=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(cc,_,void 0)>=0)||j||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,de]of E)this.g.setRequestHeader(te,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(te){Na(this,te)}};function Na(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,uc(f),Ss(f)}function uc(f){f.A||(f.A=!0,mt(f,"complete"),mt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,mt(this,"complete"),mt(this,"abort"),Ss(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ia(this):this.Xa())},t.Xa=function(){Ia(this)};function Ia(f){if(f.h&&typeof l<"u"){if(f.v&&ki(f)==4)setTimeout(f.Ca.bind(f),0);else if(mt(f,"readystatechange"),ki(f)==4){f.h=!1;try{const te=f.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var j;if(j=te===0){let de=String(f.D).match(vh)[1]||null;!de&&c.self&&c.self.location&&(de=c.self.location.protocol.slice(0,-1)),j=!as.test(de?de.toLowerCase():"")}E=j}if(E)mt(f,"complete"),mt(f,"success");else{f.o=6;try{var Q=ki(f)>2?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.ca()+"]",uc(f)}}finally{Ss(f)}}}}function Ss(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||mt(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ki(f){return f.g?f.g.readyState:0}t.ca=function(){try{return ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),xa(_)}};function cn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function As(f){const _={};f=(f.g&&ki(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<f.length;j++){if(U(f[j]))continue;var E=ph(f[j]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=_[Q]||[];_[Q]=te,te.push(E)}Ie(_,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function vr(f){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=os("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=os("baseRetryDelayMs",5e3,f),this.Za=os("retryDelaySeedMs",1e4,f),this.Ta=os("forwardChannelMaxRetries",2,f),this.va=os("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(f&&f.concurrentRequestLimit),this.Ba=new gr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=vr.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,j){Rt(0),this.W=f,this.H=_||{},E&&j!==void 0&&(this.H.OSID=E,this.H.OAID=j),this.F=this.X,this.J=Nh(this,null,this.W),ls(this)};function hc(f){if(Do(f),f.I==3){var _=f.V++,E=Bt(f.J);if(at(E,"SID",f.M),at(E,"RID",_),at(E,"TYPE","terminate"),Da(f,E),_=new Ci(f,f.j,_),_.M=2,_.A=Sa(Bt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Ih(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Zi(_)}Ch(f)}function br(f){f.g&&(fc(f),f.g.cancel(),f.g=null)}function Do(f){br(f),f.v&&(c.clearTimeout(f.v),f.v=null),jo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function ls(f){if(!ec(f.h)&&!f.m){f.m=!0;var _=f.Ea;K||S(),Y||(K(),Y=!0),D.add(_,f),f.D=0}}function ko(f,_){return ns(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=oi(m(f.Ea,f,_),Rh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Q=new Ci(this,this.j,f);let te=this.o;if(this.U&&(te?(te=F(te),X(te,this.U)):te=this.U),this.u!==null||this.R||(Q.J=te,te=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var j=this.i[E];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(_+=j,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Eh(this,Q,_),E=Bt(this.J),at(E,"RID",f),at(E,"CVER",22),this.G&&at(E,"X-HTTP-Session-Id",this.G),Da(this,E),te&&(this.R?_="headers="+Ts(ui(te))+"&"+_:this.u&&Ca(E,this.u,te)),tc(this.h,Q),this.Ra&&at(E,"TYPE","init"),this.S?(at(E,"$req",_),at(E,"SID","null"),Q.U=!0,Ji(Q,E,null)):Ji(Q,E,_),this.I=2}}else this.I==3&&(f?dc(this,f):this.i.length==0||ec(this.h)||dc(this))};function dc(f,_){var E;_?E=_.l:E=f.V++;const j=Bt(f.J);at(j,"SID",f.M),at(j,"RID",E),at(j,"AID",f.K),Da(f,j),f.u&&f.o&&Ca(j,f.u,f.o),E=new Ci(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Eh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),tc(f.h,E),Ji(E,j,_)}function Da(f,_){f.H&&Ee(f.H,function(E,j){at(_,j,E)}),f.l&&Ee({},function(E,j){at(_,j,E)})}function Eh(f,_,E){E=Math.min(f.i.length,E);const j=f.l?m(f.l.Ka,f.l,f):null;e:{var Q=f.i;let Oe=-1;for(;;){const Mt=["count="+E];Oe==-1?E>0?(Oe=Q[0].g,Mt.push("ofs="+Oe)):Oe=0:Mt.push("ofs="+Oe);let nt=!0;for(let wt=0;wt<E;wt++){var te=Q[wt].g;const hi=Q[wt].map;if(te-=Oe,te<0)Oe=Math.max(0,Q[wt].g-100),nt=!1;else try{te="req"+te+"_"||"";try{var de=hi instanceof Map?hi:Object.entries(hi);for(const[us,ji]of de){let Mi=ji;h(ji)&&(Mi=Xi(ji)),Mt.push(te+us+"="+encodeURIComponent(Mi))}}catch(us){throw Mt.push(te+"type="+encodeURIComponent("_badmap")),us}}catch{j&&j(hi)}}if(nt){de=Mt.join("&");break e}}de=void 0}return f=f.i.splice(0,E),_.G=f,de}function Th(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;K||S(),Y||(K(),Y=!0),D.add(_,f),f.A=0}}function ka(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=oi(m(f.Da,f),Rh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,Sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=oi(m(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),br(this),Sh(this))};function fc(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Sh(f){f.g=new Ci(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Bt(f.na);at(_,"RID","rpc"),at(_,"SID",f.M),at(_,"AID",f.K),at(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&at(_,"TO",f.ia),at(_,"TYPE","xmlhttp"),Da(f,_),f.u&&f.o&&Ca(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=Sa(Bt(_)),E.u=null,E.R=!0,To(E,f)}t.Va=function(){this.C!=null&&(this.C=null,br(this),ka(this),Rt(19))};function jo(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Ah(f,_){var E=null;if(f.g==_){jo(f),fc(f),f.g=null;var j=2}else if(is(f.h,_))E=_.G,nc(f.h,_),j=1;else return;if(f.I!=0){if(_.o)if(j==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Q=f.D;j=hr(),mt(j,new Yn(j,E)),ls(f)}else Th(f);else if(Q=_.m,Q==3||Q==0&&_.X>0||!(j==1&&ko(f,_)||j==2&&ka(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),Q){case 1:cs(f,5);break;case 4:cs(f,10);break;case 3:cs(f,6);break;default:cs(f,2)}}}function Rh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function cs(f,_){if(f.j.info("Error code "+_),_==2){var E=m(f.bb,f),j=f.Ua;const Q=!j;j=new Xn(j||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||an(j,"https"),Sa(j),Q?Ii(j.toString(),E):lc(j.toString(),E)}else Rt(2);f.I=0,f.l&&f.l.pa(_),Ch(f),Do(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ch(f){if(f.I=0,f.ja=[],f.l){const _=ic(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ja,_),R(f.ja,f.i),f.h.i.length=0,T(f.i),f.i.length=0),f.l.oa()}}function Nh(f,_,E){var j=E instanceof Xn?Bt(E):new Xn(E);if(j.g!="")_&&(j.g=_+"."+j.g),dr(j,j.u);else{var Q=c.location;j=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;const te=new Xn(null);j&&an(te,j),_&&(te.g=_),Q&&dr(te,Q),E&&(te.h=E),j=te}return E=f.G,_=f.wa,E&&_&&at(j,E,_),at(j,"VER",f.ka),Da(f,j),j}function Ih(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new ut(new rs({ab:E})):new ut(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dh(){}t=Dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xr(){}xr.prototype.g=function(f,_){return new Rn(f,_)};function Rn(f,_){rt.call(this),this.g=new vr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!U(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Rs(this)}b(Rn,rt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){hc(this.g)},Rn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=Xi(f),f=E);_.i.push(new zt(_.Ya++,f)),_.I==3&&ls(_)},Rn.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,Rn.Z.N.call(this)};function kh(f){Wt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}b(kh,Wt);function jh(){jn.call(this),this.status=1}b(jh,jn);function Rs(f){this.g=f}b(Rs,Dh),Rs.prototype.ra=function(){mt(this.g,"a")},Rs.prototype.qa=function(f){mt(this.g,new kh(f))},Rs.prototype.pa=function(f){mt(this.g,new jh)},Rs.prototype.oa=function(){mt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,rA=function(){return new xr},sA=function(){return hr()},iA=At,xy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,rf=Ea,Wl.COMPLETE="complete",nA=Wl,ur.EventType=bn,bn.OPEN="a",bn.CLOSE="b",bn.ERROR="c",bn.MESSAGE="d",rt.prototype.listen=rt.prototype.J,ru=ur,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,tA=ut}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="12.9.0";function pj(t){zl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new v0("@firebase/firestore");function dl(){return ho.logLevel}function pe(t,...e){if(ho.logLevel<=Ke.DEBUG){const n=e.map(D0);ho.debug(`Firestore (${zl}): ${t}`,...n)}}function tr(t,...e){if(ho.logLevel<=Ke.ERROR){const n=e.map(D0);ho.error(`Firestore (${zl}): ${t}`,...n)}}function fo(t,...e){if(ho.logLevel<=Ke.WARN){const n=e.map(D0);ho.warn(`Firestore (${zl}): ${t}`,...n)}}function D0(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,aA(t,s,n)}function aA(t,e,n){let s=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function st(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||aA(e,a,s)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class yj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vj{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string",31837,{l:s}),new oA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class bj{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xj{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _j{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const s=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=wj(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Ye(t,e){return t<e?-1:t>e?1:0}function _y(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Pg(a)===Pg(l)?Ye(a,l):Pg(a)?1:-1}return Ye(t.length,e.length)}const Ej=55296,Tj=57343;function Pg(t){const e=t.charCodeAt(0);return e>=Ej&&e<=Tj}function Cl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__name__";class ps{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ne(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ps.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ps?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=ps.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ye(e.length,n.length)}static compareSegments(e,n){const s=ps.isNumericId(e),a=ps.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ps.extractNumericId(e).compare(ps.extractNumericId(n)):_y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class yt extends ps{construct(e,n,s){return new yt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new yt(n)}static emptyPath(){return new yt([])}}const Sj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends ps{construct(e,n,s){return new gn(e,n,s)}static isValidIdentifier(e){return Sj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new gn([uE])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new fe(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(yt.fromString(e))}static fromName(e){return new Se(yt.fromString(e).popFirst(5))}static empty(){return new Se(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e,n){if(!n)throw new fe(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Aj(t,e,n,s){if(e===!0&&s===!0)throw new fe(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hE(t){if(!Se.isDocumentKey(t))throw new fe(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dE(t){if(Se.isDocumentKey(t))throw new fe(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function cA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zf(t);throw new fe(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function nh(t,e){if(!cA(t))throw new fe(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=-62135596800,mE=1e6;class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*mE);return new _t(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fE)throw new fe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nh(e,_t._jsonSchema))return new _t(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_t._jsonSchemaVersion="firestore/timestamp/1.0",_t._jsonSchema={type:Xt("string",_t._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new _t(0,0))}static max(){return new De(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function Rj(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=De.fromTimestamp(s===1e9?new _t(n+1,0):new _t(n,s));return new na(a,Se.empty(),e)}function Cj(t){return new na(t.readTime,t.key,Du)}class na{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new na(De.min(),Se.empty(),Du)}static max(){return new na(De.max(),Se.empty(),Du)}}function Nj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Se.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t){if(t.code!==oe.FAILED_PRECONDITION||t.message!==Ij)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new he(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof he?n:he.resolve(n)}catch(n){return he.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):he.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):he.reject(n)}static resolve(e){return new he(((n,s)=>{n(e)}))}static reject(e){return new he(((n,s)=>{s(e)}))}static waitFor(e){return new he(((n,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&n()}),(d=>s(d)))})),c=!0,l===a&&n()}))}static or(e){let n=he.resolve(!1);for(const s of e)n=n.next((a=>a?he.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new he(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next((v=>{c[m]=v,++h,h===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new he(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function kj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Fl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}em.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=-1;function tm(t){return t==null}function Tf(t){return t===0&&1/t==-1/0}function jj(t){return typeof t=="number"&&Number.isInteger(t)&&!Tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="";function Mj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pE(e)),e=Vj(t.get(n),e);return pE(e)}function Vj(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case uA:n+="";break;default:n+=l}}return n}function pE(t){return t+uA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zd(this.root,e,this.comparator,!1)}getReverseIterator(){return new zd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zd(this.root,e,this.comparator,!0)}}class zd{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??pn.RED,this.left=a??pn.EMPTY,this.right=l??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new pn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new si([])}unionWith(e){let n=new tn(gn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dA("Invalid base64 string: "+l):l}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Oj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ia(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=Oj.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sa(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA="server_timestamp",mA="__type__",pA="__previous_value__",gA="__local_write_time__";function M0(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mA])==null?void 0:s.stringValue)===fA}function nm(t){const e=t.mapValue.fields[pA];return M0(e)?nm(e):e}function ku(t){const e=ia(t.mapValue.fields[gA].timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,s,a,l,c,h,d,m,v,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=v,this.apiKey=b}}const Sf="(default)";class ju{constructor(e,n){this.projectId=e,this.database=n||Sf}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}function Lj(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="__type__",Uj="__max__",Bd={mapValue:{}},vA="__vector__",Af="value";function ra(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?M0(t)?4:Bj(t)?9007199254740991:zj(t)?10:11:Ne(28295,{value:t})}function ws(t,e){if(t===e)return!0;const n=ra(t);if(n!==ra(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ku(t).isEqual(ku(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ia(a.timestampValue),h=ia(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return sa(a.bytesValue).isEqual(sa(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Pt(a.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(a.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Pt(a.integerValue)===Pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Pt(a.doubleValue),h=Pt(l.doubleValue);return c===h?Tf(c)===Tf(h):isNaN(c)&&isNaN(h)}return!1})(t,e);case 9:return Cl(t.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(gE(c)!==gE(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!ws(c[d],h[d])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function Mu(t,e){return(t.values||[]).find((n=>ws(n,e)))!==void 0}function Nl(t,e){if(t===e)return 0;const n=ra(t),s=ra(e);if(n!==s)return Ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Pt(l.integerValue||l.doubleValue),d=Pt(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return vE(t.timestampValue,e.timestampValue);case 4:return vE(ku(t),ku(e));case 5:return _y(t.stringValue,e.stringValue);case 6:return(function(l,c){const h=sa(l),d=sa(c);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),d=c.split("/");for(let m=0;m<h.length&&m<d.length;m++){const v=Ye(h[m],d[m]);if(v!==0)return v}return Ye(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Ye(Pt(l.latitude),Pt(c.latitude));return h!==0?h:Ye(Pt(l.longitude),Pt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bE(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var x,T,R,I;const h=l.fields||{},d=c.fields||{},m=(x=h[Af])==null?void 0:x.arrayValue,v=(T=d[Af])==null?void 0:T.arrayValue,b=Ye(((R=m==null?void 0:m.values)==null?void 0:R.length)||0,((I=v==null?void 0:v.values)==null?void 0:I.length)||0);return b!==0?b:bE(m,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Bd.mapValue&&c===Bd.mapValue)return 0;if(l===Bd.mapValue)return 1;if(c===Bd.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=c.fields||{},v=Object.keys(m);d.sort(),v.sort();for(let b=0;b<d.length&&b<v.length;++b){const x=_y(d[b],v[b]);if(x!==0)return x;const T=Nl(h[d[b]],m[v[b]]);if(T!==0)return T}return Ye(d.length,v.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function vE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=ia(t),s=ia(e),a=Ye(n.seconds,s.seconds);return a!==0?a:Ye(n.nanos,s.nanos)}function bE(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Nl(n[a],s[a]);if(l)return l}return Ye(n.length,s.length)}function Il(t){return wy(t)}function wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ia(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return sa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Se.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=wy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${wy(n.fields[c])}`;return a+"}"})(t.mapValue):Ne(61005,{value:t})}function af(t){switch(ra(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nm(t);return e?16+af(e):16;case 5:return 2*t.stringValue.length;case 6:return sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+af(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return fa(s.fields,((l,c)=>{a+=l.length+af(c)})),a})(t.mapValue);default:throw Ne(13486,{value:t})}}function xE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ey(t){return!!t&&"integerValue"in t}function V0(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function wE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function of(t){return!!t&&"mapValue"in t}function zj(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yA])==null?void 0:s.stringValue)===vA}function pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=pu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return{...t}}function Bj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Uj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.value=e}static empty(){return new Hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!of(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=gn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}c?s[h.lastSegment()]=pu(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];of(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){fa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Hn(pu(this.value))}}function bA(t){const e=[];return fa(t.fields,((n,s)=>{const a=new gn([n]);if(of(s)){const l=bA(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,s,a,l,c,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new En(e,0,De.min(),De.min(),De.min(),Hn.empty(),0)}static newFoundDocument(e,n,s,a){return new En(e,1,n,De.min(),s,a,0)}static newNoDocument(e,n){return new En(e,2,n,De.min(),De.min(),Hn.empty(),0)}static newUnknownDocument(e,n){return new En(e,3,n,De.min(),De.min(),Hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof En&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.position=e,this.inclusive=n}}function EE(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=Se.comparator(Se.fromName(c.referenceValue),n.key):s=Nl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function TE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{}class $t extends xA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new qj(e,n,s):n==="array-contains"?new Yj(e,s):n==="in"?new $j(e,s):n==="not-in"?new Xj(e,s):n==="array-contains-any"?new Qj(e,s):new $t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Gj(e,s):new Kj(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Nl(n,this.value)):n!==null&&ra(this.value)===ra(n)&&this.matchesComparison(Nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends xA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ki(e,n)}matches(e){return _A(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _A(t){return t.op==="and"}function wA(t){return Hj(t)&&_A(t)}function Hj(t){for(const e of t.filters)if(e instanceof Ki)return!1;return!0}function Ty(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+Il(t.value);if(wA(t))return t.filters.map((e=>Ty(e))).join(",");{const e=t.filters.map((n=>Ty(n))).join(",");return`${t.op}(${e})`}}function EA(t,e){return t instanceof $t?(function(s,a){return a instanceof $t&&s.op===a.op&&s.field.isEqual(a.field)&&ws(s.value,a.value)})(t,e):t instanceof Ki?(function(s,a){return a instanceof Ki&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&EA(c,a.filters[h])),!0):!1})(t,e):void Ne(19439)}function TA(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${Il(n.value)}`})(t):t instanceof Ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(TA).join(" ,")+"}"})(t):"Filter"}class qj extends $t{constructor(e,n,s){super(e,n,s),this.key=Se.fromName(s.referenceValue)}matches(e){const n=Se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Gj extends $t{constructor(e,n){super(e,"in",n),this.keys=SA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Kj extends $t{constructor(e,n){super(e,"not-in",n),this.keys=SA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function SA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>Se.fromName(s.referenceValue)))}class Yj extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return V0(n)&&Mu(n.arrayValue,this.value)}}class $j extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class Xj extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class Qj extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!V0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Mu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function SE(t,e=null,n=[],s=[],a=null,l=null,c=null){return new Wj(t,e,n,s,a,l,c)}function O0(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ty(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),tm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Il(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Il(s))).join(",")),e.Te=n}return e.Te}function P0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TE(t.startAt,e.startAt)&&TE(t.endAt,e.endAt)}function Sy(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n=null,s=[],a=[],l=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Jj(t,e,n,s,a,l,c,h){return new Hl(t,e,n,s,a,l,c,h)}function L0(t){return new Hl(t)}function AE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zj(t){return Se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function AA(t){return t.collectionGroup!==null}function gu(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new tn(gn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Vu(l,s))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new Vu(gn.keyField(),s))}return e.Ie}function ys(t){const e=Me(t);return e.Ee||(e.Ee=eM(e,gu(t))),e.Ee}function eM(t,e){if(t.limitType==="F")return SE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Vu(a.field,l)}));const n=t.endAt?new Rf(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Rf(t.startAt.position,t.startAt.inclusive):null;return SE(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ay(t,e){const n=t.filters.concat([e]);return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tM(t,e){const n=t.explicitOrderBy.concat([e]);return new Hl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Ry(t,e,n){return new Hl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function im(t,e){return P0(ys(t),ys(e))&&t.limitType===e.limitType}function RA(t){return`${O0(ys(t))}|lt:${t.limitType}`}function fl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>TA(a))).join(", ")}]`),tm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Il(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Il(a))).join(",")),`Target(${s})`})(ys(t))}; limitType=${t.limitType})`}function sm(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Se.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of gu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,d){const m=EE(c,h,d);return c.inclusive?m<=0:m<0})(s.startAt,gu(s),a)||s.endAt&&!(function(c,h,d){const m=EE(c,h,d);return c.inclusive?m>=0:m>0})(s.endAt,gu(s),a))})(t,e)}function nM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CA(t){return(e,n)=>{let s=!1;for(const a of gu(t)){const l=iM(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function iM(t,e,n){const s=t.field.isKeyField()?Se.comparator(e.key,n.key):(function(l,c,h){const d=c.data.field(l),m=h.data.field(l);return d!==null&&m!==null?Nl(d,m):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return hA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Nt(Se.comparator);function nr(){return sM}const NA=new Nt(Se.comparator);function au(...t){let e=NA;for(const n of t)e=e.insert(n.key,n);return e}function IA(t){let e=NA;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function to(){return yu()}function DA(){return yu()}function yu(){return new yo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rM=new Nt(Se.comparator),aM=new tn(Se.comparator);function $e(...t){let e=aM;for(const n of t)e=e.add(n);return e}const oM=new tn(Ye);function lM(){return oM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(e)?"-0":e}}function kA(t){return{integerValue:""+t}}function cM(t,e){return jj(e)?kA(e):U0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this._=void 0}}function uM(t,e,n){return t instanceof Ou?(function(a,l){const c={fields:{[mA]:{stringValue:fA},[gA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&M0(l)&&(l=nm(l)),l&&(c.fields[pA]=l),{mapValue:c}})(n,e):t instanceof Pu?MA(t,e):t instanceof Lu?VA(t,e):(function(a,l){const c=jA(a,l),h=RE(c)+RE(a.Ae);return Ey(c)&&Ey(a.Ae)?kA(h):U0(a.serializer,h)})(t,e)}function hM(t,e,n){return t instanceof Pu?MA(t,e):t instanceof Lu?VA(t,e):n}function jA(t,e){return t instanceof Cf?(function(s){return Ey(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ou extends rm{}class Pu extends rm{constructor(e){super(),this.elements=e}}function MA(t,e){const n=OA(e);for(const s of t.elements)n.some((a=>ws(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Lu extends rm{constructor(e){super(),this.elements=e}}function VA(t,e){let n=OA(e);for(const s of t.elements)n=n.filter((a=>!ws(a,s)));return{arrayValue:{values:n}}}class Cf extends rm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RE(t){return Pt(t.integerValue||t.doubleValue)}function OA(t){return V0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n){this.field=e,this.transform=n}}function fM(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Pu&&a instanceof Pu||s instanceof Lu&&a instanceof Lu?Cl(s.elements,a.elements,ws):s instanceof Cf&&a instanceof Cf?ws(s.Ae,a.Ae):s instanceof Ou&&a instanceof Ou})(t.transform,e.transform)}class mM{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class am{}function PA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new om(t.key,Dn.none()):new ih(t.key,t.data,Dn.none());{const n=t.data,s=Hn.empty();let a=new tn(gn.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ma(t.key,s,new si(a.toArray()),Dn.none())}}function pM(t,e,n){t instanceof ih?(function(a,l,c){const h=a.value.clone(),d=NE(a.fieldTransforms,l,c.transformResults);h.setAll(d),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ma?(function(a,l,c){if(!lf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=NE(a.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(LA(a)),d.setAll(h),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function vu(t,e,n,s){return t instanceof ih?(function(l,c,h,d){if(!lf(l.precondition,c))return h;const m=l.value.clone(),v=IE(l.fieldTransforms,d,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,s):t instanceof ma?(function(l,c,h,d){if(!lf(l.precondition,c))return h;const m=IE(l.fieldTransforms,d,c),v=c.data;return v.setAll(LA(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,c,h){return lf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(t,e,n)}function gM(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=jA(s.transform,a||null);l!=null&&(n===null&&(n=Hn.empty()),n.set(s.field,l))}return n||null}function CE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Cl(s,a,((l,c)=>fM(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ih extends am{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ma extends am{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function LA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function NE(t,e,n){const s=new Map;st(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,hM(c,h,n[a]))}return s}function IE(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,uM(l,c,e))}return s}class om extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yM extends am{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&pM(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=vu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=DA();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=n.has(a.key)?null:h;const d=PA(c,h);d!==null&&s.set(a.key,d),c.isValidDocument()||c.convertToNoDocument(De.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((n,s)=>CE(n,s)))&&Cl(this.baseMutations,e.baseMutations,((n,s)=>CE(n,s)))}}class z0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){st(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return rM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new z0(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,We;function _M(t){switch(t){case oe.OK:return Ne(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function UA(t){if(t===void 0)return tr("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Kt.OK:return oe.OK;case Kt.CANCELLED:return oe.CANCELLED;case Kt.UNKNOWN:return oe.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return oe.INTERNAL;case Kt.UNAVAILABLE:return oe.UNAVAILABLE;case Kt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Kt.NOT_FOUND:return oe.NOT_FOUND;case Kt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Kt.ABORTED:return oe.ABORTED;case Kt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Kt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne(39323,{code:t})}}(We=Kt||(Kt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new ea([4294967295,4294967295],0);function DE(t){const e=wM().encode(t),n=new eA;return n.update(e),new Uint8Array(n.digest())}function kE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ea([n,s],0),new ea([a,l],0)]}class B0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(s<0)throw new ou(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ea.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(ea.fromNumber(s)));return a.compare(EM)===1&&(a=new ea([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DE(e),[s,a]=kE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new B0(l,a,n);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const n=DE(e),[s,a]=kE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lm(De.min(),a,new Nt(Ye),nr(),$e())}}class sh{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new sh(s,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class zA{constructor(e,n){this.targetId=e,this.Ce=n}}class BA{constructor(e,n,s=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class jE{constructor(){this.ve=0,this.Fe=ME(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}})),new sh(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=ME()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class TM{constructor(e){this.Ge=e,this.ze=new Map,this.je=nr(),this.He=Fd(),this.Je=Fd(),this.Ze=new Nt(Ye)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Sy(l))if(s===0){const c=new Se(l.path);this.et(n,c,En.newNoDocument(c,De.min()))}else st(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,h;try{c=sa(s).toUint8Array()}catch(d){if(d instanceof dA)return fo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new B0(c,a,l)}catch(d){return fo(d instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Sy(h.target)){const d=new Se(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,En.newNoDocument(d,e))}l.Be&&(n.set(c,l.ke()),l.Ke())}}));let s=$e();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new lm(e,n,this.Ze,this.je,s);return this.je=nr(),this.He=Fd(),this.Je=Fd(),this.Ze=new Nt(Ye),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new jE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new tn(Ye),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new tn(Ye),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fd(){return new Nt(Se.comparator)}function ME(){return new Nt(Se.comparator)}const SM={asc:"ASCENDING",desc:"DESCENDING"},AM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class CM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cy(t,e){return t.useProto3Json||tm(e)?e:{value:e}}function Nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NM(t,e){return Nf(t,e.toTimestamp())}function vs(t){return st(!!t,49232),De.fromTimestamp((function(n){const s=ia(n);return new _t(s.seconds,s.nanos)})(t))}function F0(t,e){return Ny(t,e).canonicalString()}function Ny(t,e){const n=(function(a){return new yt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function HA(t){const e=yt.fromString(t);return st($A(e),10190,{key:e.toString()}),e}function Iy(t,e){return F0(t.databaseId,e.path)}function Lg(t,e){const n=HA(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Se(GA(n))}function qA(t,e){return F0(t.databaseId,e)}function IM(t){const e=HA(t);return e.length===4?yt.emptyPath():GA(e)}function Dy(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GA(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function VE(t,e,n){return{name:Iy(t,e),fields:n.value.mapValue.fields}}function DM(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(st(v===void 0||typeof v=="string",58123),vn.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),vn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const v=m.code===void 0?oe.UNKNOWN:UA(m.code);return new fe(v,m.message||"")})(c);n=new BA(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Lg(t,s.document.name),l=vs(s.document.updateTime),c=s.document.createTime?vs(s.document.createTime):De.min(),h=new Hn({mapValue:{fields:s.document.fields}}),d=En.newFoundDocument(a,l,c,h),m=s.targetIds||[],v=s.removedTargetIds||[];n=new cf(m,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Lg(t,s.document),l=s.readTime?vs(s.readTime):De.min(),c=En.newNoDocument(a,l),h=s.removedTargetIds||[];n=new cf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Lg(t,s.document),l=s.removedTargetIds||[];n=new cf([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new xM(a,l),h=s.targetId;n=new zA(h,c)}}return n}function kM(t,e){let n;if(e instanceof ih)n={update:VE(t,e.key,e.value)};else if(e instanceof om)n={delete:Iy(t,e.key)};else if(e instanceof ma)n={update:VE(t,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof yM))return Ne(16599,{dt:e.type});n={verify:Iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Lu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Cf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:NM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(t,e.precondition)),n}function jM(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?vs(a.updateTime):vs(l);return c.isEqual(De.min())&&(c=vs(l)),new mM(c,a.transformResults||[])})(n,e)))):[]}function MM(t,e){return{documents:[qA(t,e.path)]}}function VM(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qA(t,a);const l=(function(m){if(m.length!==0)return YA(Ki.create(m,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((v=>(function(x){return{field:ml(x.field),direction:LM(x.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const h=Cy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:a}}function OM(t){let e=IM(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){st(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(b){const x=KA(b);return x instanceof Ki&&wA(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((x=>(function(R){return new Vu(pl(R.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(x)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let x;return x=typeof b=="object"?b.value:b,tm(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(b){const x=!!b.before,T=b.values||[];return new Rf(T,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(b){const x=!b.before,T=b.values||[];return new Rf(T,x)})(n.endAt)),Jj(e,a,c,l,h,"F",d,m)}function PM(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=pl(n.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=pl(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=pl(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=pl(n.unaryFilter.field);return $t.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(pl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ki.create(n.compositeFilter.filters.map((s=>KA(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function LM(t){return SM[t]}function UM(t){return AM[t]}function zM(t){return RM[t]}function ml(t){return{fieldPath:t.canonicalString()}}function pl(t){return gn.fromServerFormat(t.fieldPath)}function YA(t){return t instanceof $t?(function(n){if(n.op==="=="){if(wE(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wE(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:ml(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(n.field),op:UM(n.op),value:n.value}}})(t):t instanceof Ki?(function(n){const s=n.getFilters().map((a=>YA(a)));return s.length===1?s[0]:{compositeFilter:{op:zM(n.op),filters:s}}})(t):Ne(54877,{filter:t})}function BM(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function $A(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function XA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,s,a,l=De.min(),c=De.min(),h=vn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.yt=e}}function HM(t){const e=OM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(){this.Sn=new GM}addToCollectionParentIndex(e,n){return this.Sn.add(n),he.resolve()}getCollectionParents(e,n){return he.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return he.resolve()}deleteFieldIndex(e,n){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,n){return he.resolve()}getDocumentsMatchingTarget(e,n){return he.resolve(null)}getIndexType(e,n){return he.resolve(0)}getFieldIndexes(e,n){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,n){return he.resolve(na.min())}getMinOffsetFromCollectionGroup(e,n){return he.resolve(na.min())}updateCollectionGroup(e,n,s){return he.resolve()}updateIndexEntries(e,n){return he.resolve()}}class GM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new tn(yt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new tn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QA=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(QA,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Dl(0)}static ar(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="LruGarbageCollector",KM=1048576;function LE([t,e],[n,s]){const a=Ye(t,n);return a===0?Ye(e,s):a}class YM{constructor(e){this.Pr=e,this.buffer=new tn(LE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();LE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $M{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){pe(PE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Fl(n)?pe(PE,"Ignoring IndexedDB error during garbage collection: ",n):await Bl(n)}await this.Ar(3e5)}))}}class XM{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return he.resolve(em.ce);const s=new YM(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(OE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,c,h,d,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(m=Date.now(),dl()<=Ke.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${b} documents in `+(m-d)+`ms
Total Duration: ${m-v}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function QM(t,e){return new XM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.changes=new yo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,En.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?he.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&vu(s.mutation,a,si.empty(),_t.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const a=to();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=au();return l.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=to();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{n.set(c,h)}))}))}computeViews(e,n,s,a){let l=nr();const c=yu(),h=(function(){return yu()})();return n.forEach(((d,m)=>{const v=s.get(m.key);a.has(m.key)&&(v===void 0||v.mutation instanceof ma)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),vu(v.mutation,m,v.mutation.getFieldMask(),_t.now())):c.set(m.key,si.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((m,v)=>c.set(m,v))),n.forEach(((m,v)=>h.set(m,new JM(v,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=yu();let a=new Nt(((c,h)=>c-h)),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const h of c)h.keys().forEach((d=>{const m=n.get(d);if(m===null)return;let v=s.get(d)||si.empty();v=h.applyToLocalView(m,v),s.set(d,v);const b=(a.get(h.batchId)||$e()).add(d);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,v=d.value,b=DA();v.forEach((x=>{if(!l.has(x)){const T=PA(n.get(x),s.get(x));T!==null&&b.set(x,T),l=l.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,b))}return he.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return Zj(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):he.resolve(to());let h=Du,d=l;return c.next((m=>he.forEach(m,((v,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(v)?he.resolve():this.remoteDocumentCache.getEntry(e,v).next((x=>{d=d.insert(v,x)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,d,m,$e()))).next((v=>({batchId:h,changes:IA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Se(n)).next((s=>{let a=au();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=au();return this.indexManager.getCollectionParents(e,l).next((h=>he.forEach(h,(d=>{const m=(function(b,x){return new Hl(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((v=>{v.forEach(((b,x)=>{c=c.insert(b,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((d,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,En.newInvalidDocument(v)))}));let h=au();return c.forEach(((d,m)=>{const v=l.get(d);v!==void 0&&vu(v.mutation,m,si.empty(),_t.now()),sm(n,m)&&(h=h.insert(d,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return he.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:vs(a.createTime)}})(n)),he.resolve()}getNamedQuery(e,n){return he.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:HM(a.bundledQuery),readTime:vs(a.readTime)}})(n)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.overlays=new Nt(Se.comparator),this.Lr=new Map}getOverlay(e,n){return he.resolve(this.overlays.get(n))}getOverlays(e,n){const s=to();return he.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),he.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),he.resolve()}getOverlaysForCollection(e,n,s){const a=to(),l=n.length+1,c=new Se(n.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return he.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new Nt(((m,v)=>m-v));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>s){let v=l.get(m.largestBatchId);v===null&&(v=to(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=to(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=a)););return he.resolve(h)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new bM(n,s));let l=this.Lr.get(n);l===void 0&&(l=$e(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.kr=new tn(ln.Kr),this.qr=new tn(ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new ln(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new ln(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Se(new yt([])),s=new ln(n,e),a=new ln(n,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Se(new yt([])),s=new ln(n,e),a=new ln(n,e+1);let l=$e();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new ln(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Se.comparator(e.key,n.key)||Ye(e.Hr,n.Hr)}static Ur(e,n){return Ye(e.Hr,n.Hr)||Se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new tn(ln.Kr)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vM(l,n,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new ln(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(c)}lookupMutationBatch(e,n){return he.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return he.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?j0:this.Yn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ln(n,0),a=new ln(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),he.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new tn(Ye);return n.forEach((a=>{const l=new ln(a,0),c=new ln(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),he.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Se.isDocumentKey(l)||(l=l.child(""));const c=new ln(new Se(l),0);let h=new tn(Ye);return this.Jr.forEachWhile((d=>{const m=d.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Hr)),!0)}),c),he.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){st(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return he.forEach(n.mutations,(a=>{const l=new ln(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new ln(n,0),a=this.Jr.firstAfterOrEqual(s);return he.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.ti=e,this.docs=(function(){return new Nt(Se.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return he.resolve(s?s.document.mutableCopy():En.newInvalidDocument(n))}getEntries(e,n){let s=nr();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():En.newInvalidDocument(a))})),he.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=nr();const c=n.path,h=new Se(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:v}}=d.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Nj(Cj(v),s)<=0||(a.has(v.key)||sm(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return he.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Ne(9500)}ni(e,n){return he.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new rV(this)}getSize(e){return he.resolve(this.size)}}class rV extends WM{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),he.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.persistence=e,this.ri=new yo((n=>O0(n)),P0),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.ii=0,this.si=new H0,this.targetCount=0,this.oi=Dl._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),he.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,he.resolve()}updateTargetData(e,n){return this.lr(n),he.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),he.waitFor(l).next((()=>a))}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return he.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),he.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),he.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),he.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return he.resolve(s)}containsKey(e,n){return he.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this._i={},this.overlays={},this.ai=new em(0),this.ui=!1,this.ui=!0,this.ci=new nV,this.referenceDelegate=e(this),this.li=new aV(this),this.indexManager=new qM,this.remoteDocumentCache=(function(a){return new sV(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new FM(n),this.Pi=new eV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new iV(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const a=new oV(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return he.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class oV extends Dj{constructor(e){super(),this.currentSequenceNumber=e}}class q0{constructor(e){this.persistence=e,this.Ri=new H0,this.Ai=null}static Vi(e){return new q0(e)}get di(){if(this.Ai)return this.Ai;throw Ne(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),he.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),he.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),he.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,(s=>{const a=Se.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,De.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return he.or([()=>he.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class If{constructor(e,n){this.persistence=e,this.fi=new yo((s=>Mj(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=QM(this,n)}static Vi(e,n){return new If(e,n)}Ti(){}Ii(e){return he.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return he.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?he.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,n).next((h=>{h||(s++,l.removeEntry(c,De.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),he.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=af(e.data.value)),n}wr(e,n,s){return he.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return he.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=$e(),a=$e();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new G0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return VD()?8:kj(Sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new lV;return this.ys(e,n,c).next((h=>{if(l.result=h,this.As)return this.ws(e,n,c,h.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(dl()<=Ke.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),he.resolve()):(dl()<=Ke.DEBUG&&pe("QueryEngine","Query:",fl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(dl()<=Ke.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):he.resolve())}gs(e,n){if(AE(n))return he.resolve(null);let s=ys(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ry(n,null,"F"),s=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=$e(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const m=this.bs(n,h);return this.Ss(n,m,c,d.readTime)?this.gs(e,Ry(n,null,"F")):this.Ds(e,m,n,d)}))))})))))}ps(e,n,s,a){return AE(n)||a.isEqual(De.min())?he.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(n,l);return this.Ss(n,c,s,a)?he.resolve(null):(dl()<=Ke.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fl(n)),this.Ds(e,c,n,Rj(a,Du)).next((h=>h)))}))}bs(e,n){let s=new tn(CA(e));return n.forEach(((a,l)=>{sm(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return dl()<=Ke.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",fl(n)),this.fs.getDocumentsMatchingQuery(e,n,na.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LocalStore",uV=3e8;class hV{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new Nt(Ye),this.Fs=new yo((l=>O0(l)),P0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZM(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function dV(t,e,n,s){return new hV(t,e,n,s)}async function JA(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let d=$e();for(const m of a){c.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}for(const m of l){h.push(m.batchId);for(const v of m.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(s,d).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function fV(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,v){const b=m.batch,x=b.keys();let T=he.resolve();return x.forEach((R=>{T=T.next((()=>v.getEntry(d,R))).next((I=>{const k=m.docVersions.get(R);st(k!==null,48541),I.version.compareTo(k)<0&&(b.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),v.addEntry(I)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=$e();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function ZA(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function mV(t,e){const n=Me(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const h=[];e.targetChanges.forEach(((v,b)=>{const x=a.get(b);if(!x)return;h.push(n.li.removeMatchingKeys(l,v.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,v.addedDocuments,b))));let T=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?T=T.withResumeToken(vn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,s)),a=a.insert(b,T),(function(I,k,M){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=uV?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(x,T,v)&&h.push(n.li.updateTargetData(l,T))}));let d=nr(),m=$e();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(pV(l,c,e.documentUpdates).next((v=>{d=v.Bs,m=v.Ls}))),!s.isEqual(De.min())){const v=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(v)}return he.waitFor(h).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,m))).next((()=>d))})).then((l=>(n.vs=a,l)))}function pV(t,e,n){let s=$e(),a=$e();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=nr();return n.forEach(((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):pe(K0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{Bs:c,Ls:a}}))}function gV(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=j0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function yV(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,he.resolve(a)):n.li.allocateTargetId(s).next((c=>(a=new Xr(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function ky(t,e,n){const s=Me(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Fl(c))throw c;pe(K0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function UE(t,e,n){const s=Me(t);let a=De.min(),l=$e();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,m,v){const b=Me(d),x=b.Fs.get(v);return x!==void 0?he.resolve(b.vs.get(x)):b.li.getTargetData(m,v)})(s,c,ys(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{l=d}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,n?a:De.min(),n?l:$e()))).next((h=>(vV(s,nM(e),h),{documents:h,ks:l})))))}function vV(t,e,n){let s=t.Ms.get(e)||De.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class zE{constructor(){this.activeTargetIds=lM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bV{constructor(){this.vo=new zE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new zE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="ConnectivityMonitor";class FE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pe(BE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){pe(BE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd=null;function jy(){return Hd===null?Hd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hd++,"0x"+Hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="RestConnection",_V={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class wV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Sf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const c=jy(),h=this.Qo(e,n.toUriEncodedString());pe(Ug,`Sending RPC '${e}' ${c}:`,h,s);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,a,l);const{host:m}=new URL(h),v=Pl(m);return this.zo(e,h,d,s,v).then((b=>(pe(Ug,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw fo(Ug,`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",s),b}))}jo(e,n,s,a,l,c){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=_V[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection",Zc=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class El extends wV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!El.c_){const e=sA();Zc(e,iA.STAT_EVENT,(n=>{n.stat===xy.PROXY?pe(_n,"STAT_EVENT: detected buffering proxy"):n.stat===xy.NOPROXY&&pe(_n,"STAT_EVENT: detected no buffering proxy")})),El.c_=!0}}zo(e,n,s,a,l){const c=jy();return new Promise(((h,d)=>{const m=new tA;m.setWithCredentials(!0),m.listenOnce(nA.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case rf.NO_ERROR:const b=m.getResponseJson();pe(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),h(b);break;case rf.TIMEOUT:pe(_n,`RPC '${e}' ${c} timed out`),d(new fe(oe.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const x=m.getStatus();if(pe(_n,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let T=m.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const I=(function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(z)>=0?z:oe.UNKNOWN})(R.status);d(new fe(I,R.message))}else d(new fe(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(oe.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{pe(_n,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);pe(_n,`RPC '${e}' ${c} sending request:`,a),m.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=jy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,s),h.encodeInitMessageHeaders=!0;const m=l.join("");pe(_n,`Creating RPC '${e}' stream ${a}: ${m}`,h);const v=c.createWebChannel(m,h);this.I_(v);let b=!1,x=!1;const T=new EV({Ho:R=>{x?pe(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(b||(pe(_n,`Opening RPC '${e}' stream ${a} transport.`),v.open(),b=!0),pe(_n,`RPC '${e}' stream ${a} sending:`,R),v.send(R))},Jo:()=>v.close()});return Zc(v,ru.EventType.OPEN,(()=>{x||(pe(_n,`RPC '${e}' stream ${a} transport opened.`),T.i_())})),Zc(v,ru.EventType.CLOSE,(()=>{x||(x=!0,pe(_n,`RPC '${e}' stream ${a} transport closed`),T.o_(),this.E_(v))})),Zc(v,ru.EventType.ERROR,(R=>{x||(x=!0,fo(_n,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),T.o_(new fe(oe.UNAVAILABLE,"The operation could not be completed")))})),Zc(v,ru.EventType.MESSAGE,(R=>{var I;if(!x){const k=R.data[0];st(!!k,16349);const M=k,z=(M==null?void 0:M.error)||((I=M[0])==null?void 0:I.error);if(z){pe(_n,`RPC '${e}' stream ${a} received error:`,z);const V=z.status;let $=(function(D){const S=Kt[D];if(S!==void 0)return UA(S)})(V),K=z.message;V==="NOT_FOUND"&&K.includes("database")&&K.includes("does not exist")&&K.includes(this.databaseId.database)&&fo(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),$===void 0&&($=oe.INTERNAL,K="Unknown error status: "+V+" with message "+z.message),x=!0,T.o_(new fe($,K)),v.close()}else pe(_n,`RPC '${e}' stream ${a} received:`,k),T.__(k)}})),El.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return rA()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){return new El(t)}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){return new CM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */El.c_=!1;class e2{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="PersistentStream";class t2{constructor(e,n,s,a,l,c,h,d){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new e2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(HE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(pe(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SV extends t2{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DM(this.serializer,e),s=(function(l){if(!("targetChange"in l))return De.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?vs(c.readTime):De.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Dy(this.serializer),n.addTarget=(function(l,c){let h;const d=c.target;if(h=Sy(d)?{documents:MM(l,d)}:{query:VM(l,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=FA(l,c.resumeToken);const m=Cy(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(De.min())>0){h.readTime=Nf(l,c.snapshotVersion.toTimestamp());const m=Cy(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=PM(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Dy(this.serializer),n.removeTarget=e,this.K_(n)}}class AV extends t2{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jM(e.writeResults,e.commitTime),s=vs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>kM(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{}class CV extends RV{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Ny(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(oe.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,Ny(n,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(oe.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function NV(t,e,n,s){return new CV(t,e,n,s)}class IV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class DV{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{vo(this)&&(pe(mo,"Restarting streams for network reachability change."),await(async function(d){const m=Me(d);m.Ea.add(4),await rh(m),m.Va.set("Unknown"),m.Ea.delete(4),await um(m)})(this))}))})),this.Va=new IV(s,a)}}async function um(t){if(vo(t))for(const e of t.Ra)await e(!0)}async function rh(t){for(const e of t.Ra)await e(!1)}function n2(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Q0(n)?X0(n):ql(n).O_()&&$0(n,e))}function Y0(t,e){const n=Me(t),s=ql(n);n.Ia.delete(e),s.O_()&&i2(n,e),n.Ia.size===0&&(s.O_()?s.L_():vo(n)&&n.Va.set("Unknown"))}function $0(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ql(t).Z_(e)}function i2(t,e){t.da.$e(e),ql(t).X_(e)}function X0(t){t.da=new TM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ql(t).start(),t.Va.ua()}function Q0(t){return vo(t)&&!ql(t).x_()&&t.Ia.size>0}function vo(t){return Me(t).Ea.size===0}function s2(t){t.da=void 0}async function kV(t){t.Va.set("Online")}async function jV(t){t.Ia.forEach(((e,n)=>{$0(t,e)}))}async function MV(t,e){s2(t),Q0(t)?(t.Va.ha(e),X0(t)):t.Va.set("Unknown")}async function VV(t,e,n){if(t.Va.set("Online"),e instanceof BA&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(t,e)}catch(s){pe(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Df(t,s)}else if(e instanceof cf?t.da.Xe(e):e instanceof zA?t.da.st(e):t.da.tt(e),!n.isEqual(De.min()))try{const s=await ZA(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,m)=>{const v=l.Ia.get(d);if(!v)return;l.Ia.set(d,v.withResumeToken(vn.EMPTY_BYTE_STRING,v.snapshotVersion)),i2(l,d);const b=new Xr(v.target,d,m,v.sequenceNumber);$0(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){pe(mo,"Failed to raise snapshot:",s),await Df(t,s)}}async function Df(t,e,n){if(!Fl(e))throw e;t.Ea.add(1),await rh(t),t.Va.set("Offline"),n||(n=()=>ZA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(mo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await um(t)}))}function r2(t,e){return e().catch((n=>Df(t,n,e)))}async function hm(t){const e=Me(t),n=aa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:j0;for(;OV(e);)try{const a=await gV(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,PV(e,a)}catch(a){await Df(e,a)}a2(e)&&o2(e)}function OV(t){return vo(t)&&t.Ta.length<10}function PV(t,e){t.Ta.push(e);const n=aa(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function a2(t){return vo(t)&&!aa(t).x_()&&t.Ta.length>0}function o2(t){aa(t).start()}async function LV(t){aa(t).ra()}async function UV(t){const e=aa(t);for(const n of t.Ta)e.ea(n.mutations)}async function zV(t,e,n){const s=t.Ta.shift(),a=z0.from(s,e,n);await r2(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await hm(t)}async function BV(t,e){e&&aa(t).Y_&&await(async function(s,a){if((function(c){return _M(c)&&c!==oe.ABORTED})(a.code)){const l=s.Ta.shift();aa(s).B_(),await r2(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await hm(s)}})(t,e),a2(t)&&o2(t)}async function qE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),pe(mo,"RemoteStore received new credentials");const s=vo(n);n.Ea.add(3),await rh(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await um(n)}async function FV(t,e){const n=Me(t);e?(n.Ea.delete(2),await um(n)):e||(n.Ea.add(2),await rh(n),n.Va.set("Unknown"))}function ql(t){return t.ma||(t.ma=(function(n,s,a){const l=Me(n);return l.sa(),new SV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:kV.bind(null,t),Yo:jV.bind(null,t),t_:MV.bind(null,t),J_:VV.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),Q0(t)?X0(t):t.Va.set("Unknown")):(await t.ma.stop(),s2(t))}))),t.ma}function aa(t){return t.fa||(t.fa=(function(n,s,a){const l=Me(n);return l.sa(),new AV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LV.bind(null,t),t_:BV.bind(null,t),ta:UV.bind(null,t),na:zV.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await hm(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(mo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,h=new W0(e,n,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J0(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Fl(t))return new fe(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{static emptySet(e){return new Tl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Se.comparator(n.key,s.key):(n,s)=>Se.comparator(n.key,s.key),this.keyedMap=au(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Tl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.ga=new Nt(Se.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class kl{constructor(e,n,s,a,l,c,h,d,m){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((h=>{c.push({type:0,doc:h})})),new kl(e,n,Tl.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&im(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class qV{constructor(){this.queries=KE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Me(n),l=a.queries;a.queries=KE(),l.forEach(((c,h)=>{for(const d of h.ba)d.onError(s)}))})(this,new fe(oe.ABORTED,"Firestore shutting down"))}}function KE(){return new yo((t=>RA(t)),im)}async function l2(t,e){const n=Me(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new HV,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const h=J0(c,`Initialization of query '${fl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Z0(n)}async function c2(t,e){const n=Me(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function GV(t,e){const n=Me(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&Z0(n)}function KV(t,e,n){const s=Me(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function Z0(t){t.Ca.forEach((e=>{e.next()}))}var My,YE;(YE=My||(My={})).Ma="default",YE.Cache="cache";class u2{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new kl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.key=e}}class d2{constructor(e){this.key=e}}class YV{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.eu=CA(e),this.tu=new Tl(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new GE,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,b)=>{const x=a.get(v),T=sm(this.query,b)?b:null,R=!!x&&this.mutatedKeys.has(x.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;x&&T?x.data.isEqual(T.data)?R!==I&&(s.track({type:3,doc:T}),k=!0):this.su(x,T)||(s.track({type:2,doc:T}),k=!0,(d&&this.eu(T,d)>0||m&&this.eu(T,m)<0)&&(h=!0)):!x&&T?(s.track({type:0,doc:T}),k=!0):x&&!T&&(s.track({type:1,doc:x}),k=!0,(d||m)&&(h=!0)),k&&(T?(c=c.add(T),l=I?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,b)=>(function(T,R){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:k})}};return I(T)-I(R)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Xa;return this.Xa=d,c.length!==0||m?{snapshot:new kl(this.query,e.tu,l,c,e.mutatedKeys,d===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new d2(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new h2(s))})),n}cu(e){this.Za=e.ks,this.Ya=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ev="SyncEngine";class $V{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XV{constructor(e){this.key=e,this.hu=!1}}class QV{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new yo((h=>RA(h)),im),this.Iu=new Map,this.Eu=new Set,this.Ru=new Nt(Se.comparator),this.Au=new Map,this.Vu=new H0,this.du={},this.mu=new Map,this.fu=Dl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WV(t,e,n=!0){const s=v2(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await f2(s,e,n,!0),a}async function JV(t,e){const n=v2(t);await f2(n,e,!0,!1)}async function f2(t,e,n,s){const a=await yV(t.localStore,ys(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await ZV(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&n2(t.remoteStore,a),h}async function ZV(t,e,n,s,a){t.pu=(b,x,T)=>(async function(I,k,M,z){let V=k.view.ru(M);V.Ss&&(V=await UE(I.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,V))));const $=z&&z.targetChanges.get(k.targetId),K=z&&z.targetMismatches.get(k.targetId)!=null,Y=k.view.applyChanges(V,I.isPrimaryClient,$,K);return XE(I,k.targetId,Y.au),Y.snapshot})(t,b,x,T);const l=await UE(t.localStore,e,!0),c=new YV(e,l.ks),h=c.ru(l.documents),d=sh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),m=c.applyChanges(h,t.isPrimaryClient,d);XE(t,n,m.au);const v=new $V(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function eO(t,e,n){const s=Me(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!im(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await ky(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Y0(s.remoteStore,a.targetId),Vy(s,a.targetId)})).catch(Bl)):(Vy(s,a.targetId),await ky(s.localStore,a.targetId,!0))}async function tO(t,e){const n=Me(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Y0(n.remoteStore,s.targetId))}async function nO(t,e,n){const s=cO(t);try{const a=await(function(c,h){const d=Me(c),m=_t.now(),v=h.reduce(((T,R)=>T.add(R.key)),$e());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let R=nr(),I=$e();return d.xs.getEntries(T,v).next((k=>{R=k,R.forEach(((M,z)=>{z.isValidDocument()||(I=I.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,R))).next((k=>{b=k;const M=[];for(const z of h){const V=gM(z,b.get(z.key).overlayedDocument);V!=null&&M.push(new ma(z.key,V,bA(V.value.mapValue),Dn.exists(!0)))}return d.mutationQueue.addMutationBatch(T,m,M,h)})).next((k=>{x=k;const M=k.applyToLocalDocumentSet(b,I);return d.documentOverlayCache.saveOverlays(T,k.batchId,M)}))})).then((()=>({batchId:x.batchId,changes:IA(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,d){let m=c.du[c.currentUser.toKey()];m||(m=new Nt(Ye)),m=m.insert(h,d),c.du[c.currentUser.toKey()]=m})(s,a.batchId,n),await ah(s,a.changes),await hm(s.remoteStore)}catch(a){const l=J0(a,"Failed to persist write");n.reject(l)}}async function m2(t,e){const n=Me(t);try{const s=await mV(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?st(c.hu,14607):a.removedDocuments.size>0&&(st(c.hu,42227),c.hu=!1))})),await ah(n,s,e)}catch(s){await Bl(s)}}function $E(t,e,n){const s=Me(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const d=Me(c);d.onlineState=h;let m=!1;d.queries.forEach(((v,b)=>{for(const x of b.ba)x.va(h)&&(m=!0)})),m&&Z0(d)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iO(t,e,n){const s=Me(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new Nt(Se.comparator);c=c.insert(l,En.newNoDocument(l,De.min()));const h=$e().add(l),d=new lm(De.min(),new Map,new Nt(Ye),c,h);await m2(s,d),s.Ru=s.Ru.remove(l),s.Au.delete(e),tv(s)}else await ky(s.localStore,e,!1).then((()=>Vy(s,e,n))).catch(Bl)}async function sO(t,e){const n=Me(t),s=e.batch.batchId;try{const a=await fV(n.localStore,e);g2(n,s,null),p2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ah(n,a)}catch(a){await Bl(a)}}async function rO(t,e,n){const s=Me(t);try{const a=await(function(c,h){const d=Me(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return d.mutationQueue.lookupMutationBatch(m,h).next((b=>(st(b!==null,37113),v=b.keys(),d.mutationQueue.removeMutationBatch(m,b)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>d.localDocuments.getDocuments(m,v)))}))})(s.localStore,e);g2(s,e,n),p2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ah(s,a)}catch(a){await Bl(a)}}function p2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function g2(t,e,n){const s=Me(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||y2(t,s)}))}function y2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Y0(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),tv(t))}function XE(t,e,n){for(const s of n)s instanceof h2?(t.Vu.addReference(s.key,e),aO(t,s)):s instanceof d2?(pe(ev,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||y2(t,s.key)):Ne(19791,{wu:s})}function aO(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(pe(ev,"New document in limbo: "+n),t.Eu.add(s),tv(t))}function tv(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Se(yt.fromString(e)),s=t.fu.next();t.Au.set(s,new XV(n)),t.Ru=t.Ru.insert(n,s),n2(t.remoteStore,new Xr(ys(L0(n.path)),s,"TargetPurposeLimboResolution",em.ce))}}async function ah(t,e,n){const s=Me(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{c.push(s.pu(d,e,n).then((m=>{var v;if((m||n)&&s.isPrimaryClient){const b=m?!m.fromCache:(v=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(m){a.push(m);const b=G0.Es(d.targetId,m);l.push(b)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(d,m){const v=Me(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>he.forEach(m,(x=>he.forEach(x.Ts,(T=>v.persistence.referenceDelegate.addReference(b,x.targetId,T))).next((()=>he.forEach(x.Is,(T=>v.persistence.referenceDelegate.removeReference(b,x.targetId,T)))))))))}catch(b){if(!Fl(b))throw b;pe(K0,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const T=v.vs.get(x),R=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(R);v.vs=v.vs.insert(x,I)}}})(s.localStore,l))}async function oO(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){pe(ev,"User change. New user:",e.toKey());const s=await JA(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(oe.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ah(n,s.Ns)}}function lO(t,e){const n=Me(t),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let a=$e();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const h=n.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function v2(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=m2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iO.bind(null,e),e.Pu.J_=GV.bind(null,e.eventManager),e.Pu.yu=KV.bind(null,e.eventManager),e}function cO(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rO.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return dV(this.persistence,new cV,e.initialUser,this.serializer)}Cu(e){return new WA(q0.Vi,this.serializer)}Du(e){return new bV}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class uO extends kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){st(this.persistence.referenceDelegate instanceof If,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $M(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new WA((s=>If.Vi(s,n)),this.serializer)}}class Oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$E(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oO.bind(null,this.syncEngine),await FV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qV})()}createDatastore(e){const n=cm(e.databaseInfo.databaseId),s=TV(e.databaseInfo);return NV(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,h){return new DV(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>$E(this.syncEngine,n,0)),(function(){return FE.v()?new FE:new xV})())}createSyncEngine(e,n){return(function(a,l,c,h,d,m,v){const b=new QV(a,l,c,h,d,m);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const l=Me(a);pe(mo,"RemoteStore shutting down."),l.Ea.add(5),await rh(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Oy.provider={build:()=>new Oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="FirestoreClient";class hO{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=wn.UNAUTHENTICATED,this.clientId=k0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{pe(oa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(pe(oa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=J0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bg(t,e){t.asyncQueue.verifyOperationInProgress(),pe(oa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await JA(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function QE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dO(t);pe(oa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>qE(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>qE(e.remoteStore,a))),t._onlineComponents=e}async function dO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(oa,"Using user provided OfflineComponentProvider");try{await Bg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Bg(t,new kf)}}else pe(oa,"Using default OfflineComponentProvider"),await Bg(t,new uO(void 0));return t._offlineComponents}async function x2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(oa,"Using user provided OnlineComponentProvider"),await QE(t,t._uninitializedComponentsProvider._online)):(pe(oa,"Using default OnlineComponentProvider"),await QE(t,new Oy))),t._onlineComponents}function fO(t){return x2(t).then((e=>e.syncEngine))}async function _2(t){const e=await x2(t),n=e.eventManager;return n.onListen=WV.bind(null,e.syncEngine),n.onUnlisten=eO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tO.bind(null,e.syncEngine),n}function mO(t,e,n={}){const s=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const v=new b2({next:x=>{v.Nu(),c.enqueueAndForget((()=>c2(l,b)));const T=x.docs.has(h);!T&&x.fromCache?m.reject(new fe(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&d.source==="server"?m.reject(new fe(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new u2(L0(h.path),v,{includeMetadataChanges:!0,Ka:!0});return l2(l,b)})(await _2(t),t.asyncQueue,e,n,s))),s.promise}function pO(t,e,n={}){const s=new Qs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,d,m){const v=new b2({next:x=>{v.Nu(),c.enqueueAndForget((()=>c2(l,b))),x.fromCache&&d.source==="server"?m.reject(new fe(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new u2(h,v,{includeMetadataChanges:!0,Ka:!0});return l2(l,b)})(await _2(t),t.asyncQueue,e,n,s))),s.promise}function gO(t,e){const n=new Qs;return t.asyncQueue.enqueueAndForget((async()=>nO(await fO(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="ComponentProvider",WE=new Map;function vO(t,e,n,s,a){return new Pj(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,w2(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firestore.googleapis.com",JE=!0;class ZE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E2,this.ssl=JE}else this.host=e.host,this.ssl=e.ssl??JE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KM)throw new fe(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Aj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new gj;switch(s.type){case"firstParty":return new xj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=WE.get(n);s&&(pe(yO,"Removing Datastore"),WE.delete(n),s.terminate())})(this),Promise.resolve()}}function bO(t,e,n,s={}){var m;t=Ai(t,dm);const a=Pl(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(fS(`https://${h}`),mS("Firestore",!0)),l.host!==E2&&l.host!==h&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!oo(d,c)&&(t._setSettings(d),s.mockUserToken)){let v,b;if(typeof s.mockUserToken=="string")v=s.mockUserToken,b=wn.MOCK_USER;else{v=AD(s.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new fe(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new wn(x)}t._authCredentials=new yj(new oA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class Lt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(nh(n,Lt._jsonSchema))return new Lt(e,s||null,new Se(yt.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Xt("string",Lt._jsonSchemaVersion),referencePath:Xt("string")};class ta extends bo{constructor(e,n,s){super(e,n,L0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Se(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function qn(t,e,...n){if(t=Qt(t),lA("collection","path",e),t instanceof dm){const s=yt.fromString(e,...n);return dE(s),new ta(t,null,s)}{if(!(t instanceof Lt||t instanceof ta))throw new fe(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(yt.fromString(e,...n));return dE(s),new ta(t.firestore,null,s)}}function Tn(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=k0.newId()),lA("doc","path",e),t instanceof dm){const s=yt.fromString(e,...n);return hE(s),new Lt(t,null,new Se(s))}{if(!(t instanceof Lt||t instanceof ta))throw new fe(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(yt.fromString(e,...n));return hE(s),new Lt(t.firestore,t instanceof ta?t.converter:null,new Se(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="AsyncQueue";class t1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new e2(this,"async_queue_retry"),this._c=()=>{const s=zg();s&&pe(e1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fl(e))throw e;pe(e1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",n1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=W0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:n1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class pa extends dm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new t1,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t1(e),this._firestoreClient=void 0,await e}}}function xO(t,e){const n=typeof t=="object"?t:vS(),s=typeof t=="string"?t:Sf,a=x0(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=TD("firestore");l&&bO(a,...l)}return a}function fm(t){if(t._terminated)throw new fe(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_O(t),t._firestoreClient}function _O(t){var s,a,l,c;const e=t._freezeSettings(),n=vO(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,(a=t._app)==null?void 0:a.options.apiKey,e);t._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wi(vn.fromBase64String(e))}catch(n){throw new fe(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wi(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nh(e,wi._jsonSchema))return wi.fromBase64String(e.bytes)}}wi._jsonSchemaVersion="firestore/bytes/1.0",wi._jsonSchema={type:Xt("string",wi._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(nh(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:Xt("string",bs._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nh(e,Hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Hi(e.vectorValues);throw new fe(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Xt("string",Hi._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=/^__.*__$/;class EO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ma(e,this.data,this.fieldMask,n,this.fieldTransforms):new ih(e,this.data,n,this.fieldTransforms)}}class T2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ma(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{dataSource:t})}}class nv{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new nv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var a;const n=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(S2(this.dataSource)&&wO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class TO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||cm(e)}createContext(e,n,s,a=!1){return new nv({dataSource:e,methodName:n,targetDoc:s,path:gn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oh(t){const e=t._freezeSettings(),n=cm(t._databaseId);return new TO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iv(t,e,n,s,a,l={}){const c=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);rv("Data must be an object, but it was:",c,s);const h=C2(s,c);let d,m;if(l.merge)d=new si(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=jl(e,b,n);if(!c.contains(x))throw new fe(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);D2(v,x)||v.push(x)}d=new si(v),m=c.fieldTransforms.filter((b=>d.covers(b.field)))}else d=null,m=c.fieldTransforms;return new EO(new Hn(h),d,m)}class gm extends pm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gm}}class sv extends pm{_toFieldTransform(e){return new dM(e.path,new Ou)}isEqual(e){return e instanceof sv}}function A2(t,e,n,s){const a=t.createContext(1,e,n);rv("Data must be an object, but it was:",a,s);const l=[],c=Hn.empty();fa(s,((d,m)=>{const v=I2(e,d,n);m=Qt(m);const b=a.childContextForFieldPath(v);if(m instanceof gm)l.push(v);else{const x=lh(m,b);x!=null&&(l.push(v),c.set(v,x))}}));const h=new si(l);return new T2(c,h,a.fieldTransforms)}function R2(t,e,n,s,a,l){const c=t.createContext(1,e,n),h=[jl(e,s,n)],d=[a];if(l.length%2!=0)throw new fe(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)h.push(jl(e,l[x])),d.push(l[x+1]);const m=[],v=Hn.empty();for(let x=h.length-1;x>=0;--x)if(!D2(m,h[x])){const T=h[x];let R=d[x];R=Qt(R);const I=c.childContextForFieldPath(T);if(R instanceof gm)m.push(T);else{const k=lh(R,I);k!=null&&(m.push(T),v.set(T,k))}}const b=new si(m);return new T2(v,b,c.fieldTransforms)}function SO(t,e,n,s=!1){return lh(n,t.createContext(s?4:3,e))}function lh(t,e){if(N2(t=Qt(t)))return rv("Unsupported field value:",e,t),C2(t,e);if(t instanceof pm)return(function(s,a){if(!S2(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let d=lh(h,a.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cM(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=_t.fromDate(s);return{timestampValue:Nf(a.serializer,l)}}if(s instanceof _t){const l=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nf(a.serializer,l)}}if(s instanceof bs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wi)return{bytesValue:FA(a.serializer,s._byteString)};if(s instanceof Lt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:F0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Hi)return(function(c,h){const d=c instanceof Hi?c.toArray():c;return{mapValue:{fields:{[yA]:{stringValue:vA},[Af]:{arrayValue:{values:d.map((v=>{if(typeof v!="number")throw h.createError("VectorValues must only contain numeric values.");return U0(h.serializer,v)}))}}}}}})(s,a);if(XA(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Zf(s)}`)})(t,e)}function C2(t,e){const n={};return hA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,((s,a)=>{const l=lh(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function N2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof bs||t instanceof wi||t instanceof Lt||t instanceof pm||t instanceof Hi||XA(t))}function rv(t,e,n){if(!N2(n)||!cA(n)){const s=Zf(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function jl(t,e,n){if((e=Qt(e))instanceof mm)return e._internalPath;if(typeof e=="string")return I2(t,e);throw jf("Field path arguments must be of type string or ",t,!1,void 0,n)}const AO=new RegExp("[~\\*/\\[\\]]");function I2(t,e,n){if(e.search(AO)>=0)throw jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mm(...e.split("."))._internalPath}catch{throw jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jf(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${s}`),c&&(d+=` in document ${a}`),d+=")"),new fe(oe.INVALID_ARGUMENT,h+t+d)}function D2(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{convertValue(e,n="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return fa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){var s,a,l;const n=(l=(a=(s=e.fields)==null?void 0:s[Af].arrayValue)==null?void 0:a.values)==null?void 0:l.map((c=>Pt(c.doubleValue)));return new Hi(n)}convertGeoPoint(e){return new bs(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const n=ia(e);return new _t(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=yt.fromString(e);st($A(s),9688,{name:e});const a=new ju(s.get(1),s.get(3)),l=new Se(s.popFirst(5));return a.isEqual(n)||tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2 extends RO{constructor(e){super(),this.firestore=e}convertBytes(e){return new wi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function j2(){return new sv("serverTimestamp")}const i1="@firebase/firestore",s1="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(jl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CO extends M2{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class av{}class V2 extends av{}function ym(t,e,...n){let s=[];e instanceof av&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((d=>d instanceof lv)).length,h=l.filter((d=>d instanceof ov)).length;if(c>1||c>0&&h>0)throw new fe(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class ov extends V2{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ov(e,n,s)}_apply(e){const n=this._parse(e);return O2(e._query,n),new bo(e.firestore,e.converter,Ay(e._query,n))}_parse(e){const n=oh(e.firestore);return(function(l,c,h,d,m,v,b){let x;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){a1(b,v);const R=[];for(const I of b)R.push(r1(d,l,I));x={arrayValue:{values:R}}}else x=r1(d,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||a1(b,v),x=SO(h,c,b,v==="in"||v==="not-in");return $t.create(m,v,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class lv extends av{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lv(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const d of h)O2(c,d),c=Ay(c,d)})(e._query,n),new bo(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends V2{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cv(e,n)}_apply(e){const n=(function(a,l,c){if(a.startAt!==null)throw new fe(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vu(l,c)})(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,tM(e._query,n))}}function vm(t,e="asc"){const n=e,s=jl("orderBy",t);return cv._create(s,n)}function r1(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new fe(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AA(e)&&n.indexOf("/")!==-1)throw new fe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(yt.fromString(n));if(!Se.isDocumentKey(s))throw new fe(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xE(t,new Se(s))}if(n instanceof Lt)return xE(t,n._key);throw new fe(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(n)}.`)}function a1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O2(t,e){const n=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function uv(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends M2{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Xt("string",so._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class uf extends so{data(e={}){return super.data(e)}}class Sl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new lu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new uf(this._firestore,this._userDataWriter,s.key,s,new lu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const d=new uf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new lu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new uf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new lu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,v=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:IO(h.type),doc:d,oldIndex:m,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=k0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl._jsonSchemaVersion="firestore/querySnapshot/1.0",Sl._jsonSchema={type:Xt("string",Sl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=oh(e)}set(e,n,s){this._verifyNotCommitted();const a=Fg(e,this._firestore),l=uv(a.converter,n,s),c=iv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(c.toMutation(a._key,Dn.none())),this}update(e,n,s,...a){this._verifyNotCommitted();const l=Fg(e,this._firestore);let c;return c=typeof(n=Qt(n))=="string"||n instanceof mm?R2(this._dataReader,"WriteBatch.update",l._key,n,s,a):A2(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,Dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Fg(e,this._firestore);return this._mutations=this._mutations.concat(new om(n._key,Dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new fe(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fg(t,e){if((t=Qt(t)).firestore!==e)throw new fe(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t){t=Ai(t,Lt);const e=Ai(t.firestore,pa),n=fm(e);return mO(n,t._key).then((s=>jO(e,t,s)))}function xs(t){t=Ai(t,bo);const e=Ai(t.firestore,pa),n=fm(e),s=new k2(e);return NO(t._query),pO(n,t._query).then((a=>new Sl(e,s,t,a)))}function P2(t,e,n){t=Ai(t,Lt);const s=Ai(t.firestore,pa),a=uv(t.converter,e,n),l=oh(s);return ch(s,[iv(l,"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Dn.none())])}function ro(t,e,n,...s){t=Ai(t,Lt);const a=Ai(t.firestore,pa),l=oh(a);let c;return c=typeof(e=Qt(e))=="string"||e instanceof mm?R2(l,"updateDoc",t._key,e,n,s):A2(l,"updateDoc",t._key,e),ch(a,[c.toMutation(t._key,Dn.exists(!0))])}function Mf(t){return ch(Ai(t.firestore,pa),[new om(t._key,Dn.none())])}function hv(t,e){const n=Ai(t.firestore,pa),s=Tn(t),a=uv(t.converter,e),l=oh(t.firestore);return ch(n,[iv(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Dn.exists(!1))]).then((()=>s))}function ch(t,e){const n=fm(t);return gO(n,e)}function jO(t,e,n){const s=n.docs.get(e._key),a=new k2(t);return new so(t,a,e._key,s,new lu(n.hasPendingWrites,n.fromCache),e.converter)}function MO(t){return t=Ai(t,pa),fm(t),new DO(t,(e=>ch(t,e)))}(function(e,n=!0){pj(Ll),Rl(new lo("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new pa(new vj(s.getProvider("auth-internal")),new _j(c,s.getProvider("app-check-internal")),Lj(c,a),c);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Zr(i1,s1,e),Zr(i1,s1,"esm2020")})();var VO="firebase",OO="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(VO,OO,"app");const PO={apiKey:"AIzaSyAi0x7YXRYlz7vAK9tHdqmcDuFlikeY8fE",authDomain:"bozorp-f714b.firebaseapp.com",projectId:"bozorp-f714b",storageBucket:"bozorp-f714b.firebasestorage.app",messagingSenderId:"313710486512",appId:"1:313710486512:web:6322effb6157569e16b335",measurementId:"G-DXEQ49LQY4"},L2=yS(PO),eu=fj(L2),LO=new Gs,ct=xO(L2),U2=N.createContext(void 0),Gl=()=>{const t=N.useContext(U2);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},UO=({children:t})=>{const[e,n]=N.useState(null),[s,a]=N.useState(null),[l,c]=N.useState(!0),h=async x=>{try{const T=await kO(Tn(ct,"users",x.uid));T.exists()?a(T.data()):a(null)}catch(T){console.error("Failed to fetch user profile:",T),T.code==="permission-denied"&&console.error("Check your Firestore Security Rules. The client does not have permission to read the user profile."),a(null)}};N.useEffect(()=>t4(eu,async T=>{n(T),T?await h(T):a(null),c(!1)}),[]);const d=async(x,T)=>{const R=await J5(eu,x,T);await h(R.user)},m=async(x,T,R)=>{const I=await W5(eu,x,T);await P2(Tn(ct,"users",I.user.uid),{email:x,displayName:R,role:"staff",title:"",bio:"",profilePicture:"",socialLinks:{},subRoles:[],visible:!0,order:99,createdAt:new Date().toISOString()}),await h(I.user)},v=async()=>{const x=await w4(eu,LO);await h(x.user)},b=async()=>{await n4(eu),a(null)};return g.jsx(U2.Provider,{value:{user:e,userProfile:s,loading:l,login:d,signup:m,loginWithGoogle:v,logout:b},children:t})},dv=N.createContext({});function xo(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const z2=typeof window<"u",fv=z2?N.useLayoutEffect:N.useEffect,bm=N.createContext(null);function mv(t,e){t.indexOf(e)===-1&&t.push(e)}function pv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function zO([...t],e,n){const s=e<0?t.length+e:e;if(s>=0&&s<t.length){const a=n<0?t.length+n:n,[l]=t.splice(e,1);t.splice(a,0,l)}return t}const Es=(t,e,n)=>n>e?e:n<t?t:n;let gv=()=>{};const ir={},B2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function F2(t){return typeof t=="object"&&t!==null}const H2=t=>/^0[^.\s]+$/u.test(t);function yv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ti=t=>t,BO=(t,e)=>n=>e(t(n)),uh=(...t)=>t.reduce(BO),Uu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class vv{constructor(){this.subscriptions=[]}add(e){return mv(this.subscriptions,e),()=>pv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ws=t=>t*1e3,Ei=t=>t/1e3;function q2(t,e){return e?t*(1e3/e):0}const G2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,FO=1e-7,HO=12;function qO(t,e,n,s,a){let l,c,h=0;do c=e+(n-e)/2,l=G2(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>FO&&++h<HO);return c}function hh(t,e,n,s){if(t===e&&n===s)return Ti;const a=l=>qO(l,0,1,t,n);return l=>l===0||l===1?l:G2(a(l),e,s)}const K2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Y2=t=>e=>1-t(1-e),$2=hh(.33,1.53,.69,.99),bv=Y2($2),X2=K2(bv),Q2=t=>(t*=2)<1?.5*bv(t):.5*(2-Math.pow(2,-10*(t-1))),xv=t=>1-Math.sin(Math.acos(t)),W2=Y2(xv),J2=K2(xv),GO=hh(.42,0,1,1),KO=hh(0,0,.58,1),Z2=hh(.42,0,.58,1),YO=t=>Array.isArray(t)&&typeof t[0]!="number",eR=t=>Array.isArray(t)&&typeof t[0]=="number",$O={linear:Ti,easeIn:GO,easeInOut:Z2,easeOut:KO,circIn:xv,circInOut:J2,circOut:W2,backIn:bv,backInOut:X2,backOut:$2,anticipate:Q2},XO=t=>typeof t=="string",o1=t=>{if(eR(t)){gv(t.length===4);const[e,n,s,a]=t;return hh(e,n,s,a)}else if(XO(t))return $O[t];return t},qd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QO(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(v){c.has(v)&&(m.schedule(v),t()),v(h)}const m={schedule:(v,b=!1,x=!1)=>{const R=x&&a?n:s;return b&&c.add(v),R.has(v)||R.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,m.process(v))}};return m}const WO=40;function tR(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=qd.reduce((V,$)=>(V[$]=QO(l),V),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:v,update:b,preRender:x,render:T,postRender:R}=c,I=()=>{const V=ir.useManualTiming?a.timestamp:performance.now();n=!1,ir.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(V-a.timestamp,WO),1)),a.timestamp=V,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),v.process(a),b.process(a),x.process(a),T.process(a),R.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(I))},k=()=>{n=!0,s=!0,a.isProcessing||t(I)};return{schedule:qd.reduce((V,$)=>{const K=c[$];return V[$]=(Y,D=!1,S=!1)=>(n||k(),K.schedule(Y,D,S)),V},{}),cancel:V=>{for(let $=0;$<qd.length;$++)c[qd[$]].cancel(V)},state:a,steps:c}}const{schedule:gt,cancel:sr,state:mn,steps:Hg}=tR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ti,!0);let hf;function JO(){hf=void 0}const Nn={now:()=>(hf===void 0&&Nn.set(mn.isProcessing||ir.useManualTiming?mn.timestamp:performance.now()),hf),set:t=>{hf=t,queueMicrotask(JO)}},nR=t=>e=>typeof e=="string"&&e.startsWith(t),iR=nR("--"),ZO=nR("var(--"),_v=t=>ZO(t)?eP.test(t.split("/*")[0].trim()):!1,eP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function l1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Kl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zu={...Kl,transform:t=>Es(0,1,t)},Gd={...Kl,default:1},bu=t=>Math.round(t*1e5)/1e5,wv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tP(t){return t==null}const nP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ev=(t,e)=>n=>!!(typeof n=="string"&&nP.test(n)&&n.startsWith(t)||e&&!tP(n)&&Object.prototype.hasOwnProperty.call(n,e)),sR=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(wv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},iP=t=>Es(0,255,t),qg={...Kl,transform:t=>Math.round(iP(t))},no={test:Ev("rgb","red"),parse:sR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+qg.transform(t)+", "+qg.transform(e)+", "+qg.transform(n)+", "+bu(zu.transform(s))+")"};function sP(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Py={test:Ev("#"),parse:sP,transform:no.transform},dh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Gr=dh("deg"),_s=dh("%"),xe=dh("px"),rP=dh("vh"),aP=dh("vw"),c1={..._s,parse:t=>_s.parse(t)/100,transform:t=>_s.transform(t*100)},gl={test:Ev("hsl","hue"),parse:sR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+_s.transform(bu(e))+", "+_s.transform(bu(n))+", "+bu(zu.transform(s))+")"},Yt={test:t=>no.test(t)||Py.test(t)||gl.test(t),parse:t=>no.test(t)?no.parse(t):gl.test(t)?gl.parse(t):Py.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?no.transform(t):gl.transform(t),getAnimatableNone:t=>{const e=Yt.parse(t);return e.alpha=0,Yt.transform(e)}},oP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wv))==null?void 0:e.length)||0)+(((n=t.match(oP))==null?void 0:n.length)||0)>0}const rR="number",aR="color",cP="var",uP="var(",u1="${}",hP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(hP,d=>(Yt.test(d)?(s.color.push(l),a.push(aR),n.push(Yt.parse(d))):d.startsWith(uP)?(s.var.push(l),a.push(cP),n.push(d)):(s.number.push(l),a.push(rR),n.push(parseFloat(d))),++l,u1)).split(u1);return{values:n,split:h,indexes:s,types:a}}function oR(t){return Bu(t).values}function lR(t){const{split:e,types:n}=Bu(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=n[c];h===rR?l+=bu(a[c]):h===aR?l+=Yt.transform(a[c]):l+=a[c]}return l}}const dP=t=>typeof t=="number"?0:Yt.test(t)?Yt.getAnimatableNone(t):t;function fP(t){const e=oR(t);return lR(t)(e.map(dP))}const la={test:lP,parse:oR,createTransformer:lR,getAnimatableNone:fP};function Gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Gg(d,h,t+1/3),l=Gg(d,h,t),c=Gg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Vf(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,Kg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},pP=[Py,no,gl],gP=t=>pP.find(e=>e.test(t));function h1(t){const e=gP(t);if(!e)return!1;let n=e.parse(t);return e===gl&&(n=mP(n)),n}const d1=(t,e)=>{const n=h1(t),s=h1(e);if(!n||!s)return Vf(t,e);const a={...n};return l=>(a.red=Kg(n.red,s.red,l),a.green=Kg(n.green,s.green,l),a.blue=Kg(n.blue,s.blue,l),a.alpha=Tt(n.alpha,s.alpha,l),no.transform(a))},Ly=new Set(["none","hidden"]);function yP(t,e){return Ly.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vP(t,e){return n=>Tt(t,e,n)}function Tv(t){return typeof t=="number"?vP:typeof t=="string"?_v(t)?Vf:Yt.test(t)?d1:_P:Array.isArray(t)?cR:typeof t=="object"?Yt.test(t)?d1:bP:Vf}function cR(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>Tv(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function bP(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Tv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function xP(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=t.values[c]??0;n[a]=h,s[l]++}return n}const _P=(t,e)=>{const n=la.createTransformer(e),s=Bu(t),a=Bu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Ly.has(t)&&!a.values.length||Ly.has(e)&&!s.values.length?yP(t,e):uh(cR(xP(s,a),a.values),n):Vf(t,e)};function uR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):Tv(t)(t,e)}const wP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>gt.update(e,n),stop:()=>sr(e),now:()=>mn.isProcessing?mn.timestamp:Nn.now()}},hR=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Of=2e4;function Sv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<Of;)e+=n,s=t.next(e);return e>=Of?1/0:e}function EP(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Sv(s),Of);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Ei(a)}}const TP=5;function dR(t,e,n){const s=Math.max(e-TP,0);return q2(n-t(s),e-s)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yg=.001;function SP({duration:t=kt.duration,bounce:e=kt.bounce,velocity:n=kt.velocity,mass:s=kt.mass}){let a,l,c=1-e;c=Es(kt.minDamping,kt.maxDamping,c),t=Es(kt.minDuration,kt.maxDuration,Ei(t)),c<1?(a=m=>{const v=m*c,b=v*t,x=v-n,T=Uy(m,c),R=Math.exp(-b);return Yg-x/T*R},l=m=>{const b=m*c*t,x=b*n+n,T=Math.pow(c,2)*Math.pow(m,2)*t,R=Math.exp(-b),I=Uy(Math.pow(m,2),c);return(-a(m)+Yg>0?-1:1)*((x-T)*R)/I}):(a=m=>{const v=Math.exp(-m*t),b=(m-n)*t+1;return-Yg+v*b},l=m=>{const v=Math.exp(-m*t),b=(n-m)*(t*t);return v*b});const h=5/t,d=RP(a,l,h);if(t=Ws(t),isNaN(d))return{stiffness:kt.stiffness,damping:kt.damping,duration:t};{const m=Math.pow(d,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const AP=12;function RP(t,e,n){let s=n;for(let a=1;a<AP;a++)s=s-t(s)/e(s);return s}function Uy(t,e){return t*Math.sqrt(1-e*e)}const CP=["duration","bounce"],NP=["stiffness","damping","mass"];function f1(t,e){return e.some(n=>t[n]!==void 0)}function IP(t){let e={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...t};if(!f1(t,NP)&&f1(t,CP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Es(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:kt.mass,stiffness:a,damping:l}}else{const n=SP(t);e={...e,...n,mass:kt.mass},e.isResolvedFromDuration=!0}return e}function Pf(t=kt.visualDuration,e=kt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:v,duration:b,velocity:x,isResolvedFromDuration:T}=IP({...n,velocity:-Ei(n.velocity||0)}),R=x||0,I=m/(2*Math.sqrt(d*v)),k=c-l,M=Ei(Math.sqrt(d/v)),z=Math.abs(k)<5;s||(s=z?kt.restSpeed.granular:kt.restSpeed.default),a||(a=z?kt.restDelta.granular:kt.restDelta.default);let V;if(I<1){const K=Uy(M,I);V=Y=>{const D=Math.exp(-I*M*Y);return c-D*((R+I*M*k)/K*Math.sin(K*Y)+k*Math.cos(K*Y))}}else if(I===1)V=K=>c-Math.exp(-M*K)*(k+(R+M*k)*K);else{const K=M*Math.sqrt(I*I-1);V=Y=>{const D=Math.exp(-I*M*Y),S=Math.min(K*Y,300);return c-D*((R+I*M*k)*Math.sinh(S)+K*k*Math.cosh(S))/K}}const $={calculatedDuration:T&&b||null,next:K=>{const Y=V(K);if(T)h.done=K>=b;else{let D=K===0?R:0;I<1&&(D=K===0?Ws(R):dR(V,K,Y));const S=Math.abs(D)<=s,A=Math.abs(c-Y)<=a;h.done=S&&A}return h.value=h.done?c:Y,h},toString:()=>{const K=Math.min(Sv($),Of),Y=hR(D=>$.next(K*D).value,K,30);return K+"ms "+Y},toTransition:()=>{}};return $}Pf.applyToOptions=t=>{const e=EP(t,100,Pf);return t.ease=e.ease,t.duration=Ws(e.duration),t.type="keyframes",t};function zy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:d,restDelta:m=.5,restSpeed:v}){const b=t[0],x={done:!1,value:b},T=S=>h!==void 0&&S<h||d!==void 0&&S>d,R=S=>h===void 0?d:d===void 0||Math.abs(h-S)<Math.abs(d-S)?h:d;let I=n*e;const k=b+I,M=c===void 0?k:c(k);M!==k&&(I=M-b);const z=S=>-I*Math.exp(-S/s),V=S=>M+z(S),$=S=>{const A=z(S),O=V(S);x.done=Math.abs(A)<=m,x.value=x.done?M:O};let K,Y;const D=S=>{T(x.value)&&(K=S,Y=Pf({keyframes:[x.value,R(x.value)],velocity:dR(V,S,x.value),damping:a,stiffness:l,restDelta:m,restSpeed:v}))};return D(0),{calculatedDuration:null,next:S=>{let A=!1;return!Y&&K===void 0&&(A=!0,$(S),D(S)),K!==void 0&&S>=K?Y.next(S-K):(!A&&$(S),x)}}}function DP(t,e,n){const s=[],a=n||ir.mix||uR,l=t.length-1;for(let c=0;c<l;c++){let h=a(t[c],t[c+1]);if(e){const d=Array.isArray(e)?e[c]||Ti:e;h=uh(d,h)}s.push(h)}return s}function fR(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(gv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=DP(e,s,a),d=h.length,m=v=>{if(c&&v<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const x=Uu(t[b],t[b+1],v);return h[b](x)};return n?v=>m(Es(t[0],t[l-1],v)):m}function kP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=Uu(0,e,s);t.push(Tt(n,1,a))}}function jP(t){const e=[0];return kP(e,t.length-1),e}function MP(t,e){return t.map(n=>n*e)}function VP(t,e){return t.map(()=>e||Z2).splice(0,t.length-1)}function xu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=YO(s)?s.map(o1):o1(s),l={done:!1,value:e[0]},c=MP(n&&n.length===e.length?n:jP(e),t),h=fR(c,e,{ease:Array.isArray(a)?a:VP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const OP=t=>t!==null;function Av(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(OP),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const PP={decay:zy,inertia:zy,tween:xu,keyframes:xu,spring:Pf};function mR(t){typeof t.type=="string"&&(t.type=PP[t.type])}class Rv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const LP=t=>t/100;class Cv extends Rv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;mR(e);const{type:n=xu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const d=n||xu;d!==xu&&typeof h[0]!="number"&&(this.mixKeyframes=uh(LP,uR(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Sv(m));const{calculatedDuration:v}=m;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:v,repeat:b,repeatType:x,repeatDelay:T,type:R,onUpdate:I,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const M=this.currentTime-m*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?M<0:M>a;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let V=this.currentTime,$=s;if(b){const S=Math.min(this.currentTime,a)/h;let A=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&A--,A=Math.min(A,b+1),!!(A%2)&&(x==="reverse"?(O=1-O,T&&(O-=T/h)):x==="mirror"&&($=c)),V=Es(0,1,O)*h}const K=z?{done:!1,value:v[0]}:$.next(V);l&&(K.value=l(K.value));let{done:Y}=K;!z&&d!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return D&&R!==zy&&(K.value=Av(v,this.options,k,this.speed)),I&&I(K.value),D&&this.finish(),K}then(e,n){return this.finished.then(e,n)}get duration(){return Ei(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ei(e)}get time(){return Ei(this.currentTime)}set time(e){var n;e=Ws(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ei(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=wP,startTime:n}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),(l=(a=this.options).onPlay)==null||l.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function UP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const io=t=>t*180/Math.PI,By=t=>{const e=io(Math.atan2(t[1],t[0]));return Fy(e)},zP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:By,rotateZ:By,skewX:t=>io(Math.atan(t[1])),skewY:t=>io(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Fy=t=>(t=t%360,t<0&&(t+=360),t),m1=By,p1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),g1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:p1,scaleY:g1,scale:t=>(p1(t)+g1(t))/2,rotateX:t=>Fy(io(Math.atan2(t[6],t[5]))),rotateY:t=>Fy(io(Math.atan2(-t[2],t[0]))),rotateZ:m1,rotate:m1,skewX:t=>io(Math.atan(t[4])),skewY:t=>io(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Hy(t){return t.includes("scale")?1:0}function qy(t,e){if(!t||t==="none")return Hy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=BP,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=zP,a=h}if(!a)return Hy(e);const l=s[e],c=a[1].split(",").map(HP);return typeof l=="function"?l(c):c[l]}const FP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return qy(n,e)};function HP(t){return parseFloat(t.trim())}const Yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(Yl),y1=t=>t===Kl||t===xe,qP=new Set(["x","y","z"]),GP=Yl.filter(t=>!qP.has(t));function KP(t){const e=[];return GP.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Qr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>qy(e,"x"),y:(t,{transform:e})=>qy(e,"y")};Qr.translateX=Qr.x;Qr.translateY=Qr.y;const ao=new Set;let Gy=!1,Ky=!1,Yy=!1;function pR(){if(Ky){const t=Array.from(ao).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=KP(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{var h;(h=s.getValue(l))==null||h.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ky=!1,Gy=!1,ao.forEach(t=>t.complete(Yy)),ao.clear()}function gR(){ao.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ky=!0)})}function YP(){Yy=!0,gR(),pR(),Yy=!1}class Nv{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ao.add(this),Gy||(Gy=!0,gt.read(gR),gt.resolveKeyframes(pR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}UP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ao.delete(this)}cancel(){this.state==="scheduled"&&(ao.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $P=t=>t.startsWith("--");function XP(t,e,n){$P(e)?t.style.setProperty(e,n):t.style[e]=n}const QP=yv(()=>window.ScrollTimeline!==void 0),WP={};function JP(t,e){const n=yv(t);return()=>WP[e]??n()}const yR=JP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,v1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cu([0,.65,.55,1]),circOut:cu([.55,0,1,.45]),backIn:cu([.31,.01,.66,-.59]),backOut:cu([.33,1.53,.69,.99])};function vR(t,e){if(t)return typeof t=="function"?yR()?hR(t,e):"ease-out":eR(t)?cu(t):Array.isArray(t)?t.map(n=>vR(n,e)||v1.easeOut):v1[t]}function ZP(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:d}={},m=void 0){const v={[e]:n};d&&(v.offset=d);const b=vR(h,a);Array.isArray(b)&&(v.easing=b);const x={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(v,x)}function bR(t){return typeof t=="function"&&"applyToOptions"in t}function eL({type:t,...e}){return bR(t)&&yR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tL extends Rv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,gv(typeof e.type!="string");const m=eL(e);this.animation=ZP(n,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=Av(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(v):XP(n,s,v),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s,a;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((a=(s=this.animation).commitStyles)==null||a.call(s))}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ei(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ei(e)}get time(){return Ei(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ws(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&QP()?(this.animation.timeline=e,Ti):n(this)}}const xR={anticipate:Q2,backInOut:X2,circInOut:J2};function nL(t){return t in xR}function iL(t){typeof t.ease=="string"&&nL(t.ease)&&(t.ease=xR[t.ease])}const $g=10;class sL extends tL{constructor(e){iL(e),mR(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Cv({...c,autoplay:!1}),d=Math.max($g,Nn.now()-this.startTime),m=Es(0,$g,d-$g);n.setWithVelocity(h.sample(Math.max(0,d-m)).value,h.sample(d).value,m),h.stop()}}const b1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(la.test(t)||t==="0")&&!t.startsWith("url("));function rL(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aL(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=b1(a,e),h=b1(l,e);return!c||!h?!1:rL(t)||(n==="spring"||bR(n))&&s}function $y(t){t.duration=0,t.type="keyframes"}const oL=new Set(["opacity","clipPath","filter","transform"]),lL=yv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cL(t){var v;const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(((v=e==null?void 0:e.owner)==null?void 0:v.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return lL()&&n&&oL.has(n)&&(n!=="transform"||!m)&&!d&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const uL=40;class hL extends Rv{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:d,motionValue:m,element:v,...b}){var R;super(),this.stop=()=>{var I,k;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Nn.now();const x={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:d,motionValue:m,element:v,...b},T=(v==null?void 0:v.KeyframeResolver)||Nv;this.keyframeResolver=new T(h,(I,k,M)=>this.onKeyframesResolved(I,k,x,!M),d,m,v),(R=this.keyframeResolver)==null||R.scheduleResolve()}onKeyframesResolved(e,n,s,a){var k,M;this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:d,isHandoff:m,onUpdate:v}=s;this.resolvedAt=Nn.now(),aL(e,l,c,h)||((ir.instantAnimations||!d)&&(v==null||v(Av(e,s,n))),e[0]=e[e.length-1],$y(s),s.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>uL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},T=!m&&cL(x),R=(M=(k=x.motionValue)==null?void 0:k.owner)==null?void 0:M.current,I=T?new sL({...x,element:R}):new Cv(x);I.finished.then(()=>{this.notifyFinished()}).catch(Ti),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),YP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function _R(t,e,n,s=0,a=1){const l=Array.from(t).sort((m,v)=>m.sortNodePosition(v)).indexOf(e),c=t.size,h=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:h-l*s}const dL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fL(t){const e=dL.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function wR(t,e,n=1){const[s,a]=fL(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return B2(c)?parseFloat(c):c}return _v(a)?wR(a,e,n+1):a}const mL={type:"spring",stiffness:500,damping:25,restSpeed:10},pL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gL={type:"keyframes",duration:.8},yL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vL=(t,{keyframes:e})=>e.length>2?gL:$l.has(t)?t.startsWith("scale")?pL(e[1]):mL:yL,bL=t=>t!==null;function xL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(bL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function Iv(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function _L({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:d,elapsed:m,...v}){return!!Object.keys(v).length}const Dv=(t,e,n,s={},a,l)=>c=>{const h=Iv(s,t)||{},d=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Ws(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};_L(h)||Object.assign(v,vL(t,v)),v.duration&&(v.duration=Ws(v.duration)),v.repeatDelay&&(v.repeatDelay=Ws(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&($y(v),v.delay===0&&(b=!0)),(ir.instantAnimations||ir.skipAnimations||a!=null&&a.shouldSkipAnimations)&&(b=!0,$y(v),v.delay=0),v.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const x=xL(v.keyframes,h);if(x!==void 0){gt.update(()=>{v.onUpdate(x),v.onComplete()});return}}return h.isSync?new Cv(v):new hL(v)};function x1(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function kv(t,e,n,s){if(typeof e=="function"){const[a,l]=x1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=x1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Al(t,e,n){const s=t.getProps();return kv(s,e,n!==void 0?n:s.custom,t)}const ER=new Set(["width","height","top","left","right","bottom",...Yl]),_1=30,wL=t=>!isNaN(parseFloat(t)),_u={current:void 0};class EL{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vv);const s=this.events[e].add(n);return e==="change"?()=>{s(),gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return _u.current&&_u.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_1);return q2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function po(t,e){return new EL(t,e)}const Xy=t=>Array.isArray(t);function TL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,po(n))}function SL(t){return Xy(t)?t[t.length-1]||0:t}function AL(t,e){const n=Al(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const h=SL(l[c]);TL(t,c,h)}}const yn=t=>!!(t&&t.getVelocity);function RL(t){return!!(yn(t)&&t.add)}function Qy(t,e){const n=t.getValue("willChange");if(RL(n))return n.add(e);if(!n&&ir.WillChange){const s=new ir.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function jv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const CL="framerAppearId",TR="data-"+jv(CL);function SR(t){return t.props[TR]}function NL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function AR(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;const d=l==null?void 0:l.reduceMotion;s&&(l=s);const m=[],v=a&&t.animationState&&t.animationState.getState()[a];for(const b in h){const x=t.getValue(b,t.latestValues[b]??null),T=h[b];if(T===void 0||v&&NL(v,b))continue;const R={delay:n,...Iv(l||{},b)},I=x.get();if(I!==void 0&&!x.isAnimating&&!Array.isArray(T)&&T===I&&!R.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const V=SR(t);if(V){const $=window.MotionHandoffAnimation(V,b,gt);$!==null&&(R.startTime=$,k=!0)}}Qy(t,b);const M=d??t.shouldReduceMotion;x.start(Dv(b,x,T,M&&ER.has(b)?{type:!1}:R,t,k));const z=x.animation;z&&m.push(z)}return c&&Promise.all(m).then(()=>{gt.update(()=>{c&&AL(t,c)})}),m}function Wy(t,e,n={}){var d;const s=Al(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(AR(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:x}=a;return IL(t,e,m,v,b,x,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,v]=h==="beforeChildren"?[l,c]:[c,l];return m().then(()=>v())}else return Promise.all([l(),c(n.delay)])}function IL(t,e,n=0,s=0,a=0,l=1,c){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Wy(d,e,{...c,delay:n+(typeof s=="function"?0:s)+_R(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function DL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Wy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Wy(t,e,n);else{const a=typeof e=="function"?Al(t,e,n.custom):e;s=Promise.all(AR(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const kL={test:t=>t==="auto",parse:t=>t},RR=t=>e=>e.test(t),CR=[Kl,xe,_s,Gr,aP,rP,kL],w1=t=>CR.find(RR(t));function jL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||H2(t):!0}const ML=new Set(["brightness","contrast","saturate","opacity"]);function VL(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(wv)||[];if(!s)return t;const a=n.replace(s,"");let l=ML.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const OL=/\b([a-z-]*)\(.*?\)/gu,Jy={...la,getAnimatableNone:t=>{const e=t.match(OL);return e?e.map(VL).join(" "):t}},E1={...Kl,transform:Math.round},PL={rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scale:Gd,scaleX:Gd,scaleY:Gd,scaleZ:Gd,skew:Gr,skewX:Gr,skewY:Gr,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:zu,originX:c1,originY:c1,originZ:xe},Mv={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,inset:xe,insetBlock:xe,insetBlockStart:xe,insetBlockEnd:xe,insetInline:xe,insetInlineStart:xe,insetInlineEnd:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,paddingBlock:xe,paddingBlockStart:xe,paddingBlockEnd:xe,paddingInline:xe,paddingInlineStart:xe,paddingInlineEnd:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,marginBlock:xe,marginBlockStart:xe,marginBlockEnd:xe,marginInline:xe,marginInlineStart:xe,marginInlineEnd:xe,fontSize:xe,backgroundPositionX:xe,backgroundPositionY:xe,...PL,zIndex:E1,fillOpacity:zu,strokeOpacity:zu,numOctaves:E1},LL={...Mv,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Jy,WebkitFilter:Jy},NR=t=>LL[t];function IR(t,e){let n=NR(t);return n!==Jy&&(n=la),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const UL=new Set(["auto","none","0"]);function zL(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!UL.has(l)&&Bu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=IR(n,a)}class BL extends Nv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let v=0;v<e.length;v++){let b=e[v];if(typeof b=="string"&&(b=b.trim(),_v(b))){const x=wR(b,n.current);x!==void 0&&(e[v]=x),v===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!ER.has(s)||e.length!==2)return;const[a,l]=e,c=w1(a),h=w1(l),d=l1(a),m=l1(l);if(d!==m&&Qr[s]){this.needsMeasurement=!0;return}if(c!==h)if(y1(c)&&y1(h))for(let v=0;v<e.length;v++){const b=e[v];typeof b=="string"&&(e[v]=parseFloat(b))}else Qr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||jL(e[a]))&&s.push(a);s.length&&zL(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Qr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function DR(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const a=document.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const kR=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Zy(t){return F2(t)&&"offsetHeight"in t}const{schedule:Vv}=tR(queueMicrotask,!1),zi={x:!1,y:!1};function jR(){return zi.x||zi.y}function FL(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function MR(t,e){const n=DR(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function T1(t){return!(t.pointerType==="touch"||jR())}function HL(t,e,n={}){const[s,a,l]=MR(t,n),c=h=>{if(!T1(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const v=b=>{T1(b)&&(m(b),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,a)};return s.forEach(h=>{h.addEventListener("pointerenter",c,a)}),l}const VR=(t,e)=>e?t===e?!0:VR(t,e.parentElement):!1,Ov=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GL(t){return qL.has(t.tagName)||t.isContentEditable===!0}const KL=new Set(["INPUT","SELECT","TEXTAREA"]);function YL(t){return KL.has(t.tagName)||t.isContentEditable===!0}const df=new WeakSet;function S1(t){return e=>{e.key==="Enter"&&t(e)}}function Xg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const $L=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=S1(()=>{if(df.has(n))return;Xg(n,"down");const a=S1(()=>{Xg(n,"up")}),l=()=>Xg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function A1(t){return Ov(t)&&!jR()}function XL(t,e,n={}){const[s,a,l]=MR(t,n),c=h=>{const d=h.currentTarget;if(!A1(h))return;df.add(d);const m=e(d,h),v=(T,R)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),df.has(d)&&df.delete(d),A1(T)&&typeof m=="function"&&m(T,{success:R})},b=T=>{v(T,d===window||d===document||n.useGlobalTarget||VR(d,T.target))},x=T=>{v(T,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),Zy(h)&&(h.addEventListener("focus",m=>$L(m,a)),!GL(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function OR(t){return F2(t)&&"ownerSVGElement"in t}function QL(t){return OR(t)&&t.tagName==="svg"}function WL(...t){const e=!Array.isArray(t[0]),n=e?0:-1,s=t[0+n],a=t[1+n],l=t[2+n],c=t[3+n],h=fR(a,l,c);return e?h(s):h}const JL=[...CR,Yt,la],ZL=t=>JL.find(RR(t)),R1=()=>({translate:0,scale:1,origin:0,originPoint:0}),yl=()=>({x:R1(),y:R1()}),C1=()=>({min:0,max:0}),en=()=>({x:C1(),y:C1()}),e0={current:null},PR={current:!1},e6=typeof window<"u";function t6(){if(PR.current=!0,!!e6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>e0.current=t.matches;t.addEventListener("change",e),e()}else e0.current=!1}const n6=new WeakMap;function xm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fu(t){return typeof t=="string"||Array.isArray(t)}const Pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lv=["initial",...Pv];function _m(t){return xm(t.animate)||Lv.some(e=>Fu(t[e]))}function LR(t){return!!(_m(t)||t.variants)}function i6(t,e,n){for(const s in e){const a=e[s],l=n[s];if(yn(a))t.addValue(s,a);else if(yn(l))t.addValue(s,po(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,po(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const N1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Lf={};function UR(t){Lf=t}function s6(){return Lf}class r6{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Nn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,gt.render(this.render,!1,!0))};const{latestValues:m,renderState:v}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=v,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=_m(n),this.isVariantNode=LR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in x){const R=x[T];m[T]!==void 0&&yn(R)&&R.set(m[T])}}mount(e){var n;this.current=e,n6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(PR.current||t6(),this.shouldReduceMotion=e0.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),sr(this.notifyUpdate),sr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=$l.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lf){const n=Lf[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):en()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<N1.length;s++){const a=N1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=i6(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=po(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(B2(s)||H2(s))?s=parseFloat(s):!ZL(s)&&la.test(n)&&(s=IR(e,n)),this.setBaseTarget(e,yn(s)?s.get():s)),yn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=kv(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!yn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Vv.render(this.render)}}class zR extends r6{constructor(){super(...arguments),this.KeyframeResolver=BL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ga{constructor(e){this.isMounted=!1,this.node=e}update(){}}function BR({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function a6({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o6(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Qg(t){return t===void 0||t===1}function t0({scale:t,scaleX:e,scaleY:n}){return!Qg(t)||!Qg(e)||!Qg(n)}function Za(t){return t0(t)||FR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function FR(t){return I1(t.x)||I1(t.y)}function I1(t){return t&&t!=="0%"}function Uf(t,e,n){const s=t-n,a=e*s;return n+a}function D1(t,e,n,s,a){return a!==void 0&&(t=Uf(t,a,s)),Uf(t,n,s)+e}function n0(t,e=0,n=1,s,a){t.min=D1(t.min,e,n,s,a),t.max=D1(t.max,e,n,s,a)}function HR(t,{x:e,y:n}){n0(t.x,e.translate,e.scale,e.originPoint),n0(t.y,n.translate,n.scale,n.originPoint)}const k1=.999999999999,j1=1.0000000000001;function l6(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=n[h],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,HR(t,c)),s&&Za(l.latestValues)&&bl(t,l.latestValues))}e.x<j1&&e.x>k1&&(e.x=1),e.y<j1&&e.y>k1&&(e.y=1)}function vl(t,e){t.min=t.min+e,t.max=t.max+e}function M1(t,e,n,s,a=.5){const l=Tt(t.min,t.max,a);n0(t,e,n,l,s)}function bl(t,e){M1(t.x,e.x,e.scaleX,e.scale,e.originX),M1(t.y,e.y,e.scaleY,e.scale,e.originY)}function qR(t,e){return BR(o6(t.getBoundingClientRect(),e))}function c6(t,e,n){const s=qR(t,n),{scroll:a}=e;return a&&(vl(s.x,a.offset.x),vl(s.y,a.offset.y)),s}const u6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},h6=Yl.length;function d6(t,e,n){let s="",a=!0;for(let l=0;l<h6;l++){const c=Yl[l],h=t[c];if(h===void 0)continue;let d=!0;if(typeof h=="number")d=h===(c.startsWith("scale")?1:0);else{const m=parseFloat(h);d=c.startsWith("scale")?m===1:m===0}if(!d||n){const m=kR(h,Mv[c]);if(!d){a=!1;const v=u6[c]||c;s+=`${v}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Uv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,h=!1;for(const d in e){const m=e[d];if($l.has(d)){c=!0;continue}else if(iR(d)){a[d]=m;continue}else{const v=kR(m,Mv[d]);d.startsWith("origin")?(h=!0,l[d]=v):s[d]=v}}if(e.transform||(c||n?s.transform=d6(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:v=0}=l;s.transformOrigin=`${d} ${m} ${v}`}}function GR(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a==null||a.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function V1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=V1(t,e.target.x),s=V1(t,e.target.y);return`${n}% ${s}%`}},f6={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=la.parse(t);if(a.length>5)return s;const l=la.createTransformer(t),c=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+c]/=h,a[1+c]/=d;const m=Tt(h,d,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},i0={borderRadius:{...tu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tu,borderTopRightRadius:tu,borderBottomLeftRadius:tu,borderBottomRightRadius:tu,boxShadow:f6};function KR(t,{layout:e,layoutId:n}){return $l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!i0[t]||t==="opacity")}function zv(t,e,n){var c;const s=t.style,a=e==null?void 0:e.style,l={};if(!s)return l;for(const h in s)(yn(s[h])||a&&yn(a[h])||KR(h,t)||((c=n==null?void 0:n.getValue(h))==null?void 0:c.liveStyle)!==void 0)&&(l[h]=s[h]);return l}function m6(t){return window.getComputedStyle(t)}class p6 extends zR{constructor(){super(...arguments),this.type="html",this.renderInstance=GR}readValueFromInstance(e,n){var s;if($l.has(n))return(s=this.projection)!=null&&s.isProjecting?Hy(n):FP(e,n);{const a=m6(e),l=(iR(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qR(e,n)}build(e,n,s){Uv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return zv(e,n,s)}}const g6={offset:"stroke-dashoffset",array:"stroke-dasharray"},y6={offset:"strokeDashoffset",array:"strokeDasharray"};function v6(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?g6:y6;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const b6=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function YR(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},d,m,v){if(Uv(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox);for(const T of b6)b[T]!==void 0&&(x[T]=b[T],delete b[T]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&v6(b,a,l,c,!1)}const $R=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),XR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function x6(t,e,n,s){GR(t,e,void 0,s);for(const a in e.attrs)t.setAttribute($R.has(a)?a:jv(a),e.attrs[a])}function QR(t,e,n){const s=zv(t,e,n);for(const a in t)if(yn(t[a])||yn(e[a])){const l=Yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class _6 extends zR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=en}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($l.has(n)){const s=NR(n);return s&&s.default||0}return n=$R.has(n)?n:jv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return QR(e,n,s)}build(e,n,s){YR(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){x6(e,n,s,a)}mount(e){this.isSVGTag=XR(e.tagName),super.mount(e)}}const w6=Lv.length;function WR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?WR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<w6;n++){const s=Lv[n],a=t.props[s];(Fu(a)||a===!1)&&(e[s]=a)}return e}function JR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const E6=[...Pv].reverse(),T6=Pv.length;function S6(t){return e=>Promise.all(e.map(({animation:n,options:s})=>DL(t,n,s)))}function A6(t){let e=S6(t),n=O1(),s=!0;const a=d=>(m,v)=>{var x;const b=Al(t,v,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(b){const{transition:T,transitionEnd:R,...I}=b;m={...m,...I,...R}}return m};function l(d){e=d(t)}function c(d){const{props:m}=t,v=WR(t.parent)||{},b=[],x=new Set;let T={},R=1/0;for(let k=0;k<T6;k++){const M=E6[k],z=n[M],V=m[M]!==void 0?m[M]:v[M],$=Fu(V),K=M===d?z.isActive:null;K===!1&&(R=k);let Y=V===v[M]&&V!==m[M]&&$;if(Y&&s&&t.manuallyAnimateOnMount&&(Y=!1),z.protectedKeys={...T},!z.isActive&&K===null||!V&&!z.prevProp||xm(V)||typeof V=="boolean")continue;const D=R6(z.prevProp,V);let S=D||M===d&&z.isActive&&!Y&&$||k>R&&$,A=!1;const O=Array.isArray(V)?V:[V];let P=O.reduce(a(M),{});K===!1&&(P={});const{prevResolvedValues:H={}}=z,U={...H,...P},ke=ue=>{S=!0,x.has(ue)&&(A=!0,x.delete(ue)),z.needsAnimating[ue]=!0;const re=t.getValue(ue);re&&(re.liveStyle=!1)};for(const ue in U){const re=P[ue],Ee=H[ue];if(T.hasOwnProperty(ue))continue;let Ie=!1;Xy(re)&&Xy(Ee)?Ie=!JR(re,Ee):Ie=re!==Ee,Ie?re!=null?ke(ue):x.add(ue):re!==void 0&&x.has(ue)?ke(ue):z.protectedKeys[ue]=!0}z.prevProp=V,z.prevResolvedValues=P,z.isActive&&(T={...T,...P}),s&&t.blockInitialAnimation&&(S=!1);const Ve=Y&&D;S&&(!Ve||A)&&b.push(...O.map(ue=>{const re={type:M};if(typeof ue=="string"&&s&&!Ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ee}=t,Ie=Al(Ee,ue);if(Ee.enteringChildren&&Ie){const{delayChildren:F}=Ie.transition||{};re.delay=_R(Ee.enteringChildren,t,F)}}return{animation:ue,options:re}}))}if(x.size){const k={};if(typeof m.initial!="boolean"){const M=Al(t,Array.isArray(m.initial)?m.initial[0]:m.initial);M&&M.transition&&(k.transition=M.transition)}x.forEach(M=>{const z=t.getBaseTarget(M),V=t.getValue(M);V&&(V.liveStyle=!0),k[M]=z??null}),b.push({animation:k})}let I=!!b.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(I=!1),s=!1,I?e(b):Promise.resolve()}function h(d,m){var b;if(n[d].isActive===m)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(x=>{var T;return(T=x.animationState)==null?void 0:T.setActive(d,m)}),n[d].isActive=m;const v=c(d);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=O1()}}}function R6(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!JR(e,t):!1}function Xa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O1(){return{animate:Xa(!0),whileInView:Xa(),whileHover:Xa(),whileTap:Xa(),whileDrag:Xa(),whileFocus:Xa(),exit:Xa()}}function P1(t,e){t.min=e.min,t.max=e.max}function Li(t,e){P1(t.x,e.x),P1(t.y,e.y)}function L1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const ZR=1e-4,C6=1-ZR,N6=1+ZR,eC=.01,I6=0-eC,D6=0+eC;function In(t){return t.max-t.min}function k6(t,e,n){return Math.abs(t-e)<=n}function U1(t,e,n,s=.5){t.origin=s,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=In(n)/In(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=C6&&t.scale<=N6||isNaN(t.scale))&&(t.scale=1),(t.translate>=I6&&t.translate<=D6||isNaN(t.translate))&&(t.translate=0)}function wu(t,e,n,s){U1(t.x,e.x,n.x,s?s.originX:void 0),U1(t.y,e.y,n.y,s?s.originY:void 0)}function z1(t,e,n){t.min=n.min+e.min,t.max=t.min+In(e)}function j6(t,e,n){z1(t.x,e.x,n.x),z1(t.y,e.y,n.y)}function B1(t,e,n){t.min=e.min-n.min,t.max=t.min+In(e)}function zf(t,e,n){B1(t.x,e.x,n.x),B1(t.y,e.y,n.y)}function F1(t,e,n,s,a){return t-=e,t=Uf(t,1/n,s),a!==void 0&&(t=Uf(t,1/a,s)),t}function M6(t,e=0,n=1,s=.5,a,l=t,c=t){if(_s.test(e)&&(e=parseFloat(e),e=Tt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Tt(l.min,l.max,s);t===l&&(h-=e),t.min=F1(t.min,e,n,h,a),t.max=F1(t.max,e,n,h,a)}function H1(t,e,[n,s,a],l,c){M6(t,e[n],e[s],e[a],e.scale,l,c)}const V6=["x","scaleX","originX"],O6=["y","scaleY","originY"];function q1(t,e,n,s){H1(t.x,e,V6,n?n.x:void 0,s?s.x:void 0),H1(t.y,e,O6,n?n.y:void 0,s?s.y:void 0)}function G1(t){return t.translate===0&&t.scale===1}function tC(t){return G1(t.x)&&G1(t.y)}function K1(t,e){return t.min===e.min&&t.max===e.max}function P6(t,e){return K1(t.x,e.x)&&K1(t.y,e.y)}function Y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function nC(t,e){return Y1(t.x,e.x)&&Y1(t.y,e.y)}function $1(t){return In(t.x)/In(t.y)}function X1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function _i(t){return[t("x"),t("y")]}function L6(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:b,rotateY:x,skewX:T,skewY:R}=n;m&&(s=`perspective(${m}px) ${s}`),v&&(s+=`rotate(${v}deg) `),b&&(s+=`rotateX(${b}deg) `),x&&(s+=`rotateY(${x}deg) `),T&&(s+=`skewX(${T}deg) `),R&&(s+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const iC=["TopLeft","TopRight","BottomLeft","BottomRight"],U6=iC.length,Q1=t=>typeof t=="string"?parseFloat(t):t,W1=t=>typeof t=="number"||xe.test(t);function z6(t,e,n,s,a,l){a?(t.opacity=Tt(0,n.opacity??1,B6(s)),t.opacityExit=Tt(e.opacity??1,0,F6(s))):l&&(t.opacity=Tt(e.opacity??1,n.opacity??1,s));for(let c=0;c<U6;c++){const h=`border${iC[c]}Radius`;let d=J1(e,h),m=J1(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||W1(d)===W1(m)?(t[h]=Math.max(Tt(Q1(d),Q1(m),s),0),(_s.test(m)||_s.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,s))}function J1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const B6=sC(0,.5,W2),F6=sC(.5,.95,Ti);function sC(t,e,n){return s=>s<t?0:s>e?1:n(Uu(t,e,s))}function H6(t,e,n){const s=yn(t)?t:po(t);return s.start(Dv("",s,e,n)),s.animation}function Hu(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const q6=(t,e)=>t.depth-e.depth;class G6{constructor(){this.children=[],this.isDirty=!1}add(e){mv(this.children,e),this.isDirty=!0}remove(e){pv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(q6),this.isDirty=!1,this.children.forEach(e)}}function K6(t,e){const n=Nn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(sr(s),t(l-e))};return gt.setup(s,!0),()=>sr(s)}function ff(t){return yn(t)?t.get():t}class Y6{constructor(){this.members=[]}add(e){mv(this.members,e),e.scheduleRender()}remove(e){if(pv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:h}=e.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const mf={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Wg=["","X","Y","Z"],$6=1e3;let X6=0;function Jg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function rC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",gt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&rC(s)}function aC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e==null?void 0:e()){this.id=X6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J6),this.nodes.forEach(n9),this.nodes.forEach(i9),this.nodes.forEach(Z6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new G6)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new vv),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const d=this.eventHandlers.get(c);d&&d.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=OR(c)&&!QL(c),this.instance=c;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let v,b=0;const x=()=>this.root.updateBlockedByResize=!1;gt.read(()=>{b=window.innerWidth}),t(c,()=>{const T=window.innerWidth;T!==b&&(b=T,this.root.updateBlockedByResize=!0,v&&v(),v=K6(x,250),mf.hasAnimatedSinceResize&&(mf.hasAnimatedSinceResize=!1,this.nodes.forEach(tT)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||m.getDefaultTransition()||l9,{onLayoutAnimationStart:I,onLayoutAnimationComplete:k}=m.getProps(),M=!this.targetLayout||!nC(this.targetLayout,T),z=!b&&x;if(this.options.layoutRoot||this.resumeFrom||z||b&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const V={...Iv(R,"layout"),onPlay:I,onComplete:k};(m.shouldReduceMotion||this.options.layoutRoot)&&(V.delay=0,V.type=!1),this.startAnimation(V),this.setAnimationOrigin(v,z)}else b||tT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Z1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(t9),this.nodes.forEach(Q6),this.nodes.forEach(W6)):this.nodes.forEach(eT),this.clearAllSnapshots();const h=Nn.now();mn.delta=Es(0,1e3/60,h-mn.timestamp),mn.timestamp=h,mn.isProcessing=!0,Hg.update.process(mn),Hg.preRender.process(mn),Hg.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(e9),this.sharedNodes.forEach(r9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=en(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!tC(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||Za(this.latestValues)||v)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return c&&(d=this.removeTransform(d)),c9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return en();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(u9))){const{scroll:v}=this.root;v&&(vl(h.x,v.offset.x),vl(h.y,v.offset.y))}return h}removeElementScroll(c){var d;const h=en();if(Li(h,c),(d=this.scroll)!=null&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:b,options:x}=v;v!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&Li(h,c),vl(h.x,b.offset.x),vl(h.y,b.offset.y))}return h}applyTransform(c,h=!1){const d=en();Li(d,c);for(let m=0;m<this.path.length;m++){const v=this.path[m];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&bl(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Za(v.latestValues)&&bl(d,v.latestValues)}return Za(this.latestValues)&&bl(d,this.latestValues),d}removeTransform(c){const h=en();Li(h,c);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Za(m.latestValues))continue;t0(m.latestValues)&&m.updateSnapshot();const v=en(),b=m.measurePageBox();Li(v,b),q1(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Za(this.latestValues)&&q1(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var T;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!this.layout||!(v||b))return;this.resolvedRelativeTargetAt=mn.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=en(),this.targetWithTransforms=en()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Li(this.target,this.layout.layoutBox),HR(this.target,this.targetDelta)):Li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||t0(this.parent.latestValues)||FR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,d){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=en(),this.relativeTargetOrigin=en(),zf(this.relativeTargetOrigin,h,d),Li(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var R;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;Li(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;l6(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=en());const{target:T}=c;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L1(this.prevProjectionDelta.x,this.projectionDelta.x),L1(this.prevProjectionDelta.y,this.projectionDelta.y)),wu(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!X1(this.projectionDelta.x,this.prevProjectionDelta.x)||!X1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yl(),this.projectionDelta=yl(),this.projectionDeltaWithTransform=yl()}setAnimationOrigin(c,h=!1){const d=this.snapshot,m=d?d.latestValues:{},v={...this.latestValues},b=yl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=en(),T=d?d.source:void 0,R=this.layout?this.layout.source:void 0,I=T!==R,k=this.getStack(),M=!k||k.members.length<=1,z=!!(I&&!M&&this.options.crossfade===!0&&!this.path.some(o9));this.animationProgress=0;let V;this.mixTargetDelta=$=>{const K=$/1e3;nT(b.x,c.x,K),nT(b.y,c.y,K),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a9(this.relativeTarget,this.relativeTargetOrigin,x,K),V&&P6(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=en()),Li(V,this.relativeTarget)),I&&(this.animationValues=v,z6(v,m,this.latestValues,K,z,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=K},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var h,d,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=gt.update(()=>{mf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=po(0)),this.currentAnimation=H6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),c.onUpdate&&c.onUpdate(v)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:v}=c;if(!(!h||!d||!m)){if(this!==c&&this.layout&&m&&oC(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||en();const b=In(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+b;const x=In(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+x}Li(h,d),bl(h,v),wu(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Y6),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Jg("z",c,m,this.animationValues);for(let v=0;v<Wg.length;v++)Jg(`rotate${Wg[v]}`,c,m,this.animationValues),Jg(`skew${Wg[v]}`,c,m,this.animationValues);c.render();for(const v in m)c.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ff(h==null?void 0:h.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ff(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Za(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=L6(this.projectionDeltaWithTransform,this.treeScale,v);d&&(b=d(v,b)),c.transform=b;const{x,y:T}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${T.origin*100}% 0`,m.animationValues?c.opacity=m===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=m===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const R in i0){if(v[R]===void 0)continue;const{correct:I,applyTo:k,isCSSVariable:M}=i0[R],z=b==="none"?v[R]:I(v[R],m);if(k){const V=k.length;for(let $=0;$<V;$++)c[k[$]]=z}else M?this.options.visualElement.renderState.vars[R]=z:c[R]=z}this.options.layoutId&&(c.pointerEvents=m===this?ff(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Z1),this.root.sharedNodes.clear()}}}function Q6(t){t.updateLayout()}function W6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?_i(b=>{const x=c?e.measuredBox[b]:e.layoutBox[b],T=In(x);x.min=s[b].min,x.max=x.min+T}):oC(l,e.layoutBox,s)&&_i(b=>{const x=c?e.measuredBox[b]:e.layoutBox[b],T=In(s[b]);x.max=x.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+T)});const h=yl();wu(h,s,e.layoutBox);const d=yl();c?wu(d,t.applyTransform(a,!0),e.measuredBox):wu(d,s,e.layoutBox);const m=!tC(h);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:T}=b;if(x&&T){const R=en();zf(R,e.layoutBox,x.layoutBox);const I=en();zf(I,s,T.layoutBox),nC(R,I)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=R,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function J6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Z6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function e9(t){t.clearSnapshot()}function Z1(t){t.clearMeasurements()}function eT(t){t.isLayoutDirty=!1}function t9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function n9(t){t.resolveTargetDelta()}function i9(t){t.calcProjection()}function s9(t){t.resetSkewAndRotation()}function r9(t){t.removeLeadSnapshot()}function nT(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iT(t,e,n,s){t.min=Tt(e.min,n.min,s),t.max=Tt(e.max,n.max,s)}function a9(t,e,n,s){iT(t.x,e.x,n.x,s),iT(t.y,e.y,n.y,s)}function o9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const l9={duration:.45,ease:[.4,0,.1,1]},sT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),rT=sT("applewebkit/")&&!sT("chrome/")?Math.round:Ti;function aT(t){t.min=rT(t.min),t.max=rT(t.max)}function c9(t){aT(t.x),aT(t.y)}function oC(t,e,n){return t==="position"||t==="preserve-aspect"&&!k6($1(e),$1(n),.2)}function u9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const h9=aC({attachResizeListener:(t,e)=>Hu(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Zg={current:void 0},lC=aC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zg.current){const t=new h9({});t.mount(window),t.setOptions({layoutScroll:!0}),Zg.current=t}return Zg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wm=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function d9(...t){return e=>{let n=!1;const s=t.map(a=>{const l=oT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():oT(t[a],null)}}}}function f9(...t){return N.useCallback(d9(...t),t)}class m9 extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Zy(s)&&s.offsetWidth||0,l=Zy(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p9({children:t,isPresent:e,anchorX:n,anchorY:s,root:a}){var b;const l=N.useId(),c=N.useRef(null),h=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=N.useContext(wm),m=((b=t.props)==null?void 0:b.ref)??(t==null?void 0:t.ref),v=f9(c,m);return N.useInsertionEffect(()=>{const{width:x,height:T,top:R,left:I,right:k,bottom:M}=h.current;if(e||!c.current||!x||!T)return;const z=n==="left"?`left: ${I}`:`right: ${k}`,V=s==="bottom"?`bottom: ${M}`:`top: ${R}`;c.current.dataset.motionPopId=l;const $=document.createElement("style");d&&($.nonce=d);const K=a??document.head;return K.appendChild($),$.sheet&&$.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${T}px !important;
            ${z}px !important;
            ${V}px !important;
          }
        `),()=>{K.contains($)&&K.removeChild($)}},[e]),g.jsx(m9,{isPresent:e,childRef:c,sizeRef:h,children:N.cloneElement(t,{ref:v})})}const g9=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:d,root:m})=>{const v=xo(y9),b=N.useId();let x=!0,T=N.useMemo(()=>(x=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:R=>{v.set(R,!0);for(const I of v.values())if(!I)return;s&&s()},register:R=>(v.set(R,!1),()=>v.delete(R))}),[n,v,s]);return l&&x&&(T={...T}),N.useMemo(()=>{v.forEach((R,I)=>v.set(I,!1))},[n]),N.useEffect(()=>{!n&&!v.size&&s&&s()},[n]),c==="popLayout"&&(t=g.jsx(p9,{isPresent:n,anchorX:h,anchorY:d,root:m,children:t})),g.jsx(bm.Provider,{value:T,children:t})};function y9(){return new Map}function cC(t=!0){const e=N.useContext(bm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=N.useId();N.useEffect(()=>{if(t)return a(l)},[t]);const c=N.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Kd=t=>t.key||"";function lT(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Gn=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:d="top",root:m})=>{const[v,b]=cC(c),x=N.useMemo(()=>lT(t),[t]),T=c&&!v?[]:x.map(Kd),R=N.useRef(!0),I=N.useRef(x),k=xo(()=>new Map),M=N.useRef(new Set),[z,V]=N.useState(x),[$,K]=N.useState(x);fv(()=>{R.current=!1,I.current=x;for(let S=0;S<$.length;S++){const A=Kd($[S]);T.includes(A)?(k.delete(A),M.current.delete(A)):k.get(A)!==!0&&k.set(A,!1)}},[$,T.length,T.join("-")]);const Y=[];if(x!==z){let S=[...x];for(let A=0;A<$.length;A++){const O=$[A],P=Kd(O);T.includes(P)||(S.splice(A,0,O),Y.push(O))}return l==="wait"&&Y.length&&(S=Y),K(lT(S)),V(x),null}const{forceRender:D}=N.useContext(dv);return g.jsx(g.Fragment,{children:$.map(S=>{const A=Kd(S),O=c&&!v?!1:x===$||T.includes(A),P=()=>{if(M.current.has(A))return;if(M.current.add(A),k.has(A))k.set(A,!0);else return;let H=!0;k.forEach(U=>{U||(H=!1)}),H&&(D==null||D(),K(I.current),c&&(b==null||b()),s&&s())};return g.jsx(g9,{isPresent:O,initial:!R.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:O?void 0:P,anchorX:h,anchorY:d,children:S},A)})})},uC=N.createContext({strict:!1}),cT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let uT=!1;function v9(){if(uT)return;const t={};for(const e in cT)t[e]={isEnabled:n=>cT[e].some(s=>!!n[s])};UR(t),uT=!0}function hC(){return v9(),s6()}function b9(t){const e=hC();for(const n in t)e[n]={...e[n],...t[n]};UR(e)}const x9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||x9.has(t)}let dC=t=>!Bf(t);function _9(t){typeof t=="function"&&(dC=e=>e.startsWith("on")?!Bf(e):t(e))}try{_9(require("@emotion/is-prop-valid").default)}catch{}function w9(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(dC(a)||n===!0&&Bf(a)||!e&&!Bf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Em=N.createContext({});function E9(t,e){if(_m(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Fu(n)?n:void 0,animate:Fu(s)?s:void 0}}return t.inherit!==!1?e:{}}function T9(t){const{initial:e,animate:n}=E9(t,N.useContext(Em));return N.useMemo(()=>({initial:e,animate:n}),[hT(e),hT(n)])}function hT(t){return Array.isArray(t)?t.join(" "):t}const Bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fC(t,e,n){for(const s in e)!yn(e[s])&&!KR(s,n)&&(t[s]=e[s])}function S9({transformTemplate:t},e){return N.useMemo(()=>{const n=Bv();return Uv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function A9(t,e){const n=t.style||{},s={};return fC(s,n,t),Object.assign(s,S9(t,e)),s}function R9(t,e){const n={},s=A9(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const mC=()=>({...Bv(),attrs:{}});function C9(t,e,n,s){const a=N.useMemo(()=>{const l=mC();return YR(l,e,XR(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};fC(l,t.style,t),a.style={...l,...a.style}}return a}const N9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Fv(t){return typeof t!="string"||t.includes("-")?!1:!!(N9.indexOf(t)>-1||/[A-Z]/u.test(t))}function I9(t,e,n,{latestValues:s},a,l=!1,c){const d=(c??Fv(t)?C9:R9)(e,s,a,t),m=w9(e,typeof t=="string",l),v=t!==N.Fragment?{...m,...d,ref:n}:{},{children:b}=e,x=N.useMemo(()=>yn(b)?b.get():b,[b]);return N.createElement(t,{...v,children:x})}function D9({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:k9(n,s,a,t),renderState:e()}}function k9(t,e,n,s){const a={},l=s(t,{});for(const x in l)a[x]=ff(l[x]);let{initial:c,animate:h}=t;const d=_m(t),m=LR(t);e&&m&&!d&&t.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const b=v?h:c;if(b&&typeof b!="boolean"&&!xm(b)){const x=Array.isArray(b)?b:[b];for(let T=0;T<x.length;T++){const R=kv(t,x[T]);if(R){const{transitionEnd:I,transition:k,...M}=R;for(const z in M){let V=M[z];if(Array.isArray(V)){const $=v?V.length-1:0;V=V[$]}V!==null&&(a[z]=V)}for(const z in I)a[z]=I[z]}}}return a}const pC=t=>(e,n)=>{const s=N.useContext(Em),a=N.useContext(bm),l=()=>D9(t,e,s,a);return n?l():xo(l)},j9=pC({scrapeMotionValuesFromProps:zv,createRenderState:Bv}),M9=pC({scrapeMotionValuesFromProps:QR,createRenderState:mC}),V9=Symbol.for("motionComponentSymbol");function O9(t,e,n){const s=N.useRef(n);N.useInsertionEffect(()=>{s.current=n});const a=N.useRef(null);return N.useCallback(l=>{var h;l&&((h=t.onMount)==null||h.call(t,l)),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const d=c(l);typeof d=="function"&&(a.current=d)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const gC=N.createContext({});function uu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P9(t,e,n,s,a,l){var V,$;const{visualElement:c}=N.useContext(Em),h=N.useContext(uC),d=N.useContext(bm),m=N.useContext(wm),v=m.reducedMotion,b=m.skipAnimations,x=N.useRef(null),T=N.useRef(!1);s=s||h.renderer,!x.current&&s&&(x.current=s(t,{visualState:e,parent:c,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:v,skipAnimations:b,isSVG:l}),T.current&&x.current&&(x.current.manuallyAnimateOnMount=!0));const R=x.current,I=N.useContext(gC);R&&!R.projection&&a&&(R.type==="html"||R.type==="svg")&&L9(x.current,n,a,I);const k=N.useRef(!1);N.useInsertionEffect(()=>{R&&k.current&&R.update(n,d)});const M=n[TR],z=N.useRef(!!M&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,M))&&(($=window.MotionHasOptimisedAnimation)==null?void 0:$.call(window,M)));return fv(()=>{T.current=!0,R&&(k.current=!0,window.MotionIsMounted=!0,R.updateFeatures(),R.scheduleRenderMicrotask(),z.current&&R.animationState&&R.animationState.animateChanges())}),N.useEffect(()=>{R&&(!z.current&&R.animationState&&R.animationState.animateChanges(),z.current&&(queueMicrotask(()=>{var K;(K=window.MotionHandoffMarkAsComplete)==null||K.call(window,M)}),z.current=!1),R.enteringChildren=void 0)}),R}function L9(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:yC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&uu(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:d,layoutRoot:m})}function yC(t){if(t)return t.options.allowProjection!==!1?t.projection:yC(t.parent)}function ey(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&b9(s);const l=n?n==="svg":Fv(t),c=l?M9:j9;function h(m,v){let b;const x={...N.useContext(wm),...m,layoutId:U9(m)},{isStatic:T}=x,R=T9(m),I=c(m,T);if(!T&&z2){z9();const k=B9(x);b=k.MeasureLayout,R.visualElement=P9(t,I,x,a,k.ProjectionNode,l)}return g.jsxs(Em.Provider,{value:R,children:[b&&R.visualElement?g.jsx(b,{visualElement:R.visualElement,...x}):null,I9(t,m,O9(I,R.visualElement,v),I,T,e,l)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=N.forwardRef(h);return d[V9]=t,d}function U9({layoutId:t}){const e=N.useContext(dv).id;return e&&t!==void 0?e+"-"+t:t}function z9(t,e){N.useContext(uC).strict}function B9(t){const e=hC(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(t)||s!=null&&s.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function F9(t,e){if(typeof Proxy>"u")return ey;const n=new Map,s=(l,c)=>ey(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,ey(c,void 0,t,e)),n.get(c))})}const H9=(t,e)=>e.isSVG??Fv(t)?new _6(e):new p6(e,{allowProjection:t!==N.Fragment});class q9 extends ga{constructor(e){super(e),e.animationState||(e.animationState=A6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let G9=0;class K9 extends ga{constructor(){super(...arguments),this.id=G9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Y9={animation:{Feature:q9},exit:{Feature:K9}};function fh(t){return{point:{x:t.pageX,y:t.pageY}}}const $9=t=>e=>Ov(e)&&t(e,fh(e));function Eu(t,e,n,s){return Hu(t,e,$9(n),s)}const vC=({current:t})=>t?t.ownerDocument.defaultView:null,dT=(t,e)=>Math.abs(t-e);function X9(t,e){const n=dT(t.x,e.x),s=dT(t.y,e.y);return Math.sqrt(n**2+s**2)}const fT=new Set(["auto","scroll"]);class bC{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=T=>{this.handleScroll(T.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=ny(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,I=X9(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!I)return;const{point:k}=T,{timestamp:M}=mn;this.history.push({...k,timestamp:M});const{onStart:z,onMove:V}=this.handlers;R||(z&&z(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,T)},this.handlePointerMove=(T,R)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=ty(R,this.transformPagePoint),gt.update(this.updatePoint,!0)},this.handlePointerUp=(T,R)=>{this.end();const{onEnd:I,onSessionEnd:k,resumeAnimation:M}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=ny(T.type==="pointercancel"?this.lastMoveEventInfo:ty(R,this.transformPagePoint),this.history);this.startEvent&&I&&I(T,z),k&&k(T,z)},!Ov(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=fh(e),m=ty(d,this.transformPagePoint),{point:v}=m,{timestamp:b}=mn;this.history=[{...v,timestamp:b}];const{onSessionStart:x}=n;x&&x(e,ny(m,this.history)),this.removeListeners=uh(Eu(this.contextWindow,"pointermove",this.handlePointerMove),Eu(this.contextWindow,"pointerup",this.handlePointerUp),Eu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(fT.has(s.overflowX)||fT.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),gt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),sr(this.updatePoint)}}function ty(t,e){return e?{point:e(t.point)}:t}function mT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ny({point:t},e){return{point:t,delta:mT(t,xC(e)),offset:mT(t,Q9(e)),velocity:W9(e,.1)}}function Q9(t){return t[0]}function xC(t){return t[t.length-1]}function W9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=xC(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ws(e)));)n--;if(!s)return{x:0,y:0};const l=Ei(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function J9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Tt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Tt(n,t,s.max):Math.min(t,n)),t}function pT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Z9(t,{top:e,left:n,bottom:s,right:a}){return{x:pT(t.x,n,a),y:pT(t.y,e,s)}}function gT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function eU(t,e){return{x:gT(t.x,e.x),y:gT(t.y,e.y)}}function tU(t,e){let n=.5;const s=In(t),a=In(e);return a>s?n=Uu(e.min,e.max-s,t.min):s>a&&(n=Uu(t.min,t.max-a,e.min)),Es(0,1,n)}function nU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const s0=.35;function iU(t=s0){return t===!1?t=0:t===!0&&(t=s0),{x:yT(t,"left","right"),y:yT(t,"top","bottom")}}function yT(t,e,n){return{min:vT(t,e),max:vT(t,n)}}function vT(t,e){return typeof t=="number"?t:t[e]||0}const sU=new WeakMap;class rU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=en(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n?(this.stopAnimation(),this.snapToCursor(fh(b).point)):this.pauseAnimation()},c=(b,x)=>{this.stopAnimation();const{drag:T,dragPropagation:R,onDragStart:I}=this.getProps();if(T&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FL(T),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(M=>{let z=this.getAxisMotionValue(M).get()||0;if(_s.test(z)){const{projection:V}=this.visualElement;if(V&&V.layout){const $=V.layout.layoutBox[M];$&&(z=In($)*(parseFloat(z)/100))}}this.originPoint[M]=z}),I&&gt.update(()=>I(b,x),!1,!0),Qy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x;const{dragPropagation:T,dragDirectionLock:R,onDirectionLock:I,onDrag:k}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:M}=x;if(R&&this.currentDirection===null){this.currentDirection=aU(M),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",x.point,M),this.updateAxis("y",x.point,M),this.visualElement.render(),k&&gt.update(()=>k(b,x),!1,!0)},d=(b,x)=>{this.latestPointerEvent=b,this.latestPanInfo=x,this.stop(b,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>_i(b=>{var x;return this.getAnimationState(b)==="paused"&&((x=this.getAxisMotionValue(b).animation)==null?void 0:x.play())}),{dragSnapToOrigin:v}=this.getProps();this.panSession=new bC(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:vC(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&gt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Yd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=J9(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&uu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Z9(s.layoutBox,e):this.constraints=!1,this.elastic=iU(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_i(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=nU(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uu(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=c6(s,a.root,this.visualElement.getTransformPagePoint());let c=eU(a.layout.layoutBox,l);if(n){const h=n(a6(c));this.hasMutatedConstraints=!!h,h&&(c=BR(h))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=_i(v=>{if(!Yd(v,n,this.currentDirection))return;let b=d&&d[v]||{};c&&(b={min:0,max:0});const x=a?200:1e6,T=a?40:1e7,R={type:"inertia",velocity:s?e[v]:0,bounceStiffness:x,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,R)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Qy(this.visualElement,e),s.start(Dv(e,s,0,n,this.visualElement,!1))}stopAnimation(){_i(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){_i(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){_i(n=>{const{drag:s}=this.getProps();if(!Yd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[n],d=l.get()||0;l.set(e[n]-Tt(c,h,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!uu(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};_i(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const d=h.get();a[c]=tU({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),_i(c=>{if(!Yd(c,e,null))return;const h=this.getAxisMotionValue(c),{min:d,max:m}=this.constraints[c];h.set(Tt(d,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;sU.set(this.visualElement,this);const e=this.visualElement.current,n=Eu(e,"pointerdown",d=>{const{drag:m,dragListener:v=!0}=this.getProps(),b=d.target,x=b!==e&&YL(b);m&&v&&!x&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();uu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),gt.read(s);const c=Hu(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(_i(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=d[v].translate,b.set(b.get()+d[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=s0,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Yd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oU extends ga{constructor(e){super(e),this.removeGroupControls=Ti,this.removeListeners=Ti,this.controls=new rU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ti}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const iy=t=>(e,n)=>{t&&gt.update(()=>t(e,n),!1,!0)};class lU extends ga{constructor(){super(...arguments),this.removePointerDownListener=Ti}onPointerDown(e){this.session=new bC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:iy(e),onStart:iy(n),onMove:iy(s),onEnd:(l,c)=>{delete this.session,a&&gt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Eu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sy=!1;class cU extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),sy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),mf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,e.layoutDependency!==n&&c.setOptions({...c.options,layoutDependency:n}),sy=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||gt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;sy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _C(t){const[e,n]=cC(),s=N.useContext(dv);return g.jsx(cU,{...t,layoutGroup:s,switchLayoutGroup:N.useContext(gC),isPresent:e,safeToRemove:n})}const uU={pan:{Feature:lU},drag:{Feature:oU,ProjectionNode:lC,MeasureLayout:_C}};function bT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&gt.postRender(()=>l(e,fh(e)))}class hU extends ga{mount(){const{current:e}=this.node;e&&(this.unmount=HL(e,(n,s)=>(bT(this.node,s,"Start"),a=>bT(this.node,a,"End"))))}unmount(){}}class dU extends ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uh(Hu(this.node.current,"focus",()=>this.onFocus()),Hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function xT(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&gt.postRender(()=>l(e,fh(e)))}class fU extends ga{mount(){const{current:e}=this.node;e&&(this.unmount=XL(e,(n,s)=>(xT(this.node,s,"Start"),(a,{success:l})=>xT(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const r0=new WeakMap,ry=new WeakMap,mU=t=>{const e=r0.get(t.target);e&&e(t)},pU=t=>{t.forEach(mU)};function gU({root:t,...e}){const n=t||document;ry.has(n)||ry.set(n,{});const s=ry.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(pU,{root:t,...e})),s[a]}function yU(t,e,n){const s=gU(e);return r0.set(t,n),s.observe(t),()=>{r0.delete(t),s.unobserve(t)}}const vU={some:0,all:1};class bU extends ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:vU[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),x=m?v:b;x&&x(d)};return yU(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xU(e,n))&&this.startObserver()}unmount(){}}function xU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _U={inView:{Feature:bU},tap:{Feature:fU},focus:{Feature:dU},hover:{Feature:hU}},wU={layout:{ProjectionNode:lC,MeasureLayout:_C}},EU={...Y9,..._U,...uU,...wU},ne=F9(EU,H9);function wC(t){const e=xo(()=>po(t)),{isStatic:n}=N.useContext(wm);if(n){const[,s]=N.useState(t);N.useEffect(()=>e.on("change",s),[])}return e}function EC(t,e){const n=wC(e()),s=()=>n.set(e());return s(),fv(()=>{const a=()=>gt.preRender(s,!1,!0),l=t.map(c=>c.on("change",a));return()=>{l.forEach(c=>c()),sr(s)}}),n}function TU(t){_u.current=[],t();const e=EC(_u.current,t);return _u.current=void 0,e}function SU(t,e,n,s){if(typeof t=="function")return TU(t);const l=typeof e=="function"?e:WL(e,n,s);return Array.isArray(t)?_T(t,l):_T([t],([c])=>l(c))}function _T(t,e){const n=xo(()=>[]);return EC(t,()=>{n.length=0;const s=t.length;for(let a=0;a<s;a++)n[a]=t[a].get();return e(n)})}const AU={some:0,all:1};function RU(t,e,{root:n,margin:s,amount:a="some"}={}){const l=DR(t),c=new WeakMap,h=m=>{m.forEach(v=>{const b=c.get(v.target);if(v.isIntersecting!==!!b)if(v.isIntersecting){const x=e(v.target,v);typeof x=="function"?c.set(v.target,x):d.unobserve(v.target)}else typeof b=="function"&&(b(v),c.delete(v.target))})},d=new IntersectionObserver(h,{root:n,rootMargin:s,threshold:typeof a=="number"?a:AU[a]});return l.forEach(m=>d.observe(m)),()=>d.disconnect()}function ya(t,{root:e,margin:n,amount:s,once:a=!1,initial:l=!1}={}){const[c,h]=N.useState(l);return N.useEffect(()=>{if(!t.current||a&&c)return;const d=()=>(h(!0),a?void 0:()=>h(!1)),m={root:e&&e.current||void 0,margin:n,amount:s};return RU(t.current,d,m)},[e,t,n,a,s]),c}const TC=N.createContext(null);function CU(t,e,n,s){if(!s)return t;const a=t.findIndex(v=>v.value===e);if(a===-1)return t;const l=s>0?1:-1,c=t[a+l];if(!c)return t;const h=t[a],d=c.layout,m=Tt(d.min,d.max,.5);return l===1&&h.layout.max+n>m||l===-1&&h.layout.min+n<m?zO(t,a,a+l):t}function NU({children:t,as:e="ul",axis:n="y",onReorder:s,values:a,...l},c){const h=xo(()=>ne[e]),d=[],m=N.useRef(!1),v=N.useRef(null),b={axis:n,groupRef:v,registerItem:(R,I)=>{const k=d.findIndex(M=>R===M.value);k!==-1?d[k].layout=I[n]:d.push({value:R,layout:I[n]}),d.sort(kU)},updateOrder:(R,I,k)=>{if(m.current)return;const M=CU(d,R,I,k);d!==M&&(m.current=!0,s(M.map(DU).filter(z=>a.indexOf(z)!==-1)))}};N.useEffect(()=>{m.current=!1});const x=R=>{v.current=R,typeof c=="function"?c(R):c&&(c.current=R)},T={overflowAnchor:"none",...l.style};return g.jsx(h,{...l,style:T,ref:x,ignoreStrict:!0,children:g.jsx(TC.Provider,{value:b,children:t})})}const IU=N.forwardRef(NU);function DU(t){return t.value}function kU(t,e){return t.layout.min-e.layout.min}const $d=50,wT=25,jU=new Set(["auto","scroll"]),Tu=new WeakMap,Su=new WeakMap;let hu=null;function MU(){if(hu){const t=a0(hu,"y");t&&(Su.delete(t),Tu.delete(t));const e=a0(hu,"x");e&&e!==t&&(Su.delete(e),Tu.delete(e)),hu=null}}function VU(t,e){const n=getComputedStyle(t),s=e==="x"?n.overflowX:n.overflowY,a=t===document.body||t===document.documentElement;return jU.has(s)||a}function a0(t,e){let n=t==null?void 0:t.parentElement;for(;n;){if(VU(n,e))return n;n=n.parentElement}return null}function OU(t,e,n){const s=e.getBoundingClientRect(),a=n==="x"?Math.max(0,s.left):Math.max(0,s.top),l=n==="x"?Math.min(window.innerWidth,s.right):Math.min(window.innerHeight,s.bottom),c=t-a,h=l-t;if(c<$d){const d=1-c/$d;return{amount:-wT*d*d,edge:"start"}}else if(h<$d){const d=1-h/$d;return{amount:wT*d*d,edge:"end"}}return{amount:0,edge:null}}function PU(t,e,n,s){if(!t)return;hu=t;const a=a0(t,n);if(!a)return;const l=e-(n==="x"?window.scrollX:window.scrollY),{amount:c,edge:h}=OU(l,a,n);if(h===null){Su.delete(a),Tu.delete(a);return}const d=Su.get(a),m=a===document.body||a===document.documentElement;if(d!==h){if(!(h==="start"&&s<0||h==="end"&&s>0))return;Su.set(a,h);const b=n==="x"?a.scrollWidth-(m?window.innerWidth:a.clientWidth):a.scrollHeight-(m?window.innerHeight:a.clientHeight);Tu.set(a,b)}if(c>0){const v=Tu.get(a);if((n==="x"?m?window.scrollX:a.scrollLeft:m?window.scrollY:a.scrollTop)>=v)return}n==="x"?m?window.scrollBy({left:c}):a.scrollLeft+=c:m?window.scrollBy({top:c}):a.scrollTop+=c}function ET(t,e=0){return yn(t)?t:wC(e)}function LU({children:t,style:e={},value:n,as:s="li",onDrag:a,onDragEnd:l,layout:c=!0,...h},d){const m=xo(()=>ne[s]),v=N.useContext(TC),b={x:ET(e.x),y:ET(e.y)},x=SU([b.x,b.y],([M,z])=>M||z?1:"unset"),{axis:T,registerItem:R,updateOrder:I,groupRef:k}=v;return g.jsx(m,{drag:T,...h,dragSnapToOrigin:!0,style:{...e,x:b.x,y:b.y,zIndex:x},layout:c,onDrag:(M,z)=>{const{velocity:V,point:$}=z,K=b[T].get();I(n,K,V[T]),PU(k.current,$[T],T,V[T]),a&&a(M,z)},onDragEnd:(M,z)=>{MU(),l&&l(M,z)},onLayoutMeasure:M=>{R(n,M)},ref:d,ignoreStrict:!0,children:t})}const UU=N.forwardRef(LU),qu=({variant:t="primary",size:e="md",icon:n,className:s="",children:a,...l})=>{const c="relative overflow-hidden group font-display font-bold uppercase tracking-widest transition-all duration-300 flex items-center justify-center gap-3 transform active:scale-[0.98]",h={primary:"bg-primary text-white border border-primary/50 hover:bg-red-600 shadow-[0_0_20px_rgba(255,0,51,0.3)] hover:shadow-[0_0_40px_rgba(255,0,51,0.6)] skew-x-[-10deg]",outline:"bg-transparent text-white border border-white/20 hover:border-primary/50 hover:text-primary hover:bg-white/5 backdrop-blur-md shadow-[0_0_15px_rgba(255,255,255,0.05)] skew-x-[-10deg]"},d={sm:"h-10 px-6 text-xs",md:"h-12 px-8 text-sm",lg:"h-14 px-10 text-base"};return g.jsxs("button",{className:`${c} ${h[t]} ${d[e]} ${s}`,...l,children:[g.jsxs("div",{className:"flex items-center gap-2 skew-x-[10deg]",children:[n&&g.jsx("span",{className:"material-symbols-outlined text-[1.2em] relative z-10",children:n}),g.jsx("span",{className:"relative z-10",children:a})]}),g.jsx("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300 skew-x-[10deg]"})]})},TT=[{name:"Home",id:"home",href:"#home"},{name:"Lore",id:"lore",href:"#lore"},{name:"Features",id:"features",href:"#features"},{name:"Gallery",id:"gallery",href:"#gallery"},{name:"Hustle",id:"hustle",href:"#hustle"},{name:"Rules",id:"rules",href:"#rules"}],zU=()=>{const[t,e]=N.useState(!1),[n,s]=N.useState(!1),[a,l]=N.useState("home"),[c,h]=N.useState(0),[d,m]=N.useState(null);return N.useEffect(()=>{const v=()=>{s(window.scrollY>50);const b=["home","lore","features","gallery","hustle","rules"],x=window.scrollY+300;for(const I of b){const k=document.getElementById(I);if(k){const M=k.offsetTop,z=k.offsetHeight;x>=M&&x<M+z&&l(I)}}const T=document.documentElement.scrollHeight-window.innerHeight,R=Math.min(window.scrollY/T*100,100);h(R)};return window.addEventListener("scroll",v),v(),()=>window.removeEventListener("scroll",v)},[]),g.jsx("header",{className:"fixed left-0 right-0 z-50 flex justify-center pointer-events-none",children:g.jsx("div",{className:"pointer-events-auto w-full max-w-[1100px] px-4",children:g.jsxs(ne.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1,marginTop:n?12:24,paddingTop:n?12:16,paddingBottom:n?12:16},transition:{y:{duration:.8,ease:[.25,.46,.45,.94]},marginTop:{type:"spring",stiffness:300,damping:30},paddingTop:{type:"spring",stiffness:300,damping:30},paddingBottom:{type:"spring",stiffness:300,damping:30}},className:"relative mx-auto",children:[g.jsxs(ne.div,{animate:{borderRadius:n?16:24},transition:{type:"spring",stiffness:300,damping:30},className:"relative bg-[#0a0004]/80 backdrop-blur-xl border border-white/5 shadow-[0_20px_60px_-15px_rgba(0,0,0,0.9)] overflow-hidden hover:border-[#ff0033]/20 hover:shadow-[0_20px_80px_-15px_rgba(255,0,51,0.15)] transition-colors duration-300",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-0 left-1/4 w-1/2 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),g.jsx("div",{className:"absolute bottom-0 left-1/4 w-1/2 h-px bg-gradient-to-r from-transparent via-[#ff0033]/30 to-transparent"})]}),g.jsx("div",{className:"absolute top-0 left-0 h-[2px] w-full bg-white/5",children:g.jsx(ne.div,{className:"h-full bg-gradient-to-r from-[#ff0033] via-[#ff4466] to-[#ff0033] relative",animate:{width:`${c}%`},transition:{duration:.1},children:g.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-2 h-2 bg-[#ff0033] rounded-full blur-sm animate-pulse"})})}),g.jsxs("div",{className:"relative flex items-center justify-between px-6 md:px-8",children:[g.jsxs("a",{href:"#home",className:"flex items-center gap-3 group relative py-2","aria-label":"Go to Home",children:[g.jsx(ne.div,{className:"absolute -inset-2 bg-[#ff0033]/20 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),g.jsx(ne.div,{animate:{scale:n?.9:1},transition:{type:"spring",stiffness:300,damping:30},whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsxs("div",{className:"w-10 h-10 md:w-11 md:h-11 border border-white/10 group-hover:border-[#ff0033]/50 rounded-xl flex items-center justify-center bg-[#0a0004]/80 backdrop-blur-sm relative z-10 shadow-inner transition-all duration-300 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff0033]/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g.jsx("span",{className:"material-symbols-outlined text-[#ff0033] text-xl md:text-2xl relative z-10 group-hover:scale-110 transition-transform duration-300",children:"skull"})]})}),g.jsxs(ne.div,{animate:{opacity:n?0:1,width:n?0:"auto"},transition:{type:"spring",stiffness:300,damping:30},className:"overflow-hidden",children:[g.jsxs("span",{className:"text-lg md:text-xl text-white font-display tracking-widest leading-none group-hover:text-[#ff0033] transition-colors duration-300 whitespace-nowrap",children:["BOZO",g.jsx("span",{className:"text-[#ff0033] group-hover:text-white transition-colors duration-300",children:"RP"})]}),g.jsx("span",{className:"block text-[9px] text-gray-500 tracking-[0.3em] uppercase font-body group-hover:text-gray-400 transition-colors whitespace-nowrap",children:"San Andreas"})]})]}),g.jsx("nav",{className:"hidden md:flex items-center",children:g.jsx("div",{className:"flex items-center bg-[#050002]/50 rounded-xl p-1 border border-white/5",children:TT.map(v=>g.jsxs("a",{href:v.href,className:"relative px-4 py-2 group",onMouseEnter:()=>m(v.id),onMouseLeave:()=>m(null),onClick:()=>l(v.id),children:[g.jsx(Gn,{children:d===v.id&&g.jsx(ne.div,{layoutId:"navbar-hover",className:"absolute inset-0 bg-white/5 rounded-lg",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"spring",stiffness:400,damping:30}})}),a===v.id&&g.jsx(ne.div,{layoutId:"navbar-active",className:"absolute inset-0 bg-[#ff0033]/10 border border-[#ff0033]/20 rounded-lg",transition:{type:"spring",stiffness:400,damping:30}}),g.jsx(ne.span,{className:`relative z-10 text-xs font-bold uppercase tracking-[0.15em] transition-colors duration-200 ${a===v.id?"text-[#ff0033]":"text-gray-400 group-hover:text-white"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:v.name}),a===v.id&&g.jsx(ne.div,{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-1 h-1 bg-[#ff0033] rounded-full shadow-[0_0_8px_#ff0033]",layoutId:"navbar-dot",transition:{type:"spring",stiffness:400,damping:30}})]},v.id))})}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(ne.div,{animate:{scale:n?0:1,opacity:n?0:1,width:n?0:"auto"},transition:{type:"spring",stiffness:300,damping:30},className:"hidden sm:block overflow-hidden",children:g.jsx("a",{href:"fivem://connect/cfx.re/join/emvjbd",children:g.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"relative overflow-hidden group/btn px-5 py-2.5 bg-[#ff0033] hover:bg-[#ff1a4a] border border-[#ff0033]/50 text-white transition-all duration-300 shadow-[0_0_20px_rgba(255,0,51,0.3)] hover:shadow-[0_0_30px_rgba(255,0,51,0.5)] rounded-xl",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover/btn:translate-x-[100%] transition-transform duration-700"}),g.jsxs("span",{className:"relative z-10 text-[10px] font-bold uppercase tracking-widest font-display flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"play_arrow"}),"Connect"]})]})})}),g.jsx(ne.div,{animate:{scale:n?1:0,opacity:n?1:0,width:n?"auto":0},transition:{type:"spring",stiffness:300,damping:30},className:"hidden sm:block overflow-hidden",children:g.jsx("a",{href:"fivem://connect/cfx.re/join/emvjbd",children:g.jsx(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-10 h-10 bg-[#ff0033] hover:bg-[#ff1a4a] rounded-xl flex items-center justify-center text-white shadow-[0_0_15px_rgba(255,0,51,0.3)] hover:shadow-[0_0_25px_rgba(255,0,51,0.5)] transition-all duration-300",children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:"play_arrow"})})})}),g.jsx(ne.button,{className:"md:hidden text-gray-300 p-2 hover:text-white transition-colors relative rounded-xl hover:bg-white/5",onClick:()=>e(!t),"aria-label":"Toggle Menu",whileHover:{scale:1.05},whileTap:{scale:.95},children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:t?"close":"menu"})})]})]})]}),g.jsx(Gn,{children:t&&g.jsx(ne.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:300,damping:25},className:"md:hidden mt-3 mx-auto max-w-[350px]",children:g.jsxs("div",{className:"bg-[#0a0004]/95 border border-[#ff0033]/20 backdrop-blur-xl rounded-2xl relative p-4 shadow-[0_20px_60px_-15px_rgba(255,0,51,0.2)]",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4 opacity-50",children:[g.jsx("span",{className:"h-px w-8 bg-gradient-to-r from-transparent to-[#ff0033]"}),g.jsx("span",{className:"text-[10px] font-display tracking-widest uppercase text-[#ff0033]",children:"Navigation"}),g.jsx("span",{className:"h-px w-8 bg-gradient-to-l from-transparent to-[#ff0033]"})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[TT.map((v,b)=>g.jsxs(ne.a,{href:v.href,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.05},className:`group relative flex items-center justify-between px-4 py-3 text-sm font-bold uppercase tracking-widest transition-all duration-300 rounded-xl overflow-hidden ${a===v.id?"bg-[#ff0033]/10 border border-[#ff0033]/30 text-[#ff0033]":"hover:bg-white/5 border border-transparent text-gray-400 hover:text-white"}`,onClick:()=>{l(v.id),e(!1)},children:[g.jsx("span",{className:"relative z-10",children:v.name}),a===v.id&&g.jsx(ne.span,{className:"material-symbols-outlined text-sm",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:20},children:"star"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500"})]},v.name)),g.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4 pt-4 border-t border-white/10 border-dashed",children:g.jsx("a",{href:"fivem://connect/cfx.re/join/emvjbd",className:"block",children:g.jsx(qu,{variant:"primary",className:"w-full !h-12 text-xs font-display tracking-widest shadow-lg shadow-[#ff0033]/20",children:g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"play_arrow"}),"CONNECT NOW"]})})})})]})]})})})]})})})},BU={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,staggerChildren:.15}}},ul={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.46,.45,.94]}}},FU={hidden:{opacity:0,scale:.8,filter:"blur(20px)"},visible:{opacity:1,scale:1,filter:"blur(0px)",transition:{duration:1.2,ease:[.25,.46,.45,.94]}}},HU=[{offset:0,amplitude:80,frequency:.002,color:"rgba(255, 0, 51, 0.6)",opacity:.4},{offset:Math.PI/2,amplitude:100,frequency:.0018,color:"rgba(189, 0, 38, 0.5)",opacity:.35},{offset:Math.PI,amplitude:70,frequency:.0028,color:"rgba(120, 0, 30, 0.4)",opacity:.3},{offset:Math.PI*1.5,amplitude:90,frequency:.0015,color:"rgba(80, 0, 20, 0.35)",opacity:.25},{offset:Math.PI*2,amplitude:60,frequency:.0035,color:"rgba(255, 255, 255, 0.15)",opacity:.15}],qU=()=>{const t=N.useRef(null),e=N.useRef({x:0,y:0}),n=N.useRef({x:0,y:0}),[s,a]=N.useState(null),[l,c]=N.useState(!1),h=N.useMemo(()=>Array.from({length:35}).map(()=>({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,size:Math.random()*4+1,travel:Math.random()*80-40,duration:Math.random()*4+3,delay:Math.random()*3})),[]),d=[" LOS SANTOS POLICE DEPARTMENT HIRING: FAST TRACK APPLICATIONS OPEN ","STABLE ECONOMY  PLAYER OWNED BUSINESSES  CUSTOM IMPORTS","CITY STATUS: HIGH POPULATION  ACTIVE STAFF","ESTABLISHED GANG TERRITORIES  DRUG MANUFACTURING","REALISTIC RP  SERIOUS STORYLINES  NO PAY TO WIN","JOIN THE BEST FIVEM EXPERIENCE TODAY"];N.useEffect(()=>{const b=t.current;if(!b)return;const x=b.getContext("2d");if(!x)return;let T,R=0;const I=()=>{b.width=window.innerWidth,b.height=window.innerHeight},k=V=>{n.current={x:V.clientX,y:V.clientY}};I(),window.addEventListener("resize",I),window.addEventListener("mousemove",k);const M=V=>{const{width:$,height:K}=b;x.beginPath(),x.moveTo(0,K);const Y=e.current.x/$,D=V.amplitude*(.8+Y*.4),S=V.offset+e.current.y*.001;for(let O=0;O<=$;O+=5){const P=K*.7+Math.sin(O*V.frequency+R+S)*D+Math.sin(O*V.frequency*.5+R*.7)*(D*.3);x.lineTo(O,P)}x.lineTo($,K),x.closePath();const A=x.createLinearGradient(0,K*.5,0,K);A.addColorStop(0,V.color),A.addColorStop(1,"rgba(5, 0, 2, 0.9)"),x.fillStyle=A,x.globalAlpha=V.opacity,x.fill(),x.globalAlpha=1},z=()=>{e.current.x+=(n.current.x-e.current.x)*.05,e.current.y+=(n.current.y-e.current.y)*.05,x.fillStyle="#050002",x.fillRect(0,0,b.width,b.height),HU.forEach(M),R+=.015,T=requestAnimationFrame(z)};return z(),()=>{window.removeEventListener("resize",I),window.removeEventListener("mousemove",k),cancelAnimationFrame(T)}},[]);const m=b=>{const x=b.currentTarget.getBoundingClientRect();a({x:b.clientX-x.left,y:b.clientY-x.top})},v=()=>{a(null)};return g.jsxs("section",{id:"home",className:"relative w-full min-h-screen flex items-center justify-center overflow-hidden scroll-mt-20",onMouseMove:m,onMouseLeave:v,children:[g.jsx("canvas",{ref:t,className:"absolute inset-0 z-0",style:{background:"#050002"}}),g.jsxs("div",{className:"absolute inset-0 z-[1] pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#050002] via-transparent to-[#050002]"}),g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,transparent_0%,#050002_80%)]"})]}),g.jsx("div",{className:"absolute inset-0 z-[2] pointer-events-none overflow-hidden",children:h.map((b,x)=>g.jsx(ne.div,{className:"absolute rounded-full bg-[#ff0033]/40",style:{left:b.left,top:b.top,width:b.size,height:b.size,boxShadow:`0 0 ${b.size*2}px rgba(255, 0, 51, 0.3)`},animate:{y:[0,b.travel,0],opacity:[.2,.6,.2]},transition:{duration:b.duration,delay:b.delay,repeat:1/0,ease:"easeInOut"}},x))}),g.jsx(Gn,{children:s&&g.jsx(ne.div,{className:"absolute z-[3] pointer-events-none rounded-full",initial:{opacity:0,scale:.8},animate:{opacity:.15,scale:1,x:s.x-200,y:s.y-200},exit:{opacity:0,scale:.8},transition:{duration:.2},style:{width:400,height:400,background:"radial-gradient(circle, rgba(255,0,51,0.3) 0%, transparent 70%)"}},"spotlight")}),g.jsx(ne.div,{className:"relative z-20 min-h-screen flex items-center justify-center px-6 py-20",variants:BU,initial:"hidden",animate:"visible",children:g.jsxs("div",{className:"w-full max-w-[1400px] flex flex-col lg:flex-row items-center justify-center gap-8 lg:gap-12",children:[g.jsxs(ne.div,{variants:ul,className:"flex-1 text-center lg:text-left order-2 lg:order-1",children:[g.jsxs(ne.div,{variants:ul,className:"mb-6 inline-flex items-center gap-3 rounded-full border border-white/10 bg-[#0a0004]/80 px-5 py-2.5 text-xs font-semibold uppercase tracking-[0.3em] text-gray-400 backdrop-blur-md",children:[g.jsx("span",{className:"h-2 w-2 rounded-full bg-green-500 shadow-[0_0_10px_lime] animate-pulse"}),"San Andreas  Serious RP"]}),g.jsxs(ne.h1,{variants:ul,className:"text-4xl md:text-5xl lg:text-6xl font-display text-white mb-6 leading-tight",children:["YOUR STORY.",g.jsx("br",{}),g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #ff6666)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"YOUR RULES."})]}),g.jsxs(ne.p,{variants:ul,className:"text-lg text-gray-400 mb-8 max-w-md mx-auto lg:mx-0",children:["A serious roleplay experience where your choices matter. Join a city built on ",g.jsx("span",{className:"text-white font-medium",children:"opportunity, crime,"})," and"," ",g.jsx("span",{className:"text-[#ff0033] font-medium",children:"consequence."})]}),g.jsx(ne.div,{variants:ul,className:"flex flex-wrap justify-center lg:justify-start gap-4 mb-10",children:[{label:"Economy Based",color:"bg-green-500"},{label:"Gang Wars",color:"bg-[#ff0033]"},{label:"Active PD",color:"bg-purple-500"}].map(b=>g.jsxs("span",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-widest text-gray-400 group",children:[g.jsx("span",{className:`w-2 h-2 ${b.color} rounded-full shadow-lg group-hover:scale-125 transition-transform`}),b.label]},b.label))}),g.jsxs(ne.div,{variants:ul,className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[g.jsx("a",{href:"fivem://connect/cfx.re/join/emvjbd",className:"group",children:g.jsx(qu,{variant:"primary",size:"lg",className:"w-full sm:w-auto !h-14 !px-10 text-lg font-display tracking-widest border border-white/20 shadow-[0_0_40px_rgba(255,0,51,0.2)] group-hover:shadow-[0_0_60px_rgba(255,0,51,0.6)] group-hover:-translate-y-1 transition-all duration-300",children:"CONNECT TO CITY"})}),g.jsx("a",{href:"https://discord.gg/bozorp",target:"_blank",rel:"noopener noreferrer",children:g.jsx(qu,{variant:"outline",size:"lg",icon:"forum",className:"w-full sm:w-auto !h-14 !px-8 text-base font-display font-medium uppercase tracking-widest !border-[#5865F2]/50 !text-[#5865F2] hover:!bg-[#5865F2] hover:!text-white hover:!border-[#5865F2] shadow-[0_0_30px_rgba(88,101,242,0.15)] transition-all duration-300",children:"Join Discord"})})]})]}),g.jsxs(ne.div,{variants:FU,className:"relative flex-shrink-0 order-1 lg:order-2 group cursor-pointer",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[g.jsx(ne.div,{className:"absolute inset-0 rounded-full blur-[100px] bg-[#ff0033]/30",animate:{opacity:l?.8:.4,scale:l?1.3:1},transition:{duration:.4}}),g.jsx(ne.img,{src:"/bozorp-logo.png",alt:"BOZORP - FiveM Roleplay Server",className:"relative w-[280px] md:w-[350px] lg:w-[420px] h-auto drop-shadow-[0_0_60px_rgba(255,0,51,0.5)] select-none",animate:{filter:l?"drop-shadow(0 0 80px rgba(255,0,51,0.8))":"drop-shadow(0 0 60px rgba(255,0,51,0.5))",scale:l?1.05:1},transition:{duration:.3},draggable:!1}),g.jsx(ne.div,{className:"absolute inset-0 rounded-full border-2 border-[#ff0033]/30",style:{transform:"scale(1.1)"},animate:{opacity:[.3,.6,.3],scale:[1.1,1.15,1.1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})]})}),g.jsx("div",{className:"absolute bottom-0 left-0 w-full h-12 bg-[#0a0004]/90 border-t border-[#ff0033]/10 flex items-center overflow-hidden z-[1] backdrop-blur-md",children:g.jsx("div",{className:"flex whitespace-nowrap animate-[marquee_40s_linear_infinite]",children:[...d,...d].map((b,x)=>g.jsxs("div",{className:"flex items-center mx-12 gap-4 opacity-60 hover:opacity-100 transition-opacity",children:[g.jsx("span",{className:"text-[#ff0033] material-symbols-outlined text-base animate-pulse",children:"emergency_home"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-[0.2em] text-gray-300",children:b})]},x))})}),g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,#050002_100%)] pointer-events-none z-[5] opacity-70"}),g.jsxs("div",{className:"pointer-events-none absolute inset-0 z-[6]",children:[g.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-[#ff0033]/30 to-transparent"}),g.jsx("div",{className:"absolute inset-x-0 bottom-12 h-px bg-gradient-to-r from-transparent via-[#ff0033]/20 to-transparent"})]})]})},GU=({content:t,x:e,y:n})=>typeof document>"u"?null:pD.createPortal(g.jsxs("div",{className:"fixed z-[9999] pointer-events-none w-[380px] p-6 rounded-xl bg-[#0a0206]/95 border border-primary/30 shadow-[0_0_50px_rgba(255,0,153,0.25)] backdrop-blur-xl animate-[fadeIn_0.3s_cubic-bezier(0.16,1,0.3,1)] overflow-hidden",style:{left:e+20,top:n+20,maxWidth:"calc(100vw - 40px)",transform:"translateY(0)"},children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent rounded-xl pointer-events-none"}),g.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-primary/20 blur-[60px] rounded-full pointer-events-none"}),g.jsx("div",{className:"absolute top-0 right-0 w-full h-[1px] bg-gradient-to-l from-primary/50 to-transparent opacity-50"}),g.jsx("div",{className:"relative z-10 text-left",children:t})]}),document.body),Xd=({icon:t,label:e,value:n,tooltipContent:s})=>{const[a,l]=N.useState(!1),[c,h]=N.useState({x:0,y:0}),d=m=>{h({x:m.clientX,y:m.clientY})};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:`flex-1 min-w-[240px] glass-panel rounded-2xl p-6 flex items-center gap-5 transition-all duration-300 group border border-white/5 shadow-lg relative ${s?"cursor-help hover:border-primary/50 hover:bg-white/5":"hover:bg-white/5"}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onMouseMove:d,children:[g.jsx("div",{className:`w-12 h-12 rounded-xl bg-white/5 flex items-center justify-center text-gray-400 transition-all duration-300 group-hover:scale-110 ${s?"group-hover:text-primary group-hover:bg-primary/10 group-hover:shadow-[0_0_20px_rgba(255,0,153,0.3)]":"group-hover:text-white group-hover:bg-primary/20"}`,children:g.jsx("span",{className:"material-symbols-outlined text-2xl",children:t})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-1 group-hover:text-gray-300 transition-colors",children:e}),g.jsx("div",{className:"text-xl font-circus text-white tracking-wide",children:n})]}),s&&g.jsx("div",{className:"absolute top-3 right-3 flex gap-1",children:g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"})})]}),a&&s&&g.jsx(GU,{content:s,x:c.x,y:c.y})]})},KU=()=>g.jsxs("div",{className:"space-y-4 font-display",children:[g.jsxs("div",{className:"flex items-center gap-3 border-b border-primary/20 pb-3 mb-2",children:[g.jsx("div",{className:"p-1.5 bg-primary/10 rounded-lg border border-primary/20",children:g.jsx("span",{className:"material-symbols-outlined text-primary text-xl block animate-pulse",children:"local_police"})}),g.jsx("h4",{className:"text-white font-bold uppercase tracking-widest text-sm text-shadow-sm",children:"Law & Order Needed"})]}),g.jsxs("p",{className:"text-xs text-gray-300 font-light leading-relaxed",children:["Right now, the city is too comfortable. We need officers who will ",g.jsx("strong",{className:"text-primary font-bold",children:"lay the law down"}),", bring pressure, create RP, and make criminals think twice."]}),g.jsxs("div",{className:"bg-[#1a050f]/80 p-3 rounded-lg border-l-2 border-primary relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-primary/5 mix-blend-overlay"}),g.jsx("p",{className:"text-xs italic text-gray-400 relative z-10",children:'"This isnt mall-cop RP. This is presence, patrols, traffic stops, investigations, and real consequences."'})]}),g.jsxs("div",{className:"space-y-2 pt-1",children:[g.jsx("span",{className:"text-secondary font-bold text-[10px] uppercase tracking-wider block",children:" What You Get"}),g.jsxs("ul",{className:"text-xs text-gray-400 space-y-1.5 pl-1",children:[g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-1 h-1 bg-secondary rounded-full"}),"Immediate placement"]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-1 h-1 bg-secondary rounded-full"}),"Clean systems"]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-1 h-1 bg-secondary rounded-full"}),"A city that actually reacts to policing"]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-1 h-1 bg-secondary rounded-full"}),"Room to promote, specialize & shape department"]}),g.jsxs("li",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-1 h-1 bg-secondary rounded-full"}),"Respect from staff and players alike"]})]})]}),g.jsxs("p",{className:"text-xs text-gray-300 pt-3 border-t border-white/5",children:["If youre tired of dead departments, powerless cops, or servers that never back their police  ",g.jsx("span",{className:"text-white font-medium",children:"this is your sign."})]}),g.jsx("div",{className:"text-center pt-2",children:g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #a200ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},className:"font-circus text-sm tracking-[0.2em] animate-pulse",children:"STEP UP. BADGE UP."})})]}),YU=()=>g.jsxs("div",{className:"w-full relative z-10 px-4 py-12 bg-[#0a0206] border-b border-white/5",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5 pointer-events-none"}),g.jsx("div",{className:"max-w-[1200px] mx-auto relative z-10",children:g.jsxs("div",{className:"flex flex-wrap gap-6 justify-center",children:[g.jsx(Xd,{icon:"groups",label:"Population",value:"20+ (Growing)"}),g.jsx(Xd,{icon:"dns",label:"Stability",value:g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})," NO CRASHES"]})}),g.jsx(Xd,{icon:"schedule",label:"Uptime",value:"24/7 Online"}),g.jsx(Xd,{icon:"local_police",label:"Recruiting",value:g.jsx("span",{className:"text-primary group-hover:text-white transition-colors",children:"POLICE (Open)"}),tooltipContent:g.jsx(KU,{})})]})})]}),$U=()=>{const t=N.useRef(null),e=ya(t,{once:!0,margin:"-100px"});return g.jsxs("section",{id:"lore",ref:t,className:"w-full py-32 bg-[#0a0206] relative scroll-mt-20 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-1/2 left-0 w-[600px] h-[600px] bg-[#ff0033]/5 rounded-full blur-[200px] -translate-y-1/2"}),g.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-purple-500/5 rounded-full blur-[150px]"})]}),g.jsx("div",{className:"max-w-[1280px] mx-auto px-6 relative z-10",children:g.jsxs("div",{className:"flex flex-col lg:flex-row gap-16 items-center",children:[g.jsxs(ne.div,{initial:{opacity:0,x:-50},animate:e?{opacity:1,x:0}:{opacity:0,x:-50},transition:{duration:.8,ease:[.25,.46,.45,.94]},className:"w-full lg:w-1/2 order-2 lg:order-1 relative group",children:[g.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:[g.jsx(ne.div,{className:"absolute -inset-4 bg-[#ff0033]/20 rounded-3xl blur-2xl opacity-0 group-hover:opacity-50 transition-opacity duration-500"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#ff0033]/30 to-transparent mix-blend-overlay z-10"}),g.jsx(ne.div,{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:'url("https://lh3.googleusercontent.com/aida-public/AB6AXuBjIhh9gfxR7Fyw1DHJHtRk5zb7dSQtzKF8fPNlWYH6Zlobez3a-Xdkmr-3KRyn1ADIwQhvtu9eahFChqR3M41ljbUEXXEr4FX-8SVq6KWPlqZ6HIG3MNOzQnVxTSiI3NOKK1Wk9kYmuZtlYfKSKVAXwCTRnzVLW3GsieTX6gNXsaTkXd5sL23c8WiBHMlzUVDt8MAS-cTwLK9zszUc-k7q-eOkZyrDNG4BIe9D6Bp2bRQnqhbmsYCS49uo8igOax8EGpgJJ86bHXI")'},whileHover:{scale:1.05},transition:{duration:.6}}),g.jsx("div",{className:"absolute top-4 left-4 w-8 h-8 border-l-2 border-t-2 border-[#ff0033]/50"}),g.jsx("div",{className:"absolute bottom-4 right-4 w-8 h-8 border-r-2 border-b-2 border-[#ff0033]/50"})]}),g.jsx(ne.div,{initial:{opacity:0,scale:.8},animate:e?{opacity:1,scale:1}:{opacity:0,scale:.8},transition:{delay:.5,duration:.5},className:"absolute -bottom-4 -right-4 bg-[#0a0004] border border-[#ff0033]/30 rounded-xl px-4 py-3 shadow-2xl backdrop-blur-sm",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-[#ff0033] text-2xl",children:"auto_stories"}),g.jsxs("div",{children:[g.jsx("div",{className:"text-white text-sm font-bold",children:"Deep Lore"}),g.jsx("div",{className:"text-gray-500 text-xs",children:"Est. 2023"})]})]})})]}),g.jsxs(ne.div,{initial:{opacity:0,x:50},animate:e?{opacity:1,x:0}:{opacity:0,x:50},transition:{duration:.8,delay:.2,ease:[.25,.46,.45,.94]},className:"w-full lg:w-1/2 flex flex-col gap-6 order-1 lg:order-2",children:[g.jsxs(ne.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.3},className:"inline-flex items-center gap-3 px-4 py-2 rounded-full bg-[#ff0033]/10 border border-[#ff0033]/20 self-start",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-[#ff0033] animate-pulse"}),g.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-[#ff0033]",children:"About The City"})]}),g.jsxs(ne.h2,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.4},className:"text-4xl lg:text-6xl font-display text-white leading-tight",children:["BEHIND THE"," ",g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #a200ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"CURTAIN"})]}),g.jsxs(ne.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.5},className:"space-y-4 text-gray-400 text-lg leading-relaxed font-light",children:[g.jsx("p",{children:"Step into a city where chaos reigns. Our server lore is built on deep storytelling, serious roleplay, and a touch of madness. The government has collapsed, and the streets are run by those brave enough to take them."}),g.jsx("p",{children:"Whether you want to run a legitimate business, join the remaining police force, or rule the underground economy, the stage is set for you."})]}),g.jsx(ne.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.6},className:"flex gap-8 pt-4",children:[{value:"200+",label:"Players"},{value:"50+",label:"Custom Jobs"},{value:"24/7",label:"Active"}].map((n,s)=>g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"text-2xl font-bold text-white",children:n.value}),g.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wider",children:n.label})]},s))}),g.jsx(ne.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.7},className:"pt-4",children:g.jsxs(ne.button,{whileHover:{x:5},whileTap:{scale:.98},className:"group flex items-center gap-2 text-white text-sm font-bold uppercase tracking-widest",children:[g.jsx("span",{className:"border-b-2 border-[#ff0033] pb-1 group-hover:text-[#ff0033] transition-colors",children:"Read Full Lore"}),g.jsx("span",{className:"material-symbols-outlined text-[#ff0033] group-hover:translate-x-1 transition-transform",children:"arrow_forward"})]})})]})]})})]})},XU={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},QU={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},WU=({icon:t,title:e,description:n,index:s})=>g.jsxs(ne.div,{variants:QU,whileHover:{y:-8,scale:1.02},transition:{duration:.3},className:"group relative p-8 rounded-2xl bg-[#0a0004]/60 backdrop-blur-sm border border-white/5 hover:border-[#ff0033]/30 transition-all duration-300 overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ff0033]/5 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),g.jsx(ne.div,{className:"absolute -inset-1 bg-[#ff0033]/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",initial:!1}),g.jsx(ne.div,{className:"relative w-14 h-14 rounded-xl bg-gradient-to-br from-[#ff0033]/20 to-transparent border border-[#ff0033]/30 flex items-center justify-center mb-6 group-hover:border-[#ff0033]/50 transition-colors",whileHover:{rotate:[0,-10,10,0]},transition:{duration:.5},children:g.jsx("span",{className:"material-symbols-outlined text-3xl text-[#ff0033] group-hover:scale-110 transition-transform",children:t})}),g.jsx("h3",{className:"relative text-xl font-display text-white mb-3 tracking-wide group-hover:text-[#ff0033] transition-colors",children:e}),g.jsx("p",{className:"relative text-gray-400 font-light text-sm leading-relaxed",children:n}),g.jsx(ne.div,{className:"absolute bottom-0 left-0 h-[2px] bg-gradient-to-r from-[#ff0033] to-transparent",initial:{width:0},whileInView:{width:"50%"},transition:{delay:.3+s*.1,duration:.5}})]}),JU=()=>{const t=N.useRef(null),e=ya(t,{once:!0,margin:"-100px"}),n=[{icon:"local_taxi",title:"Custom Imports",description:"200+ Custom vehicles tailored for street racing and drifting."},{icon:"theater_comedy",title:"Serious RP",description:"Immersive storytelling where your choices actually matter."},{icon:"badge",title:"Whitelisted Jobs",description:"Police, EMS, DOJ and custom business ownership available."},{icon:"skull",title:"Underground",description:"Deep underground economy, drug labs, and heist progression."}];return g.jsxs("section",{id:"features",ref:t,className:"w-full py-32 bg-[#0a0206] relative scroll-mt-20 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-[#ff0033]/5 rounded-full blur-[150px]"}),g.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-purple-500/5 rounded-full blur-[150px]"}),g.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"60px 60px"}})]}),g.jsxs("div",{className:"max-w-[1280px] mx-auto px-6 relative z-10",children:[g.jsxs(ne.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6},className:"text-center mb-16",children:[g.jsxs(ne.span,{initial:{opacity:0,scale:.9},animate:e?{opacity:1,scale:1}:{opacity:0,scale:.9},transition:{delay:.1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ff0033]/10 border border-[#ff0033]/20 text-[#ff0033] text-xs font-bold uppercase tracking-[0.3em] mb-6",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#ff0033] animate-pulse"}),"Server Features"]}),g.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-display text-white mb-4",children:["THE MAIN"," ",g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #ff6666)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"ATTRACTIONS"})]}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:"Everything you need for an unforgettable roleplay experience"})]}),g.jsx(ne.div,{variants:XU,initial:"hidden",animate:e?"visible":"hidden",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,a)=>g.jsx(WU,{...s,index:a},a))})]})]})};function ZU(t){return Object.prototype.toString.call(t)==="[object Object]"}function ST(t){return ZU(t)||Array.isArray(t)}function ez(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Hv(t,e){const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),l=JSON.stringify(Object.keys(e.breakpoints||{}));return a!==l?!1:n.every(c=>{const h=t[c],d=e[c];return typeof h=="function"?`${h}`==`${d}`:!ST(h)||!ST(d)?h===d:Hv(h,d)})}function AT(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function tz(t,e){if(t.length!==e.length)return!1;const n=AT(t),s=AT(e);return n.every((a,l)=>{const c=s[l];return Hv(a,c)})}function qv(t){return typeof t=="number"}function o0(t){return typeof t=="string"}function Tm(t){return typeof t=="boolean"}function RT(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ct(t){return Math.abs(t)}function Gv(t){return Math.sign(t)}function Au(t,e){return Ct(t-e)}function nz(t,e){if(t===0||e===0||Ct(t)<=Ct(e))return 0;const n=Au(Ct(t),Ct(e));return Ct(n/t)}function iz(t){return Math.round(t*100)/100}function Gu(t){return Ku(t).map(Number)}function qi(t){return t[mh(t)]}function mh(t){return Math.max(0,t.length-1)}function Kv(t,e){return e===mh(t)}function CT(t,e=0){return Array.from(Array(t),(n,s)=>e+s)}function Ku(t){return Object.keys(t)}function SC(t,e){return[t,e].reduce((n,s)=>(Ku(s).forEach(a=>{const l=n[a],c=s[a],h=RT(l)&&RT(c);n[a]=h?SC(l,c):c}),n),{})}function l0(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function sz(t,e){const n={start:s,center:a,end:l};function s(){return 0}function a(d){return l(d)/2}function l(d){return e-d}function c(d,m){return o0(t)?n[t](d):t(e,d,m)}return{measure:c}}function Yu(){let t=[];function e(a,l,c,h={passive:!0}){let d;if("addEventListener"in a)a.addEventListener(l,c,h),d=()=>a.removeEventListener(l,c,h);else{const m=a;m.addListener(c),d=()=>m.removeListener(c)}return t.push(d),s}function n(){t=t.filter(a=>a())}const s={add:e,clear:n};return s}function rz(t,e,n,s){const a=Yu(),l=1e3/60;let c=null,h=0,d=0;function m(){a.add(t,"visibilitychange",()=>{t.hidden&&R()})}function v(){T(),a.clear()}function b(k){if(!d)return;c||(c=k,n(),n());const M=k-c;for(c=k,h+=M;h>=l;)n(),h-=l;const z=h/l;s(z),d&&(d=e.requestAnimationFrame(b))}function x(){d||(d=e.requestAnimationFrame(b))}function T(){e.cancelAnimationFrame(d),c=null,h=0,d=0}function R(){c=null,h=0}return{init:m,destroy:v,start:x,stop:T,update:n,render:s}}function az(t,e){const n=e==="rtl",s=t==="y",a=s?"y":"x",l=s?"x":"y",c=!s&&n?-1:1,h=v(),d=b();function m(R){const{height:I,width:k}=R;return s?I:k}function v(){return s?"top":n?"right":"left"}function b(){return s?"bottom":n?"left":"right"}function x(R){return R*c}return{scroll:a,cross:l,startEdge:h,endEdge:d,measureSize:m,direction:x}}function go(t=0,e=0){const n=Ct(t-e);function s(m){return m<t}function a(m){return m>e}function l(m){return s(m)||a(m)}function c(m){return l(m)?s(m)?t:e:m}function h(m){return n?m-n*Math.ceil((m-e)/n):m}return{length:n,max:e,min:t,constrain:c,reachedAny:l,reachedMax:a,reachedMin:s,removeOffset:h}}function AC(t,e,n){const{constrain:s}=go(0,t),a=t+1;let l=c(e);function c(x){return n?Ct((a+x)%a):s(x)}function h(){return l}function d(x){return l=c(x),b}function m(x){return v().set(h()+x)}function v(){return AC(t,h(),n)}const b={get:h,set:d,add:m,clone:v};return b}function oz(t,e,n,s,a,l,c,h,d,m,v,b,x,T,R,I,k,M,z){const{cross:V,direction:$}=t,K=["INPUT","SELECT","TEXTAREA"],Y={passive:!1},D=Yu(),S=Yu(),A=go(50,225).constrain(T.measure(20)),O={mouse:300,touch:400},P={mouse:500,touch:600},H=R?43:25;let U=!1,ke=0,Ve=0,ee=!1,ue=!1,re=!1,Ee=!1;function Ie(me){if(!z)return;function Je(jt){(Tm(z)||z(me,jt))&&Re(jt)}const tt=e;D.add(tt,"dragstart",jt=>jt.preventDefault(),Y).add(tt,"touchmove",()=>{},Y).add(tt,"touchend",()=>{}).add(tt,"touchstart",Je).add(tt,"mousedown",Je).add(tt,"touchcancel",Be).add(tt,"contextmenu",Be).add(tt,"click",Ue,!0)}function F(){D.clear(),S.clear()}function L(){const me=Ee?n:e;S.add(me,"touchmove",ge,Y).add(me,"touchend",Be).add(me,"mousemove",ge,Y).add(me,"mouseup",Be)}function X(me){const Je=me.nodeName||"";return K.includes(Je)}function le(){return(R?P:O)[Ee?"mouse":"touch"]}function _e(me,Je){const tt=b.add(Gv(me)*-1),jt=v.byDistance(me,!R).distance;return R||Ct(me)<A?jt:k&&Je?jt*.5:v.byIndex(tt.get(),0).distance}function Re(me){const Je=l0(me,s);Ee=Je,re=R&&Je&&!me.buttons&&U,U=Au(a.get(),c.get())>=2,!(Je&&me.button!==0)&&(X(me.target)||(ee=!0,l.pointerDown(me),m.useFriction(0).useDuration(0),a.set(c),L(),ke=l.readPoint(me),Ve=l.readPoint(me,V),x.emit("pointerDown")))}function ge(me){if(!l0(me,s)&&me.touches.length>=2)return Be(me);const tt=l.readPoint(me),jt=l.readPoint(me,V),nn=Au(tt,ke),An=Au(jt,Ve);if(!ue&&!Ee&&(!me.cancelable||(ue=nn>An,!ue)))return Be(me);const Kn=l.pointerMove(me);nn>I&&(re=!0),m.useFriction(.3).useDuration(.75),h.start(),a.add($(Kn)),me.preventDefault()}function Be(me){const tt=v.byDistance(0,!1).index!==b.get(),jt=l.pointerUp(me)*le(),nn=_e($(jt),tt),An=nz(jt,nn),Kn=H-10*An,rt=M+An/50;ue=!1,ee=!1,S.clear(),m.useDuration(Kn).useFriction(rt),d.distance(nn,!R),Ee=!1,x.emit("pointerUp")}function Ue(me){re&&(me.stopPropagation(),me.preventDefault(),re=!1)}function vt(){return ee}return{init:Ie,destroy:F,pointerDown:vt}}function lz(t,e){let s,a;function l(b){return b.timeStamp}function c(b,x){const R=`client${(x||t.scroll)==="x"?"X":"Y"}`;return(l0(b,e)?b:b.touches[0])[R]}function h(b){return s=b,a=b,c(b)}function d(b){const x=c(b)-c(a),T=l(b)-l(s)>170;return a=b,T&&(s=b),x}function m(b){if(!s||!a)return 0;const x=c(a)-c(s),T=l(b)-l(s),R=l(b)-l(a)>170,I=x/T;return T&&!R&&Ct(I)>.1?I:0}return{pointerDown:h,pointerMove:d,pointerUp:m,readPoint:c}}function cz(){function t(n){const{offsetTop:s,offsetLeft:a,offsetWidth:l,offsetHeight:c}=n;return{top:s,right:a+l,bottom:s+c,left:a,width:l,height:c}}return{measure:t}}function uz(t){function e(s){return t*(s/100)}return{measure:e}}function hz(t,e,n,s,a,l,c){const h=[t].concat(s);let d,m,v=[],b=!1;function x(k){return a.measureSize(c.measure(k))}function T(k){if(!l)return;m=x(t),v=s.map(x);function M(z){for(const V of z){if(b)return;const $=V.target===t,K=s.indexOf(V.target),Y=$?m:v[K],D=x($?t:s[K]);if(Ct(D-Y)>=.5){k.reInit(),e.emit("resize");break}}}d=new ResizeObserver(z=>{(Tm(l)||l(k,z))&&M(z)}),n.requestAnimationFrame(()=>{h.forEach(z=>d.observe(z))})}function R(){b=!0,d&&d.disconnect()}return{init:T,destroy:R}}function dz(t,e,n,s,a,l){let c=0,h=0,d=a,m=l,v=t.get(),b=0;function x(){const Y=s.get()-t.get(),D=!d;let S=0;return D?(c=0,n.set(s),t.set(s),S=Y):(n.set(t),c+=Y/d,c*=m,v+=c,t.add(c),S=v-b),h=Gv(S),b=v,K}function T(){const Y=s.get()-e.get();return Ct(Y)<.001}function R(){return d}function I(){return h}function k(){return c}function M(){return V(a)}function z(){return $(l)}function V(Y){return d=Y,K}function $(Y){return m=Y,K}const K={direction:I,duration:R,velocity:k,seek:x,settled:T,useBaseFriction:z,useBaseDuration:M,useFriction:$,useDuration:V};return K}function fz(t,e,n,s,a){const l=a.measure(10),c=a.measure(50),h=go(.1,.99);let d=!1;function m(){return!(d||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function v(T){if(!m())return;const R=t.reachedMin(e.get())?"min":"max",I=Ct(t[R]-e.get()),k=n.get()-e.get(),M=h.constrain(I/c);n.subtract(k*M),!T&&Ct(k)<l&&(n.set(t.constrain(n.get())),s.useDuration(25).useBaseFriction())}function b(T){d=!T}return{shouldConstrain:m,constrain:v,toggleActive:b}}function mz(t,e,n,s,a){const l=go(-e+t,0),c=b(),h=v(),d=x();function m(R,I){return Au(R,I)<=1}function v(){const R=c[0],I=qi(c),k=c.lastIndexOf(R),M=c.indexOf(I)+1;return go(k,M)}function b(){return n.map((R,I)=>{const{min:k,max:M}=l,z=l.constrain(R),V=!I,$=Kv(n,I);return V?M:$||m(k,z)?k:m(M,z)?M:z}).map(R=>parseFloat(R.toFixed(3)))}function x(){if(e<=t+a)return[l.max];if(s==="keepSnaps")return c;const{min:R,max:I}=h;return c.slice(R,I)}return{snapsContained:d,scrollContainLimit:h}}function pz(t,e,n){const s=e[0],a=n?s-t:qi(e);return{limit:go(a,s)}}function gz(t,e,n,s){const l=e.min+.1,c=e.max+.1,{reachedMin:h,reachedMax:d}=go(l,c);function m(x){return x===1?d(n.get()):x===-1?h(n.get()):!1}function v(x){if(!m(x))return;const T=t*(x*-1);s.forEach(R=>R.add(T))}return{loop:v}}function yz(t){const{max:e,length:n}=t;function s(l){const c=l-e;return n?c/-n:0}return{get:s}}function vz(t,e,n,s,a){const{startEdge:l,endEdge:c}=t,{groupSlides:h}=a,d=b().map(e.measure),m=x(),v=T();function b(){return h(s).map(I=>qi(I)[c]-I[0][l]).map(Ct)}function x(){return s.map(I=>n[l]-I[l]).map(I=>-Ct(I))}function T(){return h(m).map(I=>I[0]).map((I,k)=>I+d[k])}return{snaps:m,snapsAligned:v}}function bz(t,e,n,s,a,l){const{groupSlides:c}=a,{min:h,max:d}=s,m=v();function v(){const x=c(l),T=!t||e==="keepSnaps";return n.length===1?[l]:T?x:x.slice(h,d).map((R,I,k)=>{const M=!I,z=Kv(k,I);if(M){const V=qi(k[0])+1;return CT(V)}if(z){const V=mh(l)-qi(k)[0]+1;return CT(V,qi(k)[0])}return R})}return{slideRegistry:m}}function xz(t,e,n,s,a){const{reachedAny:l,removeOffset:c,constrain:h}=s;function d(R){return R.concat().sort((I,k)=>Ct(I)-Ct(k))[0]}function m(R){const I=t?c(R):h(R),k=e.map((z,V)=>({diff:v(z-I,0),index:V})).sort((z,V)=>Ct(z.diff)-Ct(V.diff)),{index:M}=k[0];return{index:M,distance:I}}function v(R,I){const k=[R,R+n,R-n];if(!t)return R;if(!I)return d(k);const M=k.filter(z=>Gv(z)===I);return M.length?d(M):qi(k)-n}function b(R,I){const k=e[R]-a.get(),M=v(k,I);return{index:R,distance:M}}function x(R,I){const k=a.get()+R,{index:M,distance:z}=m(k),V=!t&&l(k);if(!I||V)return{index:M,distance:R};const $=e[M]-z,K=R+v($,0);return{index:M,distance:K}}return{byDistance:x,byIndex:b,shortcut:v}}function _z(t,e,n,s,a,l,c){function h(b){const x=b.distance,T=b.index!==e.get();l.add(x),x&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),T&&(n.set(e.get()),e.set(b.index),c.emit("select"))}function d(b,x){const T=a.byDistance(b,x);h(T)}function m(b,x){const T=e.clone().set(b),R=a.byIndex(T.get(),x);h(R)}return{distance:d,index:m}}function wz(t,e,n,s,a,l,c,h){const d={passive:!0,capture:!0};let m=0;function v(T){if(!h)return;function R(I){if(new Date().getTime()-m>10)return;c.emit("slideFocusStart"),t.scrollLeft=0;const z=n.findIndex(V=>V.includes(I));qv(z)&&(a.useDuration(0),s.index(z,0),c.emit("slideFocus"))}l.add(document,"keydown",b,!1),e.forEach((I,k)=>{l.add(I,"focus",M=>{(Tm(h)||h(T,M))&&R(k)},d)})}function b(T){T.code==="Tab"&&(m=new Date().getTime())}return{init:v}}function du(t){let e=t;function n(){return e}function s(d){e=c(d)}function a(d){e+=c(d)}function l(d){e-=c(d)}function c(d){return qv(d)?d:d.get()}return{get:n,set:s,add:a,subtract:l}}function RC(t,e){const n=t.scroll==="x"?c:h,s=e.style;let a=null,l=!1;function c(x){return`translate3d(${x}px,0px,0px)`}function h(x){return`translate3d(0px,${x}px,0px)`}function d(x){if(l)return;const T=iz(t.direction(x));T!==a&&(s.transform=n(T),a=T)}function m(x){l=!x}function v(){l||(s.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:v,to:d,toggleActive:m}}function Ez(t,e,n,s,a,l,c,h,d){const v=Gu(a),b=Gu(a).reverse(),x=M().concat(z());function T(D,S){return D.reduce((A,O)=>A-a[O],S)}function R(D,S){return D.reduce((A,O)=>T(A,S)>0?A.concat([O]):A,[])}function I(D){return l.map((S,A)=>({start:S-s[A]+.5+D,end:S+e-.5+D}))}function k(D,S,A){const O=I(S);return D.map(P=>{const H=A?0:-n,U=A?n:0,ke=A?"end":"start",Ve=O[P][ke];return{index:P,loopPoint:Ve,slideLocation:du(-1),translate:RC(t,d[P]),target:()=>h.get()>Ve?H:U}})}function M(){const D=c[0],S=R(b,D);return k(S,n,!1)}function z(){const D=e-c[0]-1,S=R(v,D);return k(S,-n,!0)}function V(){return x.every(({index:D})=>{const S=v.filter(A=>A!==D);return T(S,e)<=.1})}function $(){x.forEach(D=>{const{target:S,translate:A,slideLocation:O}=D,P=S();P!==O.get()&&(A.to(P),O.set(P))})}function K(){x.forEach(D=>D.translate.clear())}return{canLoop:V,clear:K,loop:$,loopPoints:x}}function Tz(t,e,n){let s,a=!1;function l(d){if(!n)return;function m(v){for(const b of v)if(b.type==="childList"){d.reInit(),e.emit("slidesChanged");break}}s=new MutationObserver(v=>{a||(Tm(n)||n(d,v))&&m(v)}),s.observe(t,{childList:!0})}function c(){s&&s.disconnect(),a=!0}return{init:l,destroy:c}}function Sz(t,e,n,s){const a={};let l=null,c=null,h,d=!1;function m(){h=new IntersectionObserver(R=>{d||(R.forEach(I=>{const k=e.indexOf(I.target);a[k]=I}),l=null,c=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:s}),e.forEach(R=>h.observe(R))}function v(){h&&h.disconnect(),d=!0}function b(R){return Ku(a).reduce((I,k)=>{const M=parseInt(k),{isIntersecting:z}=a[M];return(R&&z||!R&&!z)&&I.push(M),I},[])}function x(R=!0){if(R&&l)return l;if(!R&&c)return c;const I=b(R);return R&&(l=I),R||(c=I),I}return{init:m,destroy:v,get:x}}function Az(t,e,n,s,a,l){const{measureSize:c,startEdge:h,endEdge:d}=t,m=n[0]&&a,v=R(),b=I(),x=n.map(c),T=k();function R(){if(!m)return 0;const z=n[0];return Ct(e[h]-z[h])}function I(){if(!m)return 0;const z=l.getComputedStyle(qi(s));return parseFloat(z.getPropertyValue(`margin-${d}`))}function k(){return n.map((z,V,$)=>{const K=!V,Y=Kv($,V);return K?x[V]+v:Y?x[V]+b:$[V+1][h]-z[h]}).map(Ct)}return{slideSizes:x,slideSizesWithGaps:T,startGap:v,endGap:b}}function Rz(t,e,n,s,a,l,c,h,d){const{startEdge:m,endEdge:v,direction:b}=t,x=qv(n);function T(M,z){return Gu(M).filter(V=>V%z===0).map(V=>M.slice(V,V+z))}function R(M){return M.length?Gu(M).reduce((z,V,$)=>{const K=qi(z)||0,Y=K===0,D=V===mh(M),S=a[m]-l[K][m],A=a[m]-l[V][v],O=!s&&Y?b(c):0,P=!s&&D?b(h):0,H=Ct(A-P-(S+O));return $&&H>e+d&&z.push(V),D&&z.push(M.length),z},[]).map((z,V,$)=>{const K=Math.max($[V-1]||0);return M.slice(K,z)}):[]}function I(M){return x?T(M,n):R(M)}return{groupSlides:I}}function Cz(t,e,n,s,a,l,c){const{align:h,axis:d,direction:m,startIndex:v,loop:b,duration:x,dragFree:T,dragThreshold:R,inViewThreshold:I,slidesToScroll:k,skipSnaps:M,containScroll:z,watchResize:V,watchSlides:$,watchDrag:K,watchFocus:Y}=l,D=2,S=cz(),A=S.measure(e),O=n.map(S.measure),P=az(d,m),H=P.measureSize(A),U=uz(H),ke=sz(h,H),Ve=!b&&!!z,ee=b||!!z,{slideSizes:ue,slideSizesWithGaps:re,startGap:Ee,endGap:Ie}=Az(P,A,O,n,ee,a),F=Rz(P,H,k,b,A,O,Ee,Ie,D),{snaps:L,snapsAligned:X}=vz(P,ke,A,O,F),le=-qi(L)+qi(re),{snapsContained:_e,scrollContainLimit:Re}=mz(H,le,X,z,D),ge=Ve?_e:X,{limit:Be}=pz(le,ge,b),Ue=AC(mh(ge),v,b),vt=Ue.clone(),Qe=Gu(n),me=({dragHandler:Ri,scrollBody:cr,scrollBounds:ur,options:{loop:bn}})=>{bn||ur.constrain(Ri.pointerDown()),cr.seek()},Je=({scrollBody:Ri,translate:cr,location:ur,offsetLocation:bn,previousLocation:Wt,scrollLooper:jn,slideLooper:At,dragHandler:_o,animation:hr,eventHandler:_a,scrollBounds:ai,options:{loop:Qi}},Rt)=>{const Yn=Ri.settled(),oi=!ai.shouldConstrain(),Mn=Qi?Yn:Yn&&oi,wo=Mn&&!_o.pointerDown();wo&&hr.stop();const Eo=ur.get()*Rt+Wt.get()*(1-Rt);bn.set(Eo),Qi&&(jn.loop(Ri.direction()),At.loop()),cr.to(bn.get()),wo&&_a.emit("settle"),Mn||_a.emit("scroll")},tt=rz(s,a,()=>me(xa),Ri=>Je(xa,Ri)),jt=.68,nn=ge[Ue.get()],An=du(nn),Kn=du(nn),rt=du(nn),mt=du(nn),kn=dz(An,rt,Kn,mt,x,jt),va=xz(b,ge,le,Be,mt),or=_z(tt,Ue,vt,kn,va,mt,c),sn=yz(Be),$i=Yu(),ba=Sz(e,n,c,I),{slideRegistry:lr}=bz(Ve,z,ge,Re,F,Qe),Xi=wz(t,n,lr,or,kn,$i,c,Y),xa={ownerDocument:s,ownerWindow:a,eventHandler:c,containerRect:A,slideRects:O,animation:tt,axis:P,dragHandler:oz(P,t,s,a,mt,lz(P,a),An,tt,or,kn,va,Ue,c,U,T,R,M,jt,K),eventStore:$i,percentOfView:U,index:Ue,indexPrevious:vt,limit:Be,location:An,offsetLocation:rt,previousLocation:Kn,options:l,resizeHandler:hz(e,c,a,n,P,V,S),scrollBody:kn,scrollBounds:fz(Be,rt,mt,kn,U),scrollLooper:gz(le,Be,rt,[An,rt,Kn,mt]),scrollProgress:sn,scrollSnapList:ge.map(sn.get),scrollSnaps:ge,scrollTarget:va,scrollTo:or,slideLooper:Ez(P,H,le,ue,re,L,ge,rt,n),slideFocus:Xi,slidesHandler:Tz(e,c,$),slidesInView:ba,slideIndexes:Qe,slideRegistry:lr,slidesToScroll:F,target:mt,translate:RC(P,e)};return xa}function Nz(){let t={},e;function n(m){e=m}function s(m){return t[m]||[]}function a(m){return s(m).forEach(v=>v(e,m)),d}function l(m,v){return t[m]=s(m).concat([v]),d}function c(m,v){return t[m]=s(m).filter(b=>b!==v),d}function h(){t={}}const d={init:n,emit:a,off:c,on:l,clear:h};return d}const Iz={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Dz(t){function e(l,c){return SC(l,c||{})}function n(l){const c=l.breakpoints||{},h=Ku(c).filter(d=>t.matchMedia(d).matches).map(d=>c[d]).reduce((d,m)=>e(d,m),{});return e(l,h)}function s(l){return l.map(c=>Ku(c.breakpoints||{})).reduce((c,h)=>c.concat(h),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:s}}function kz(t){let e=[];function n(l,c){return e=c.filter(({options:h})=>t.optionsAtMedia(h).active!==!1),e.forEach(h=>h.init(l,t)),c.reduce((h,d)=>Object.assign(h,{[d.name]:d}),{})}function s(){e=e.filter(l=>l.destroy())}return{init:n,destroy:s}}function Ff(t,e,n){const s=t.ownerDocument,a=s.defaultView,l=Dz(a),c=kz(l),h=Yu(),d=Nz(),{mergeOptions:m,optionsAtMedia:v,optionsMediaQueries:b}=l,{on:x,off:T,emit:R}=d,I=P;let k=!1,M,z=m(Iz,Ff.globalOptions),V=m(z),$=[],K,Y,D;function S(){const{container:Qe,slides:me}=V;Y=(o0(Qe)?t.querySelector(Qe):Qe)||t.children[0];const tt=o0(me)?Y.querySelectorAll(me):me;D=[].slice.call(tt||Y.children)}function A(Qe){const me=Cz(t,Y,D,s,a,Qe,d);if(Qe.loop&&!me.slideLooper.canLoop()){const Je=Object.assign({},Qe,{loop:!1});return A(Je)}return me}function O(Qe,me){k||(z=m(z,Qe),V=v(z),$=me||$,S(),M=A(V),b([z,...$.map(({options:Je})=>Je)]).forEach(Je=>h.add(Je,"change",P)),V.active&&(M.translate.to(M.location.get()),M.animation.init(),M.slidesInView.init(),M.slideFocus.init(vt),M.eventHandler.init(vt),M.resizeHandler.init(vt),M.slidesHandler.init(vt),M.options.loop&&M.slideLooper.loop(),Y.offsetParent&&D.length&&M.dragHandler.init(vt),K=c.init(vt,$)))}function P(Qe,me){const Je=F();H(),O(m({startIndex:Je},Qe),me),d.emit("reInit")}function H(){M.dragHandler.destroy(),M.eventStore.clear(),M.translate.clear(),M.slideLooper.clear(),M.resizeHandler.destroy(),M.slidesHandler.destroy(),M.slidesInView.destroy(),M.animation.destroy(),c.destroy(),h.clear()}function U(){k||(k=!0,h.clear(),H(),d.emit("destroy"),d.clear())}function ke(Qe,me,Je){!V.active||k||(M.scrollBody.useBaseFriction().useDuration(me===!0?0:V.duration),M.scrollTo.index(Qe,Je||0))}function Ve(Qe){const me=M.index.add(1).get();ke(me,Qe,-1)}function ee(Qe){const me=M.index.add(-1).get();ke(me,Qe,1)}function ue(){return M.index.add(1).get()!==F()}function re(){return M.index.add(-1).get()!==F()}function Ee(){return M.scrollSnapList}function Ie(){return M.scrollProgress.get(M.offsetLocation.get())}function F(){return M.index.get()}function L(){return M.indexPrevious.get()}function X(){return M.slidesInView.get()}function le(){return M.slidesInView.get(!1)}function _e(){return K}function Re(){return M}function ge(){return t}function Be(){return Y}function Ue(){return D}const vt={canScrollNext:ue,canScrollPrev:re,containerNode:Be,internalEngine:Re,destroy:U,off:T,on:x,emit:R,plugins:_e,previousScrollSnap:L,reInit:I,rootNode:ge,scrollNext:Ve,scrollPrev:ee,scrollProgress:Ie,scrollSnapList:Ee,scrollTo:ke,selectedScrollSnap:F,slideNodes:Ue,slidesInView:X,slidesNotInView:le};return O(e,n),setTimeout(()=>d.emit("init"),0),vt}Ff.globalOptions=void 0;function Yv(t={},e=[]){const n=N.useRef(t),s=N.useRef(e),[a,l]=N.useState(),[c,h]=N.useState(),d=N.useCallback(()=>{a&&a.reInit(n.current,s.current)},[a]);return N.useEffect(()=>{Hv(n.current,t)||(n.current=t,d())},[t,d]),N.useEffect(()=>{tz(s.current,e)||(s.current=e,d())},[e,d]),N.useEffect(()=>{if(ez()&&c){Ff.globalOptions=Yv.globalOptions;const m=Ff(c,n.current,s.current);return l(m),()=>m.destroy()}else l(void 0)},[c,l]),[h,a]}Yv.globalOptions=void 0;/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=t=>{const e=Mz(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},d)=>N.createElement("svg",{ref:d,...Vz,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:CC("lucide",a),...!l&&!Oz(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,v])=>N.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=(t,e)=>{const n=N.forwardRef(({className:s,...a},l)=>N.createElement(Pz,{ref:l,iconNode:e,className:CC(`lucide-${jz(NT(t))}`,`lucide-${t}`,s),...a}));return n.displayName=NT(t),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uz=NC("arrow-left",Lz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bz=NC("arrow-right",zz);function IC(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=IC(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function DC(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=IC(t))&&(s&&(s+=" "),s+=e);return s}const Fz=(t,e)=>{const n=new Array(t.length+e.length);for(let s=0;s<t.length;s++)n[s]=t[s];for(let s=0;s<e.length;s++)n[t.length+s]=e[s];return n},Hz=(t,e)=>({classGroupId:t,validator:e}),kC=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Hf="-",IT=[],qz="arbitrary..",Gz=t=>{const e=Yz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return Kz(c);const h=c.split(Hf),d=h[0]===""&&h.length>1?1:0;return jC(h,d,e)},getConflictingClassGroupIds:(c,h)=>{if(h){const d=s[c],m=n[c];return d?m?Fz(m,d):d:m||IT}return n[c]||IT}}},jC=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const m=jC(t,e+1,l);if(m)return m}const c=n.validators;if(c===null)return;const h=e===0?t.join(Hf):t.slice(e).join(Hf),d=c.length;for(let m=0;m<d;m++){const v=c[m];if(v.validator(h))return v.classGroupId}},Kz=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),s=e.slice(0,n);return s?qz+s:void 0})(),Yz=t=>{const{theme:e,classGroups:n}=t;return $z(n,e)},$z=(t,e)=>{const n=kC();for(const s in t){const a=t[s];$v(a,n,s,e)}return n},$v=(t,e,n,s)=>{const a=t.length;for(let l=0;l<a;l++){const c=t[l];Xz(c,e,n,s)}},Xz=(t,e,n,s)=>{if(typeof t=="string"){Qz(t,e,n);return}if(typeof t=="function"){Wz(t,e,n,s);return}Jz(t,e,n,s)},Qz=(t,e,n)=>{const s=t===""?e:MC(e,t);s.classGroupId=n},Wz=(t,e,n,s)=>{if(Zz(t)){$v(t(s),e,n,s);return}e.validators===null&&(e.validators=[]),e.validators.push(Hz(n,t))},Jz=(t,e,n,s)=>{const a=Object.entries(t),l=a.length;for(let c=0;c<l;c++){const[h,d]=a[c];$v(d,MC(e,h),n,s)}},MC=(t,e)=>{let n=t;const s=e.split(Hf),a=s.length;for(let l=0;l<a;l++){const c=s[l];let h=n.nextPart.get(c);h||(h=kC(),n.nextPart.set(c,h)),n=h}return n},Zz=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,e8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),s=Object.create(null);const a=(l,c)=>{n[l]=c,e++,e>t&&(e=0,s=n,n=Object.create(null))};return{get(l){let c=n[l];if(c!==void 0)return c;if((c=s[l])!==void 0)return a(l,c),c},set(l,c){l in n?n[l]=c:a(l,c)}}},c0="!",DT=":",t8=[],kT=(t,e,n,s,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:s,isExternal:a}),n8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const l=[];let c=0,h=0,d=0,m;const v=a.length;for(let I=0;I<v;I++){const k=a[I];if(c===0&&h===0){if(k===DT){l.push(a.slice(d,I)),d=I+1;continue}if(k==="/"){m=I;continue}}k==="["?c++:k==="]"?c--:k==="("?h++:k===")"&&h--}const b=l.length===0?a:a.slice(d);let x=b,T=!1;b.endsWith(c0)?(x=b.slice(0,-1),T=!0):b.startsWith(c0)&&(x=b.slice(1),T=!0);const R=m&&m>d?m-d:void 0;return kT(l,T,x,R)};if(e){const a=e+DT,l=s;s=c=>c.startsWith(a)?l(c.slice(a.length)):kT(t8,!1,c,void 0,!0)}if(n){const a=s;s=l=>n({className:l,parseClassName:a})}return s},i8=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,s)=>{e.set(n,1e6+s)}),n=>{const s=[];let a=[];for(let l=0;l<n.length;l++){const c=n[l],h=c[0]==="[",d=e.has(c);h||d?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(c)):a.push(c)}return a.length>0&&(a.sort(),s.push(...a)),s}},s8=t=>({cache:e8(t.cacheSize),parseClassName:n8(t),sortModifiers:i8(t),...Gz(t)}),r8=/\s+/,a8=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],h=t.trim().split(r8);let d="";for(let m=h.length-1;m>=0;m-=1){const v=h[m],{isExternal:b,modifiers:x,hasImportantModifier:T,baseClassName:R,maybePostfixModifierPosition:I}=n(v);if(b){d=v+(d.length>0?" "+d:d);continue}let k=!!I,M=s(k?R.substring(0,I):R);if(!M){if(!k){d=v+(d.length>0?" "+d:d);continue}if(M=s(R),!M){d=v+(d.length>0?" "+d:d);continue}k=!1}const z=x.length===0?"":x.length===1?x[0]:l(x).join(":"),V=T?z+c0:z,$=V+M;if(c.indexOf($)>-1)continue;c.push($);const K=a(M,k);for(let Y=0;Y<K.length;++Y){const D=K[Y];c.push(V+D)}d=v+(d.length>0?" "+d:d)}return d},o8=(...t)=>{let e=0,n,s,a="";for(;e<t.length;)(n=t[e++])&&(s=VC(n))&&(a&&(a+=" "),a+=s);return a},VC=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=VC(t[s]))&&(n&&(n+=" "),n+=e);return n},l8=(t,...e)=>{let n,s,a,l;const c=d=>{const m=e.reduce((v,b)=>b(v),t());return n=s8(m),s=n.cache.get,a=n.cache.set,l=h,h(d)},h=d=>{const m=s(d);if(m)return m;const v=a8(d,n);return a(d,v),v};return l=c,(...d)=>l(o8(...d))},c8=[],Zt=t=>{const e=n=>n[t]||c8;return e.isThemeGetter=!0,e},OC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,u8=/^\d+\/\d+$/,h8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,m8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,p8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hl=t=>u8.test(t),ze=t=>!!t&&!Number.isNaN(Number(t)),qr=t=>!!t&&Number.isInteger(Number(t)),ay=t=>t.endsWith("%")&&ze(t.slice(0,-1)),Hs=t=>h8.test(t),g8=()=>!0,y8=t=>d8.test(t)&&!f8.test(t),LC=()=>!1,v8=t=>m8.test(t),b8=t=>p8.test(t),x8=t=>!ve(t)&&!be(t),_8=t=>Xl(t,BC,LC),ve=t=>OC.test(t),Qa=t=>Xl(t,FC,y8),oy=t=>Xl(t,A8,ze),jT=t=>Xl(t,UC,LC),w8=t=>Xl(t,zC,b8),Qd=t=>Xl(t,HC,v8),be=t=>PC.test(t),nu=t=>Ql(t,FC),E8=t=>Ql(t,R8),MT=t=>Ql(t,UC),T8=t=>Ql(t,BC),S8=t=>Ql(t,zC),Wd=t=>Ql(t,HC,!0),Xl=(t,e,n)=>{const s=OC.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},Ql=(t,e,n=!1)=>{const s=PC.exec(t);return s?s[1]?e(s[1]):n:!1},UC=t=>t==="position"||t==="percentage",zC=t=>t==="image"||t==="url",BC=t=>t==="length"||t==="size"||t==="bg-size",FC=t=>t==="length",A8=t=>t==="number",R8=t=>t==="family-name",HC=t=>t==="shadow",C8=()=>{const t=Zt("color"),e=Zt("font"),n=Zt("text"),s=Zt("font-weight"),a=Zt("tracking"),l=Zt("leading"),c=Zt("breakpoint"),h=Zt("container"),d=Zt("spacing"),m=Zt("radius"),v=Zt("shadow"),b=Zt("inset-shadow"),x=Zt("text-shadow"),T=Zt("drop-shadow"),R=Zt("blur"),I=Zt("perspective"),k=Zt("aspect"),M=Zt("ease"),z=Zt("animate"),V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],K=()=>[...$(),be,ve],Y=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],S=()=>[be,ve,d],A=()=>[hl,"full","auto",...S()],O=()=>[qr,"none","subgrid",be,ve],P=()=>["auto",{span:["full",qr,be,ve]},qr,be,ve],H=()=>[qr,"auto",be,ve],U=()=>["auto","min","max","fr",be,ve],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ve=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...S()],ue=()=>[hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],re=()=>[t,be,ve],Ee=()=>[...$(),MT,jT,{position:[be,ve]}],Ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",T8,_8,{size:[be,ve]}],L=()=>[ay,nu,Qa],X=()=>["","none","full",m,be,ve],le=()=>["",ze,nu,Qa],_e=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[ze,ay,MT,jT],Be=()=>["","none",R,be,ve],Ue=()=>["none",ze,be,ve],vt=()=>["none",ze,be,ve],Qe=()=>[ze,be,ve],me=()=>[hl,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hs],breakpoint:[Hs],color:[g8],container:[Hs],"drop-shadow":[Hs],ease:["in","out","in-out"],font:[x8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hs],shadow:[Hs],spacing:["px",ze],text:[Hs],"text-shadow":[Hs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",hl,ve,be,k]}],container:["container"],columns:[{columns:[ze,ve,be,h]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:K()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[qr,"auto",be,ve]}],basis:[{basis:[hl,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ze,hl,"auto","initial","none",ve]}],grow:[{grow:["",ze,be,ve]}],shrink:[{shrink:["",ze,be,ve]}],order:[{order:[qr,"first","last","none",be,ve]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...Ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ve()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...Ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...Ve(),"baseline"]}],"place-self":[{"place-self":["auto",...Ve()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ue()}],w:[{w:[h,"screen",...ue()]}],"min-w":[{"min-w":[h,"screen","none",...ue()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...ue()]}],h:[{h:["screen","lh",...ue()]}],"min-h":[{"min-h":["screen","lh","none",...ue()]}],"max-h":[{"max-h":["screen","lh",...ue()]}],"font-size":[{text:["base",n,nu,Qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,be,oy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ay,ve]}],"font-family":[{font:[E8,ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,be,ve]}],"line-clamp":[{"line-clamp":[ze,"none",be,oy]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",be,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",be,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[ze,"from-font","auto",be,Qa]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[ze,"auto",be,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",be,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",be,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:Ie()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},qr,be,ve],radial:["",be,ve],conic:[qr,be,ve]},S8,w8]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ze,be,ve]}],"outline-w":[{outline:["",ze,nu,Qa]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",v,Wd,Qd]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",b,Wd,Qd]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[ze,Qa]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",x,Wd,Qd]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[ze,be,ve]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ze]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[be,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[ze]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:Ie()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",be,ve]}],filter:[{filter:["","none",be,ve]}],blur:[{blur:Be()}],brightness:[{brightness:[ze,be,ve]}],contrast:[{contrast:[ze,be,ve]}],"drop-shadow":[{"drop-shadow":["","none",T,Wd,Qd]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",ze,be,ve]}],"hue-rotate":[{"hue-rotate":[ze,be,ve]}],invert:[{invert:["",ze,be,ve]}],saturate:[{saturate:[ze,be,ve]}],sepia:[{sepia:["",ze,be,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",be,ve]}],"backdrop-blur":[{"backdrop-blur":Be()}],"backdrop-brightness":[{"backdrop-brightness":[ze,be,ve]}],"backdrop-contrast":[{"backdrop-contrast":[ze,be,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ze,be,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ze,be,ve]}],"backdrop-invert":[{"backdrop-invert":["",ze,be,ve]}],"backdrop-opacity":[{"backdrop-opacity":[ze,be,ve]}],"backdrop-saturate":[{"backdrop-saturate":[ze,be,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",ze,be,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",be,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ze,"initial",be,ve]}],ease:[{ease:["linear","initial",M,be,ve]}],delay:[{delay:[ze,be,ve]}],animate:[{animate:["none",z,be,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,be,ve]}],"perspective-origin":[{"perspective-origin":K()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:vt()}],"scale-x":[{"scale-x":vt()}],"scale-y":[{"scale-y":vt()}],"scale-z":[{"scale-z":vt()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[be,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:K()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:me()}],"translate-x":[{"translate-x":me()}],"translate-y":[{"translate-y":me()}],"translate-z":[{"translate-z":me()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",be,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",be,ve]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[ze,nu,Qa,oy]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},N8=l8(C8);function ar(...t){return N8(DC(t))}function VT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function I8(...t){return e=>{let n=!1;const s=t.map(a=>{const l=VT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():VT(t[a],null)}}}}var D8=Symbol.for("react.lazy"),qf=CI[" use ".trim().toString()];function k8(t){return typeof t=="object"&&t!==null&&"then"in t}function qC(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===D8&&"_payload"in t&&k8(t._payload)}function j8(t){const e=V8(t),n=N.forwardRef((s,a)=>{let{children:l,...c}=s;qC(l)&&typeof qf=="function"&&(l=qf(l._payload));const h=N.Children.toArray(l),d=h.find(P8);if(d){const m=d.props.children,v=h.map(b=>b===d?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:b);return g.jsx(e,{...c,ref:a,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return g.jsx(e,{...c,ref:a,children:l})});return n.displayName=`${t}.Slot`,n}var M8=j8("Slot");function V8(t){const e=N.forwardRef((n,s)=>{let{children:a,...l}=n;if(qC(a)&&typeof qf=="function"&&(a=qf(a._payload)),N.isValidElement(a)){const c=U8(a),h=L8(l,a.props);return a.type!==N.Fragment&&(h.ref=s?I8(s,c):c),N.cloneElement(a,h)}return N.Children.count(a)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var O8=Symbol("radix.slottable");function P8(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===O8}function L8(t,e){const n={...e};for(const s in e){const a=t[s],l=e[s];/^on[A-Z]/.test(s)?a&&l?n[s]=(...h)=>{const d=l(...h);return a(...h),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...l}:s==="className"&&(n[s]=[a,l].filter(Boolean).join(" "))}return{...t,...n}}function U8(t){var s,a;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const OT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,PT=DC,z8=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return PT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(m=>{const v=n==null?void 0:n[m],b=l==null?void 0:l[m];if(v===null)return null;const x=OT(v)||OT(b);return a[m][x]}),h=n&&Object.entries(n).reduce((m,v)=>{let[b,x]=v;return x===void 0||(m[b]=x),m},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,v)=>{let{class:b,className:x,...T}=v;return Object.entries(T).every(R=>{let[I,k]=R;return Array.isArray(k)?k.includes({...l,...h}[I]):{...l,...h}[I]===k})?[...m,b,x]:m},[]);return PT(t,c,d,n==null?void 0:n.class,n==null?void 0:n.className)},B8=z8("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function GC({className:t,variant:e,size:n,asChild:s=!1,...a}){const l=s?M8:"button";return g.jsx(l,{"data-slot":"button",className:ar(B8({variant:e,size:n,className:t})),...a})}const KC=N.createContext(null);function Sm(){const t=N.useContext(KC);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function F8({orientation:t="horizontal",opts:e,setApi:n,plugins:s,className:a,children:l,...c}){const[h,d]=Yv({...e,axis:t==="horizontal"?"x":"y"},s),[m,v]=N.useState(!1),[b,x]=N.useState(!1),T=N.useCallback(M=>{M&&(v(M.canScrollPrev()),x(M.canScrollNext()))},[]),R=N.useCallback(()=>{d==null||d.scrollPrev()},[d]),I=N.useCallback(()=>{d==null||d.scrollNext()},[d]),k=N.useCallback(M=>{M.key==="ArrowLeft"?(M.preventDefault(),R()):M.key==="ArrowRight"&&(M.preventDefault(),I())},[R,I]);return N.useEffect(()=>{!d||!n||n(d)},[d,n]),N.useEffect(()=>{if(d)return T(d),d.on("reInit",T),d.on("select",T),()=>{d==null||d.off("select",T)}},[d,T]),g.jsx(KC.Provider,{value:{carouselRef:h,api:d,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:R,scrollNext:I,canScrollPrev:m,canScrollNext:b},children:g.jsx("div",{onKeyDownCapture:k,className:ar("relative",a),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...c,children:l})})}function H8({className:t,...e}){const{carouselRef:n,orientation:s}=Sm();return g.jsx("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:g.jsx("div",{className:ar("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})}function q8({className:t,...e}){const{orientation:n}=Sm();return g.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:ar("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",t),...e})}function G8({className:t,variant:e="outline",size:n="icon",...s}){const{orientation:a,scrollPrev:l,canScrollPrev:c}=Sm();return g.jsxs(GC,{"data-slot":"carousel-previous",variant:e,size:n,className:ar("absolute size-8 rounded-full",a==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:l,...s,children:[g.jsx(Uz,{}),g.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function K8({className:t,variant:e="outline",size:n="icon",...s}){const{orientation:a,scrollNext:l,canScrollNext:c}=Sm();return g.jsxs(GC,{"data-slot":"carousel-next",variant:e,size:n,className:ar("absolute size-8 rounded-full",a==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:l,...s,children:[g.jsx(Bz,{}),g.jsx("span",{className:"sr-only",children:"Next slide"})]})}function Y8({className:t,...e}){return g.jsx("div",{"data-slot":"card",className:ar("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function $8({className:t,...e}){return g.jsx("div",{"data-slot":"card-content",className:ar("px-6",t),...e})}const X8=[{id:"1",type:"image",src:"https://images.unsplash.com/photo-1542259684-250878c772e4?q=80&w=2072&auto=format&fit=crop",title:"Neon Nights",category:"City Life"},{id:"2",type:"image",src:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?q=80&w=2074&auto=format&fit=crop",title:"The Enforcer",category:"Characters"},{id:"3",type:"image",src:"https://images.unsplash.com/photo-1624138784181-2999e96fb4ae?q=80&w=2070&auto=format&fit=crop",title:"High Stakes",category:"Action"},{id:"4",type:"video",src:"https://images.unsplash.com/photo-1502877338535-766e1452684a?q=80&w=2072&auto=format&fit=crop",title:"Heist Prep",category:"Missions"},{id:"5",type:"image",src:"https://images.unsplash.com/photo-1533107862482-0e6974b06ec4?q=80&w=1951&auto=format&fit=crop",title:"Midnight Run",category:"Vehicles"},{id:"6",type:"image",src:"https://images.unsplash.com/photo-1579546929518-9e396f3cc809?q=80&w=2070&auto=format&fit=crop",title:"Underground",category:"Locations"}],Q8=()=>{const[t,e]=N.useState(null),[n,s]=N.useState(X8),a=N.useRef(null),l=ya(a,{once:!0,margin:"-100px"});return N.useEffect(()=>{(async()=>{try{const h=ym(qn(ct,"gallery"),vm("order","asc")),d=await xs(h);d.size>0&&s(d.docs.map(m=>({id:m.id,...m.data()})))}catch(h){console.error("Failed to fetch gallery from Firestore, using fallback:",h)}})()},[]),N.useEffect(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[t]),g.jsxs("section",{id:"gallery",ref:a,className:"w-full py-32 bg-[#050002] relative scroll-mt-20 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] opacity-30"}),g.jsx("div",{className:"absolute top-0 w-full h-px bg-gradient-to-r from-transparent via-[#ff0033]/50 to-transparent"}),g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,rgba(255,0,51,0.1),transparent_70%)]"})]}),g.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[g.jsx("div",{className:"text-center mb-16",children:g.jsxs(ne.div,{initial:{opacity:0,y:30},animate:l?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6},children:[g.jsxs(ne.span,{initial:{opacity:0,scale:.9},animate:l?{opacity:1,scale:1}:{opacity:0,scale:.9},transition:{delay:.1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ff0033]/10 border border-[#ff0033]/20 text-[#ff0033] text-xs font-bold uppercase tracking-[0.3em] mb-6",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#ff0033] animate-pulse"}),"Visual Evidence"]}),g.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-display text-white mb-4",children:["MEDIA"," ",g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #ff6666)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"GALLERY"})]}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg",children:"A glimpse into the chaos, the quiet moments, and everything in between."})]})}),g.jsx(ne.div,{initial:{opacity:0,y:40},animate:l?{opacity:1,y:0}:{opacity:0,y:40},transition:{delay:.4,duration:.8},children:g.jsxs(F8,{opts:{align:"start",loop:!0},className:"w-full max-w-6xl mx-auto",children:[g.jsx(H8,{children:n.map((c,h)=>g.jsx(q8,{className:"md:basis-1/2 lg:basis-1/3 p-4",children:g.jsx("div",{className:"p-1",children:g.jsx(Y8,{className:"overflow-hidden border-white/5 bg-[#0a0004] hover:border-[#ff0033]/30 transition-all duration-500 group cursor-pointer",onClick:()=>e(c.src),children:g.jsxs($8,{className:"flex aspect-[4/5] items-center justify-center p-0 relative",children:[g.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110",style:{backgroundImage:`url(${c.src})`}}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60 group-hover:opacity-40 transition-opacity"}),g.jsxs("div",{className:"absolute bottom-0 left-0 p-6 w-full transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[g.jsx("span",{className:"text-[#ff0033] text-xs font-bold uppercase tracking-widest block mb-1 opacity-0 group-hover:opacity-100 transition-opacity delay-100",children:c.category}),g.jsx("span",{className:"text-2xl font-display text-white block",children:c.title})]}),c.type==="video"&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:g.jsx("div",{className:"w-16 h-16 rounded-full bg-black/50 backdrop-blur-md flex items-center justify-center border border-white/10 group-hover:bg-[#ff0033]/80 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-4xl text-white",children:"play_arrow"})})})]})})})},c.id))}),g.jsx(G8,{className:"hidden md:flex -left-12 bg-black/50 border-white/10 hover:bg-[#ff0033] hover:border-[#ff0033] text-white"}),g.jsx(K8,{className:"hidden md:flex -right-12 bg-black/50 border-white/10 hover:bg-[#ff0033] hover:border-[#ff0033] text-white"})]})}),g.jsx(ne.div,{initial:{opacity:0,y:20},animate:l?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.6},className:"mt-16 text-center",children:g.jsx(qu,{variant:"outline",size:"md",children:"VIEW FULL GALLERY"})})]}),g.jsx(Gn,{children:t&&g.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-xl",onClick:()=>e(null),children:[g.jsx(ne.div,{className:"absolute top-4 right-4 z-[101] cursor-pointer group p-2 rounded-full hover:bg-white/10",whileHover:{scale:1.1},children:g.jsx("span",{className:"material-symbols-outlined text-4xl text-white/50 group-hover:text-white transition-colors",children:"close"})}),g.jsx(ne.img,{src:t,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},className:"max-w-[95vw] max-h-[95vh] rounded-lg shadow-2xl",alt:"Full size preview",onClick:c=>c.stopPropagation()})]})})]})},W8={hidden:{opacity:0,y:40,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.6,ease:[.25,.46,.45,.94]}}},J8=({title:t,tag:e,description:n,icon:s,color:a,image:l,riskLevel:c,index:h})=>g.jsxs(ne.div,{variants:W8,whileHover:{y:-8,scale:1.02},className:`group relative h-[260px] rounded-xl overflow-hidden bg-[#0a0004] border border-white/5 transition-all duration-500 hover:shadow-[0_20px_50px_rgba(0,0,0,0.8)] ${h===6?"md:col-span-2 lg:col-span-3":""}`,style:{boxShadow:`0 0 0 1px ${a}00`},children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx(ne.div,{className:"w-full h-full bg-cover bg-center grayscale contrast-125 brightness-[0.4] group-hover:grayscale-0 opacity-50 group-hover:opacity-70",style:{backgroundImage:`url(${l})`},whileHover:{scale:1.1},transition:{duration:.7}}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#050002] via-[#050002]/90 to-transparent z-10"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-[#050002]/20 to-[#050002] z-10 opacity-80"})]}),g.jsx(ne.div,{className:"absolute inset-0 z-0 opacity-0 group-hover:opacity-40 transition-opacity duration-700 pointer-events-none mix-blend-screen",style:{background:`radial-gradient(circle at 50% 100%, ${a}, transparent 70%)`}}),g.jsxs("div",{className:"relative z-20 h-full p-5 flex flex-col justify-end",children:[g.jsx(ne.div,{className:"absolute top-3 right-3 w-10 h-10 rounded-lg bg-black/60 backdrop-blur-md flex items-center justify-center border border-white/10 group-hover:border-white/30 transition-all shadow-lg",whileHover:{scale:1.1,rotate:5},children:g.jsx("span",{className:"material-symbols-outlined text-xl text-gray-400 group-hover:text-white transition-colors",children:s})}),g.jsx(ne.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:h*.05},children:g.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded text-[10px] font-bold uppercase tracking-[0.2em] border backdrop-blur-md",style:{borderColor:`${a}60`,color:a,backgroundColor:"rgba(5,0,2,0.8)",boxShadow:`0 0 15px ${a}30`},children:e})}),g.jsx("h3",{className:"text-xl lg:text-2xl font-display text-white mb-1 drop-shadow-[0_2px_10px_rgba(0,0,0,1)] group-hover:text-transparent group-hover:bg-clip-text transition-all duration-300 tracking-wide",style:{backgroundImage:`linear-gradient(to right, white, ${a})`,WebkitBackgroundClip:"text",backgroundClip:"text"},children:t}),g.jsx(ne.div,{className:"relative overflow-hidden transition-all duration-500 max-h-[80px] group-hover:max-h-[160px] opacity-70 group-hover:opacity-100",children:g.jsx("p",{className:"text-xs font-body text-gray-300 font-light leading-snug line-clamp-3",children:n})}),g.jsxs(ne.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:.3},className:"mt-3 pt-3 border-t border-white/10",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("span",{className:"text-[10px] font-bold uppercase text-gray-500 tracking-wider font-display",children:"Risk Level"}),g.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider font-display",style:{color:a,textShadow:`0 0 10px ${a}80`},children:c===5?"EXTREME":c>=3?"MODERATE":"SAFE"})]}),g.jsx("div",{className:"flex gap-1.5",children:[1,2,3,4,5].map(d=>g.jsx(ne.div,{className:"h-1.5 flex-1 rounded-sm skew-x-[-10deg]",style:{backgroundColor:d<=c?a:"rgba(255,255,255,0.05)",boxShadow:d<=c?`0 0 8px ${a}80`:"none"},initial:{scaleX:0},whileInView:{scaleX:1},transition:{delay:.1*d}},d))})]})]}),g.jsx(ne.div,{className:"absolute inset-0 rounded-2xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{boxShadow:`inset 0 0 0 1px ${a}40, 0 0 20px ${a}20`}})]}),Z8=()=>{const t=N.useRef(null),e=ya(t,{once:!0,margin:"-100px"}),n=[{title:"TRUCKING",tag:"Top Legal Job",description:"Carry cargo, deliver loads, avoid road issues, and complete routes across San Andreas. Smooth, consistent, high-tier income.",icon:"local_shipping",color:"#00f3ff",image:"https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?q=80&w=2070&auto=format&fit=crop",riskLevel:1},{title:"FISHING",tag:"Chill & Profitable",description:"Use bait, catch different fish types, sell at docks, and enjoy RNG bonuses. Relaxing gameplay with solid earning potential.",icon:"set_meal",color:"#60a5fa",image:"https://images.unsplash.com/photo-1524704654690-b56c05c78a00?q=80&w=2069&auto=format&fit=crop",riskLevel:1},{title:"HUNTING",tag:"Active + Rewarding",description:"Track animals, hunt in wilderness zones, collect pelts, and take Hunt Master missions. Rewarding but requires patience.",icon:"crisis_alert",color:"#4ade80",image:"https://images.unsplash.com/photo-1475724017904-b712052c192a?q=80&w=2070&auto=format&fit=crop",riskLevel:2},{title:"TAXI",tag:"Starter Job",description:"Pick up NPC passengers, learn the map, and earn steady fares. Perfect for new players learning the city.",icon:"local_taxi",color:"#facc15",image:"https://images.unsplash.com/photo-1556122071-e404eaedb77f?q=80&w=1934&auto=format&fit=crop",riskLevel:2},{title:"MALL SALES",tag:"Low Risk",description:"Buy items from the mall and sell them to NPCs around the map. Low-risk, low-stress, solid for casual players.",icon:"shopping_bag",color:"#f472b6",image:"https://images.unsplash.com/photo-1567401893414-76b7b1e5a7a5?q=80&w=2070&auto=format&fit=crop",riskLevel:1},{title:"ACCESSORIES",tag:"Side-Hustle",description:"Sell higher-tier accessories like handbags and specialty caps to specific NPCs. Great filler work between major jobs.",icon:"diamond",color:"#c084fc",image:"https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?q=80&w=2070&auto=format&fit=crop",riskLevel:1},{title:"DRUG ECONOMY",tag:"High Risk  High Reward",description:"Farm, process, cut, and sell illegal product. Impacted heavily by police presence. Own the streets or end up in cuffs.",icon:"science",color:"#ef4444",image:"https://images.unsplash.com/photo-1532187863486-abf9dbad1b69?q=80&w=2070&auto=format&fit=crop",riskLevel:5}];return g.jsxs("section",{id:"hustle",ref:t,className:"w-full py-32 bg-[#050002] relative scroll-mt-20 overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] opacity-20"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#050002] via-transparent to-[#050002]"}),g.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-[#ff0033]/5 rounded-full blur-[200px]"}),g.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-purple-500/5 rounded-full blur-[150px]"})]}),g.jsxs("div",{className:"max-w-[1400px] mx-auto px-6 relative z-10",children:[g.jsxs(ne.div,{initial:{opacity:0,y:30},animate:e?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6},className:"text-center max-w-4xl mx-auto mb-20",children:[g.jsxs(ne.span,{initial:{opacity:0,scale:.9},animate:e?{opacity:1,scale:1}:{opacity:0,scale:.9},transition:{delay:.1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ff0033]/10 border border-[#ff0033]/20 text-[#ff0033] text-xs font-bold uppercase tracking-[0.3em] mb-6",children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#ff0033] animate-pulse"}),"Welcome To The City"]}),g.jsxs("h2",{className:"text-4xl md:text-6xl font-display text-white mb-8 tracking-wide",children:["CHOOSE YOUR"," ",g.jsxs("span",{className:"relative inline-block",children:[g.jsx(ne.span,{className:"absolute -inset-2 blur-lg bg-[#ff0033]/30",animate:{opacity:[.3,.6,.3]},transition:{duration:2,repeat:1/0}}),g.jsx("span",{className:"relative z-10",style:{background:"linear-gradient(to right, #ff0033, #ff5e00)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"HUSTLE"})]})]}),g.jsx("p",{className:"text-gray-400 text-lg md:text-xl font-light leading-relaxed max-w-2xl mx-auto",children:"Every job is optional, every path works solo, and every system rewards time and effort in different ways."})]}),g.jsx(ne.div,{initial:"hidden",animate:e?"visible":"hidden",variants:{visible:{transition:{staggerChildren:.1}}},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((s,a)=>g.jsx(J8,{...s,index:a},a))})]})]})};function eB({text:t,duration:e=2,delay:n=0,repeat:s=!0,repeatDelay:a=.5,className:l,startOnView:c=!0,once:h=!1,inViewMargin:d,spread:m=2,color:v,shimmerColor:b}){const x=N.useRef(null),T=ya(x,{once:h,margin:d}),R=N.useMemo(()=>t.length*m,[t,m]),I=!c||T;return g.jsx(ne.span,{ref:x,className:ar("relative inline-block bg-[length:250%_100%,auto] bg-clip-text text-transparent","[--base-color:var(--muted-foreground)] [--shimmer-color:var(--foreground)]","[background-repeat:no-repeat,padding-box]","[--shimmer-bg:linear-gradient(90deg,transparent_calc(50%-var(--spread)),var(--shimmer-color),transparent_calc(50%+var(--spread)))]","dark:[--base-color:var(--muted-foreground)] dark:[--shimmer-color:var(--foreground)]",l),style:{"--spread":`${R}px`,...v&&{"--base-color":v},...b&&{"--shimmer-color":b},backgroundImage:"var(--shimmer-bg), linear-gradient(var(--base-color), var(--base-color))"},initial:{backgroundPosition:"100% center",opacity:0},animate:I?{backgroundPosition:"0% center",opacity:1}:{},transition:{backgroundPosition:{repeat:s?1/0:0,duration:e,delay:n,repeatDelay:a,ease:"linear"},opacity:{duration:.3,delay:n}},children:t})}const Gf={superadmin:{color:"#ff0033",glow:"rgba(255,0,51,0.3)",label:"FOUNDER"},admin:{color:"#a200ff",glow:"rgba(162,0,255,0.3)",label:"ADMIN"},staff:{color:"#00ffea",glow:"rgba(0,255,234,0.25)",label:"STAFF"}},tB=({member:t,index:e,isInView:n,onSelect:s})=>{var l,c,h;const a=Gf[t.role]||Gf.staff;return g.jsx(ne.div,{initial:{opacity:0,y:40,rotateX:15},animate:n?{opacity:1,y:0,rotateX:0}:{opacity:0,y:40,rotateX:15},transition:{delay:.15+e*.1,duration:.6,ease:[.16,1,.3,1]},className:"group relative perspective-[1000px]",onClick:()=>s(t),children:g.jsxs("div",{className:"relative rounded-2xl overflow-hidden cursor-pointer transition-all duration-500 group-hover:scale-[1.03]",style:{boxShadow:`0 0 0 1px rgba(255,255,255,0.05), 0 20px 60px -20px ${a.glow}`},children:[g.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10 pointer-events-none",style:{background:`linear-gradient(135deg, ${a.color}40, transparent 50%, ${a.color}20)`,padding:"1px",mask:"linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)",maskComposite:"exclude"}}),g.jsxs("div",{className:"aspect-[3/4] relative overflow-hidden bg-[#0a0004]",children:[t.profilePicture?g.jsx("img",{src:t.profilePicture,alt:t.displayName,className:"w-full h-full object-cover transition-all duration-700 group-hover:scale-110 group-hover:brightness-110",loading:"lazy"}):g.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#0f0409] via-[#0a0004] to-[#0f0409] flex items-center justify-center",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 rounded-full blur-2xl opacity-30",style:{backgroundColor:a.color}}),g.jsx("span",{className:"material-symbols-outlined text-7xl relative",style:{color:`${a.color}50`},children:"person"})]})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),g.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,0.03) 2px, rgba(255,255,255,0.03) 4px)"}}),g.jsx("div",{className:"absolute top-0 left-0 right-0 h-[2px] opacity-0 group-hover:opacity-80 transition-opacity duration-500",style:{background:`linear-gradient(to right, transparent, ${a.color}, transparent)`}}),g.jsx(ne.div,{className:"absolute bottom-0 left-0 right-0 h-[3px]",style:{background:`linear-gradient(to right, transparent, ${a.color}, transparent)`},initial:{opacity:.4,scaleX:.5},whileInView:{opacity:.8,scaleX:1},transition:{duration:1,delay:.3+e*.1}})]}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5 z-20",children:[g.jsx(ne.div,{initial:{opacity:0,x:-10},animate:n?{opacity:1,x:0}:{},transition:{delay:.4+e*.1},className:"mb-2",children:g.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[9px] uppercase tracking-[0.3em] font-black px-2.5 py-1 rounded-md backdrop-blur-sm",style:{color:a.color,backgroundColor:`${a.color}15`,border:`1px solid ${a.color}25`},children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full animate-pulse",style:{backgroundColor:a.color}}),t.title||a.label]})}),((l=t.subRoles)==null?void 0:l.length)>0&&g.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:t.subRoles.map(d=>g.jsx("span",{className:"text-[8px] uppercase tracking-[0.2em] font-bold px-2 py-0.5 rounded backdrop-blur-sm bg-white/[0.06] text-gray-400 border border-white/[0.08]",children:d},d))}),g.jsx("h3",{className:"text-white font-display text-lg md:text-xl tracking-wide leading-tight",children:t.displayName}),g.jsx(Gn,{children:t.bio&&g.jsx(ne.p,{className:"text-gray-400/80 text-xs mt-2 line-clamp-2 leading-relaxed",initial:{opacity:0,height:0},whileHover:{opacity:1,height:"auto"},children:t.bio})}),(((c=t.socialLinks)==null?void 0:c.discord)||((h=t.socialLinks)==null?void 0:h.twitter))&&g.jsxs("div",{className:"flex gap-3 mt-3 opacity-0 group-hover:opacity-100 transition-all duration-300 translate-y-2 group-hover:translate-y-0",children:[t.socialLinks.discord&&g.jsxs("span",{className:"text-gray-500 hover:text-white text-[10px] tracking-wider transition-colors cursor-pointer flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-xs",children:"chat"}),t.socialLinks.discord]}),t.socialLinks.twitter&&g.jsxs("span",{className:"text-gray-500 hover:text-white text-[10px] tracking-wider transition-colors cursor-pointer flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-xs",children:"alternate_email"}),t.socialLinks.twitter]})]})]})]})})},nB=({member:t,onClose:e})=>{var s,a,l;if(!t)return null;const n=Gf[t.role]||Gf.staff;return g.jsx(Gn,{children:t&&g.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[g.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md"}),g.jsxs(ne.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},transition:{type:"spring",stiffness:300,damping:30},onClick:c=>c.stopPropagation(),className:"relative w-full max-w-md overflow-hidden rounded-2xl border border-white/10 bg-[#0a0004]",children:[g.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-30 p-1.5 rounded-full bg-black/50 backdrop-blur-sm hover:bg-white/10 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-gray-400 text-sm",children:"close"})}),g.jsxs("div",{className:"relative h-72 overflow-hidden",children:[t.profilePicture?g.jsx("img",{src:t.profilePicture,alt:t.displayName,className:"w-full h-full object-cover"}):g.jsx("div",{className:"w-full h-full bg-gradient-to-br from-[#0f0409] to-black flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-8xl",style:{color:`${n.color}30`},children:"person"})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a0004] via-transparent to-transparent"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px]",style:{background:`linear-gradient(to right, transparent, ${n.color}, transparent)`}})]}),g.jsxs("div",{className:"p-6 -mt-10 relative z-10",children:[g.jsxs("span",{className:"inline-flex items-center gap-1.5 text-[9px] uppercase tracking-[0.3em] font-black px-3 py-1.5 rounded-lg mb-3",style:{color:n.color,backgroundColor:`${n.color}15`,border:`1px solid ${n.color}30`},children:[g.jsx("span",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:n.color}}),t.title||n.label]}),((s=t.subRoles)==null?void 0:s.length)>0&&g.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:t.subRoles.map(c=>g.jsx("span",{className:"text-[9px] uppercase tracking-[0.15em] font-bold px-2.5 py-1 rounded-md bg-white/[0.04] text-gray-400 border border-white/[0.08]",children:c},c))}),g.jsx("h2",{className:"text-2xl font-display text-white tracking-wide mb-3",children:t.displayName}),t.bio&&g.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-4",children:t.bio}),(((a=t.socialLinks)==null?void 0:a.discord)||((l=t.socialLinks)==null?void 0:l.twitter))&&g.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-white/5",children:[t.socialLinks.discord&&g.jsxs("span",{className:"flex items-center gap-2 text-gray-500 text-xs px-3 py-1.5 rounded-lg bg-white/[0.03] border border-white/5",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"chat"}),t.socialLinks.discord]}),t.socialLinks.twitter&&g.jsxs("span",{className:"flex items-center gap-2 text-gray-500 text-xs px-3 py-1.5 rounded-lg bg-white/[0.03] border border-white/5",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"alternate_email"}),t.socialLinks.twitter]})]})]})]})]})})},iB=()=>{const[t,e]=N.useState([]),[n,s]=N.useState(!0),[a,l]=N.useState(null),c=N.useRef(null),h=ya(c,{once:!0,margin:"-100px"});return N.useEffect(()=>{(async()=>{try{const v=(await xs(qn(ct,"users"))).docs.map(b=>({id:b.id,...b.data(),order:b.data().order??99,visible:b.data().visible!==!1,subRoles:b.data().subRoles||[]})).filter(b=>b.visible);v.sort((b,x)=>b.order-x.order),e(v)}catch(m){console.error("Failed to fetch staff:",m)}finally{s(!1)}})()},[]),!n&&t.length===0?null:g.jsxs(g.Fragment,{children:[g.jsxs("section",{id:"staff",ref:c,className:"w-full py-32 bg-[#050002] relative overflow-hidden scroll-mt-20",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.5'/%3E%3C/svg%3E")`}}),g.jsx(ne.div,{className:"absolute -top-40 -right-40 w-[700px] h-[700px] rounded-full blur-[200px]",style:{background:"radial-gradient(circle, rgba(162,0,255,0.06) 0%, transparent 70%)"},animate:{x:[0,30,0],y:[0,-20,0]},transition:{duration:20,repeat:1/0,ease:"linear"}}),g.jsx(ne.div,{className:"absolute -bottom-60 -left-40 w-[600px] h-[600px] rounded-full blur-[200px]",style:{background:"radial-gradient(circle, rgba(255,0,51,0.04) 0%, transparent 70%)"},animate:{x:[0,-20,0],y:[0,30,0]},transition:{duration:25,repeat:1/0,ease:"linear"}}),g.jsx("div",{className:"absolute top-0 w-full h-px bg-gradient-to-r from-transparent via-[#a200ff]/20 to-transparent"}),g.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"linear-gradient(rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.05) 1px, transparent 1px)",backgroundSize:"60px 60px"}})]}),g.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10",children:[g.jsxs(ne.div,{initial:{opacity:0,y:30},animate:h?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.7},className:"text-center mb-20",children:[g.jsxs(ne.span,{initial:{opacity:0,scale:.8},animate:h?{opacity:1,scale:1}:{opacity:0,scale:.8},transition:{delay:.1,duration:.5},className:"inline-flex items-center gap-2.5 px-5 py-2.5 rounded-full bg-[#a200ff]/[0.07] border border-[#a200ff]/15 text-gray-400 text-[10px] font-black uppercase tracking-[0.35em] mb-8",children:[g.jsx("span",{className:"w-2 h-2 rounded-full bg-[#a200ff] animate-pulse"}),"The Team"]}),g.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-7xl font-display text-white mb-5 leading-[0.9]",children:["MEET OUR"," ",g.jsx(eB,{text:"STAFF",color:"#a200ff",shimmerColor:"#ff0033",duration:3,className:"font-display"})]}),g.jsx(ne.p,{initial:{opacity:0},animate:h?{opacity:1}:{opacity:0},transition:{delay:.3,duration:.6},className:"text-gray-500 max-w-lg mx-auto text-base md:text-lg font-light",children:"The people keeping the city running and the chaos in check."}),g.jsx(ne.div,{initial:{scaleX:0},animate:h?{scaleX:1}:{scaleX:0},transition:{delay:.5,duration:.8},className:"mx-auto mt-10 h-px w-40 origin-center",style:{background:"linear-gradient(to right, transparent, #a200ff, transparent)"}})]}),n?g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 md:gap-8",children:[...Array(4)].map((d,m)=>g.jsx("div",{className:"aspect-[3/4] rounded-2xl bg-white/[0.03] animate-pulse"},m))}):g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 md:gap-8",children:t.map((d,m)=>g.jsx(tB,{member:d,index:m,isInView:h,onSelect:l},d.id))})]})]}),g.jsx(nB,{member:a,onClose:()=>l(null)})]})},sB=[{id:"1",title:"Community Respect",icon:"handshake",punishment:"Ban",description:"We are a community first. Disrespect, toxicity, hate speech, or harassment will not be tolerated. Treat everyone with basic human decency.",order:1},{id:"2",title:"Microphone Required",icon:"mic",punishment:"Kick / Warn",description:"A working, decent quality microphone is mandatory. English communication required at all times. No mic = No RP.",order:2},{id:"3",title:"Powergaming",icon:"bolt",punishment:"Warn / Ban",description:"Do not force roleplay outcomes on others. No impossible actions (talking while dead, lifting cars, etc.). Give others a chance to react. Do not abuse game mechanics.",order:3},{id:"4",title:"Metagaming",icon:"psychology",punishment:"Ban",description:"Using out-of-character information (Discord, streams, map glitches) in-game is strictly forbidden. Your character only knows what they see and hear in the city.",order:4},{id:"5",title:"New Life Rule (NLR)",icon:"local_hospital",punishment:"Warn / Ban",description:"If you respawn at the hospital, you forget the immediate events leading to your death. You cannot return to the scene for 15 minutes. You cannot seek revenge for that specific incident.",order:5},{id:"6",title:"Safe Zones (Green Zones)",icon:"shield",punishment:"Ban",description:"Violence and criminal activity are prohibited in neutral grounds: Hospitals & Medical Centers, Police Departments, City Hall / Government Buildings.",order:6},{id:"7",title:"Combat Logging",icon:"power_settings_new",punishment:"Ban",description:"Logging out during an active roleplay scene, police chase, or combat to avoid consequences is an instant ban.",order:7},{id:"8",title:"Deathmatching (RDM/VDM)",icon:"person_cancel",punishment:"1-Week Ban",description:"You must have valid RP initiation before harming another player. No shooting without conversation or buildup. No vehicle attacks without reason. No harming someone without an in-character motive.",order:8}],rB=()=>{const[t,e]=N.useState(null),[n,s]=N.useState(!1),[a,l]=N.useState(sB),c=N.useRef(null),h=ya(c,{once:!0,margin:"-100px"});N.useEffect(()=>{(async()=>{try{const v=ym(qn(ct,"rules"),vm("order","asc")),b=await xs(v);b.size>0&&l(b.docs.map(x=>({id:x.id,...x.data()})))}catch(v){console.error("Failed to fetch rules from Firestore, using fallback:",v)}})()},[]);const d=n?a:a.slice(0,4);return g.jsxs("section",{id:"rules",ref:c,className:"w-full py-32 bg-[#080205] relative overflow-hidden scroll-mt-20",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-linen.png')] opacity-20"}),g.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-[#ff0033]/5 rounded-full blur-[200px]"})]}),g.jsxs("div",{className:"max-w-[1024px] mx-auto px-6 relative z-10",children:[g.jsxs(ne.div,{initial:{opacity:0,y:30},animate:h?{opacity:1,y:0}:{opacity:0,y:30},transition:{duration:.6},className:"text-center mb-16",children:[g.jsxs(ne.span,{initial:{opacity:0,scale:.9},animate:h?{opacity:1,scale:1}:{opacity:0,scale:.9},transition:{delay:.1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ff0033]/10 border border-[#ff0033]/20 text-gray-400 text-xs font-bold uppercase tracking-[0.3em] mb-6",children:[g.jsx("span",{className:"material-symbols-outlined text-sm text-[#ff0033]",children:"gavel"}),"Code of Conduct"]}),g.jsxs("h2",{className:"text-4xl md:text-5xl font-display text-white mb-6",children:["SERVER"," ",g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #a200ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"RULES"})]}),g.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto text-lg font-light",children:"Ignorance of the law excuses no one. Read them."})]}),g.jsx(ne.div,{layout:!0,className:"flex flex-col gap-3",children:g.jsx(Gn,{mode:"popLayout",children:d.map((m,v)=>g.jsxs(ne.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:`group rounded-xl border border-l-4 transition-all duration-300 overflow-hidden ${t===m.id?"bg-[#0f0409] border-white/10 border-l-[#ff0033] shadow-[0_4px_30px_rgba(255,0,51,0.1)]":"bg-[#0a0004] border-white/5 border-l-gray-800 hover:bg-[#0f0409] hover:border-l-[#ff0033]/50"}`,children:[g.jsxs(ne.button,{onClick:()=>e(t===m.id?null:m.id),className:"w-full p-5 flex items-center justify-between text-left",whileHover:{x:4},transition:{duration:.2},children:[g.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[g.jsx("span",{className:`text-xl md:text-2xl font-display w-12 text-center transition-colors ${t===m.id?"text-[#ff0033]":"text-gray-600 group-hover:text-gray-400"}`,children:String(v+1).padStart(2,"0")}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(ne.div,{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${t===m.id?"bg-[#ff0033]/20 text-[#ff0033]":"bg-white/5 text-gray-500 group-hover:bg-white/10 group-hover:text-gray-300"}`,whileHover:{scale:1.1},children:g.jsx("span",{className:"material-symbols-outlined text-xl",children:m.icon})}),g.jsx("h3",{className:`text-base md:text-lg font-bold uppercase tracking-wide transition-colors font-display ${t===m.id?"text-white":"text-gray-400 group-hover:text-gray-200"}`,children:m.title})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:`hidden md:flex items-center gap-2 px-3 py-1 bg-black/40 border border-white/5 transition-opacity skew-x-[-10deg] ${t===m.id?"opacity-100":"opacity-50"}`,children:g.jsx("span",{className:"text-[10px] font-bold uppercase text-red-400 font-display skew-x-[10deg]",children:m.punishment})}),g.jsx(ne.span,{animate:{rotate:t===m.id?180:0},transition:{duration:.3},className:`material-symbols-outlined text-gray-500 ${t===m.id?"text-[#ff0033]":""}`,children:"expand_more"})]})]}),g.jsx(Gn,{initial:!1,children:t===m.id&&g.jsx(ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:g.jsxs("div",{className:"px-5 pb-8 pl-[20px] md:pl-[108px] md:pr-12 border-t border-white/5 pt-6",children:[g.jsx("div",{className:"md:hidden mb-4 inline-block",children:g.jsxs("span",{className:"text-[10px] font-bold text-red-400 uppercase tracking-widest border border-red-500/20 px-2 py-1 bg-red-500/5 font-display",children:["Penalty: ",m.punishment]})}),g.jsx("p",{className:"text-gray-300",children:m.description})]})})})]},m.id))})}),g.jsx(ne.div,{initial:{opacity:0,y:20},animate:h?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.4},className:"mt-12 flex justify-center",children:g.jsxs(ne.button,{onClick:()=>s(!n),whileHover:{scale:1.02},whileTap:{scale:.98},className:"group relative px-10 py-3 bg-transparent border border-white/10 hover:border-[#ff0033]/50 transition-all duration-300 flex items-center gap-3 backdrop-blur-sm rounded-xl",children:[g.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl"}),g.jsx("span",{className:"font-bold uppercase tracking-[0.2em] text-xs text-gray-400 group-hover:text-white transition-colors font-display",children:n?"Show Less Rules":"Show All Rules"}),g.jsx(ne.span,{animate:{rotate:n?180:0},className:"material-symbols-outlined text-gray-400 group-hover:text-[#ff0033] transition-colors",children:"expand_more"})]})})]})]})},aB=()=>{const[t,e]=N.useState(!1),n=N.useRef(null),s=ya(n,{once:!0,margin:"-100px"}),a=()=>{navigator.clipboard.writeText("cfx.re/join/emvjbd"),e(!0),setTimeout(()=>e(!1),2e3)};return g.jsxs("section",{ref:n,className:"w-full py-32 bg-[#0a0206] relative overflow-hidden flex flex-col items-center justify-center",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(255,0,51,0.08),transparent_70%)]"}),g.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"}),g.jsx(ne.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] border border-white/5 rounded-full",animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"}}),g.jsx(ne.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] border border-[#ff0033]/10 rounded-full",animate:{rotate:-360},transition:{duration:40,repeat:1/0,ease:"linear"}}),g.jsx(ne.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] border border-white/5 rounded-full",animate:{rotate:360},transition:{duration:25,repeat:1/0,ease:"linear"}})]}),g.jsx("div",{className:"relative z-10 max-w-5xl mx-auto px-6 w-full",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[g.jsxs(ne.div,{initial:{opacity:0,x:-50},animate:s?{opacity:1,x:0}:{opacity:0,x:-50},transition:{duration:.8},className:"text-left space-y-8",children:[g.jsxs("div",{children:[g.jsxs(ne.span,{initial:{opacity:0,scale:.9},animate:s?{opacity:1,scale:1}:{opacity:0,scale:.9},transition:{delay:.2},className:"inline-flex items-center gap-2 py-1.5 px-4 rounded-full bg-[#ff0033]/10 border border-[#ff0033]/20 text-[#ff0033] text-xs font-bold uppercase tracking-widest mb-4",children:[g.jsx(ne.span,{className:"w-2 h-2 rounded-full bg-green-500",animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0}}),"Live Status: Online"]}),g.jsxs(ne.h2,{initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.3},className:"text-5xl md:text-7xl font-display text-white leading-none",children:["READY TO ",g.jsx("br",{}),g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #a200ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"ENTER HELL?"})]})]}),g.jsx(ne.p,{initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.4},className:"text-gray-400 text-lg font-light leading-relaxed max-w-md",children:"No applications. No waiting weeks for an interview. The gates are open, but survival is up to you. Connect now and carve your path in the chaos."}),g.jsx(ne.div,{initial:{opacity:0,y:20},animate:s?{opacity:1,y:0}:{opacity:0,y:20},transition:{delay:.5},className:"grid grid-cols-2 gap-4",children:[{icon:"rocket_launch",title:"Instant Connect",desc:"Jump straight into the action.",color:"text-cyan-400"},{icon:"groups",title:"Active Community",desc:"Always someone to RP with.",color:"text-[#ff0033]"}].map((l,c)=>g.jsxs(ne.div,{whileHover:{scale:1.02,y:-2},className:"bg-white/5 p-4 rounded-xl border border-white/5 hover:border-[#ff0033]/30 flex flex-col gap-2 transition-colors",children:[g.jsx("span",{className:`material-symbols-outlined ${l.color} text-2xl`,children:l.icon}),g.jsx("span",{className:"text-sm font-bold text-gray-200",children:l.title}),g.jsx("span",{className:"text-xs text-gray-500",children:l.desc})]},c))})]}),g.jsxs(ne.div,{initial:{opacity:0,x:50},animate:s?{opacity:1,x:0}:{opacity:0,x:50},transition:{duration:.8,delay:.2},className:"relative",children:[g.jsx(ne.div,{className:"absolute -inset-4 bg-gradient-to-r from-[#ff0033]/20 to-purple-500/20 rounded-3xl blur-2xl",animate:{opacity:[.3,.6,.3]},transition:{duration:4,repeat:1/0}}),g.jsxs("div",{className:"relative bg-[#0a0004] border border-white/10 rounded-2xl p-8 shadow-2xl backdrop-blur-xl overflow-hidden",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-white/5 pb-4",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx(ne.div,{className:"w-3 h-3 rounded-full bg-red-500/80",whileHover:{scale:1.2}}),g.jsx(ne.div,{className:"w-3 h-3 rounded-full bg-yellow-500/80",whileHover:{scale:1.2}}),g.jsx(ne.div,{className:"w-3 h-3 rounded-full bg-green-500/80",whileHover:{scale:1.2}})]}),g.jsx("span",{className:"text-xs font-mono text-gray-500 uppercase tracking-widest",children:"Connection Terminal"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx(ne.a,{href:"fivem://connect/cfx.re/join/emvjbd",className:"block group",whileHover:{scale:1.01},whileTap:{scale:.99},children:g.jsx(qu,{variant:"primary",size:"lg",className:"w-full !text-lg !py-8 shadow-[0_0_30px_rgba(255,0,51,0.3)] group-hover:shadow-[0_0_50px_rgba(255,0,51,0.5)] transition-shadow",children:g.jsxs("span",{className:"flex items-center justify-center gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-2xl",children:"play_arrow"}),"LAUNCH FIVEM"]})})}),g.jsxs("div",{className:"relative group",children:[g.jsx("label",{className:"text-[10px] font-bold uppercase text-gray-500 mb-1 block pl-1",children:"Direct Connect IP"}),g.jsxs(ne.div,{onClick:a,whileHover:{scale:1.01},whileTap:{scale:.99},className:"flex items-center justify-between bg-black/50 border border-white/10 rounded-xl p-4 cursor-pointer hover:border-[#ff0033]/30 transition-colors",children:[g.jsx("code",{className:"font-mono text-cyan-400 text-lg",children:"cfx.re/join/emvjbd"}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(ne.span,{initial:{opacity:0,x:10},animate:{opacity:t?1:0,x:t?0:10},className:"text-xs font-bold uppercase text-green-400",children:"Copied!"}),g.jsx(ne.span,{animate:{scale:t?0:1},className:"material-symbols-outlined text-gray-400",children:"content_copy"})]})]})]}),g.jsx("div",{className:"text-center pt-2",children:g.jsxs(ne.a,{href:"https://discord.gg/bozorp",target:"_blank",rel:"noopener noreferrer",whileHover:{y:-2},className:"inline-flex items-center gap-2 text-xs text-gray-500 hover:text-white transition-colors",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"help"}),"Need help connecting? Join Discord"]})})]}),g.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 border-t border-r border-[#ff0033]/30"}),g.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 border-b border-l border-[#ff0033]/30"})]})]})]})})]})},oB=()=>{const t=new Date().getFullYear(),e=[{label:"Home",href:"#"},{label:"About",href:"#about"},{label:"Gallery",href:"#gallery"},{label:"Rules",href:"#rules"}],n=[{label:"YouTube",href:"https://www.youtube.com/@bozorp",icon:g.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})}),hoverColor:"hover:text-red-500"},{label:"Discord",href:"https://discord.gg/bozorp",icon:g.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.419-2.1568 2.419z"})}),hoverColor:"hover:text-indigo-400"},{label:"TikTok",href:"https://www.tiktok.com/@bozorp1",icon:g.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:g.jsx("path",{d:"M19.59 6.69a4.83 4.83 0 0 1-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 0 1-5.2 1.74 2.89 2.89 0 0 1 2.31-4.64 2.93 2.93 0 0 1 .88.13V9.4a6.84 6.84 0 0 0-1-.05A6.33 6.33 0 0 0 5 20.1a6.34 6.34 0 0 0 10.86-4.43v-7a8.16 8.16 0 0 0 4.77 1.52v-3.4a4.85 4.85 0 0 1-1-.1z"})}),hoverColor:"hover:text-cyan-400"}];return g.jsxs("footer",{className:"w-full bg-[#030001] border-t border-white/5 py-12 relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-linen.png')] opacity-10 pointer-events-none"}),g.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-8 mb-8",children:[g.jsxs(ne.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},className:"flex items-center gap-3",children:[g.jsx("span",{className:"material-symbols-outlined text-[#ff0033] text-3xl",children:"sentiment_very_dissatisfied"}),g.jsxs("span",{className:"text-2xl font-bold text-white uppercase tracking-tight font-display",children:["Bozo",g.jsx("span",{className:"text-[#ff0033]",children:"RP"})]})]}),g.jsx("nav",{className:"flex flex-wrap justify-center gap-6",children:e.map(s=>g.jsx("a",{href:s.href,className:"text-gray-400 hover:text-white transition-colors text-sm uppercase tracking-wider",children:s.label},s.label))}),g.jsx("div",{className:"flex gap-4",children:n.map(s=>g.jsx("a",{href:s.href,target:"_blank",rel:"noopener noreferrer",className:`text-gray-500 ${s.hoverColor} transition-colors`,"aria-label":s.label,children:s.icon},s.label))})]}),g.jsx("div",{className:"h-px w-full bg-gradient-to-r from-transparent via-white/10 to-transparent mb-6"}),g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-gray-600",children:[g.jsxs("span",{children:[" ",t," BozoRP. All rights reserved."]}),g.jsx("a",{href:"http://vexelstudios.xyz",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"Built by Vexel Studios"})]})]})]})},lB=()=>{const[t,e]=N.useState(!1),[n,s]=N.useState(""),[a,l]=N.useState(""),[c,h]=N.useState(""),[d,m]=N.useState(""),[v,b]=N.useState(!1),{login:x,signup:T,loginWithGoogle:R}=Gl(),I=Yf(),k=async $=>{$.preventDefault(),m(""),b(!0);try{if(t){if(!c.trim()){m("Display name is required."),b(!1);return}await T(n,a,c.trim())}else await x(n,a);I("/admin")}catch(K){m(K.message||(t?"Sign up failed":"Login failed"))}finally{b(!1)}},M=async()=>{m(""),b(!0);try{await R(),I("/admin")}catch($){m($.message||"Google login failed")}finally{b(!1)}},z=()=>{e($=>!$),m("")},V="w-full bg-[#0f0409] border border-white/10 rounded-xl px-10 py-3 text-white placeholder-gray-600 outline-none focus:border-[#ff0033]/50 focus:ring-1 focus:ring-[#ff0033]/20 transition-all text-sm";return g.jsxs("div",{className:"min-h-screen bg-[#050002] flex items-center justify-center relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-[#ff0033]/8 rounded-full blur-[200px]"}),g.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[500px] h-[500px] bg-[#a200ff]/8 rounded-full blur-[200px]"}),g.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] opacity-20"})]}),g.jsxs(ne.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6},className:"relative z-10 w-full max-w-md mx-4",children:[g.jsxs("div",{className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl shadow-black/50",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx(ne.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-[#ff0033] to-[#a200ff] flex items-center justify-center shadow-lg shadow-[#ff0033]/20",children:g.jsx("span",{className:"material-symbols-outlined text-3xl text-white",children:t?"person_add":"admin_panel_settings"})}),g.jsx("h1",{className:"text-2xl font-display text-white tracking-wider",children:t?"CREATE ACCOUNT":"ADMIN PANEL"}),g.jsx("p",{className:"text-gray-500 text-sm mt-1",children:t?"Sign up for staff access":"Staff access only"})]}),g.jsx(Gn,{children:d&&g.jsx(ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-sm",children:d})}),g.jsxs("form",{onSubmit:k,className:"space-y-4",children:[g.jsx(Gn,{children:t&&g.jsxs(ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-1 overflow-hidden",children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"Display Name"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-600 text-lg",children:"badge"}),g.jsx("input",{type:"text",value:c,onChange:$=>h($.target.value),className:V,placeholder:"Your name",required:t})]})]})}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"Email"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-600 text-lg",children:"mail"}),g.jsx("input",{type:"email",value:n,onChange:$=>s($.target.value),className:V,placeholder:"you@example.com",required:!0})]})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-600 text-lg",children:"lock"}),g.jsx("input",{type:"password",value:a,onChange:$=>l($.target.value),className:V,placeholder:t?"Min 6 characters":"",required:!0,minLength:t?6:void 0})]})]}),g.jsx(ne.button,{type:"submit",disabled:v,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl bg-gradient-to-r from-[#ff0033] to-[#cc0029] text-white font-display tracking-wider text-sm hover:shadow-lg hover:shadow-[#ff0033]/20 transition-shadow disabled:opacity-50 disabled:cursor-not-allowed",children:v?g.jsxs("span",{className:"flex items-center justify-center gap-2",children:[g.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),t?"CREATING ACCOUNT...":"SIGNING IN..."]}):t?"SIGN UP":"SIGN IN"})]}),g.jsx("div",{className:"text-center mt-5",children:g.jsx("button",{type:"button",onClick:z,className:"text-gray-500 text-xs hover:text-gray-300 transition-colors tracking-wider",children:t?g.jsxs(g.Fragment,{children:["Already have an account? ",g.jsx("span",{className:"text-[#ff0033] font-bold",children:"SIGN IN"})]}):g.jsxs(g.Fragment,{children:["Don't have an account? ",g.jsx("span",{className:"text-[#a200ff] font-bold",children:"SIGN UP"})]})})}),g.jsxs("div",{className:"flex items-center gap-4 my-6",children:[g.jsx("div",{className:"flex-1 h-px bg-white/10"}),g.jsx("span",{className:"text-gray-600 text-xs uppercase tracking-widest",children:"or"}),g.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),g.jsxs(ne.button,{onClick:M,disabled:v,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl bg-white/5 border border-white/10 text-gray-300 font-medium text-sm flex items-center justify-center gap-3 hover:bg-white/10 hover:border-white/20 transition-all disabled:opacity-50",children:[g.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]}),g.jsx("p",{className:"text-center text-gray-700 text-xs mt-6 tracking-wider",children:"BOZORP STAFF PORTAL"})]})]})},cB=[{to:"/admin",icon:"dashboard",label:"Dashboard",end:!0},{to:"/admin/gallery",icon:"photo_library",label:"Gallery"},{to:"/admin/rules",icon:"gavel",label:"Rules"},{to:"/admin/staff",icon:"group",label:"Staff"},{to:"/admin/profile",icon:"person",label:"Profile"}],uB=()=>{const{userProfile:t,logout:e}=Gl(),n=Yf(),[s,a]=N.useState(!1),l=async()=>{await e(),n("/admin/login")},c=g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"p-6 border-b border-white/5",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-[#ff0033] to-[#a200ff] flex items-center justify-center shadow-lg shadow-[#ff0033]/10",children:g.jsx("span",{className:"material-symbols-outlined text-xl text-white",children:"admin_panel_settings"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-white font-display text-sm tracking-wider",children:"BOZORP"}),g.jsx("p",{className:"text-gray-600 text-[10px] tracking-widest uppercase",children:"Admin Panel"})]})]})}),g.jsx("nav",{className:"flex-1 p-4 space-y-1",children:cB.map(h=>g.jsxs(rS,{to:h.to,end:h.end,onClick:()=>a(!1),className:({isActive:d})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 group ${d?"bg-[#ff0033]/10 text-[#ff0033] border border-[#ff0033]/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[g.jsx("span",{className:"material-symbols-outlined text-xl",children:h.icon}),g.jsx("span",{className:"tracking-wide",children:h.label})]},h.to))}),g.jsxs("div",{className:"p-4 border-t border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-3 px-2",children:[t!=null&&t.profilePicture?g.jsx("img",{src:t.profilePicture,alt:"",className:"w-9 h-9 rounded-full object-cover border border-white/10"}):g.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-[#ff0033]/30 to-[#a200ff]/30 flex items-center justify-center border border-white/10",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-gray-400",children:"person"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-white text-sm font-medium truncate",children:(t==null?void 0:t.displayName)||"Staff"}),g.jsx("p",{className:"text-gray-600 text-[10px] uppercase tracking-widest",children:(t==null?void 0:t.role)||"member"})]})]}),g.jsxs("button",{onClick:l,className:"w-full flex items-center gap-2 px-4 py-2 rounded-xl text-gray-600 hover:text-red-400 hover:bg-red-500/5 transition-all text-xs tracking-wider uppercase",children:[g.jsx("span",{className:"material-symbols-outlined text-base",children:"logout"}),"Sign Out"]})]})]});return g.jsxs("div",{className:"min-h-screen bg-[#050002] flex",children:[g.jsx("aside",{className:"hidden lg:flex flex-col w-64 bg-[#0a0004]/80 backdrop-blur-xl border-r border-white/5 fixed h-full z-30",children:c}),g.jsxs("div",{className:"lg:hidden fixed top-0 left-0 right-0 h-14 bg-[#0a0004]/90 backdrop-blur-xl border-b border-white/5 z-40 flex items-center px-4 gap-3",children:[g.jsx("button",{onClick:()=>a(!s),className:"p-2 rounded-lg hover:bg-white/5 text-gray-400",children:g.jsx("span",{className:"material-symbols-outlined",children:s?"close":"menu"})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-7 h-7 rounded-lg bg-gradient-to-br from-[#ff0033] to-[#a200ff] flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-white",children:"admin_panel_settings"})}),g.jsx("span",{className:"text-white font-display text-xs tracking-wider",children:"BOZORP ADMIN"})]})]}),g.jsx(Gn,{children:s&&g.jsxs(g.Fragment,{children:[g.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40"}),g.jsx(ne.aside,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:"lg:hidden fixed left-0 top-0 bottom-0 w-64 bg-[#0a0004] border-r border-white/5 z-50 flex flex-col",children:c})]})}),g.jsx("main",{className:"flex-1 lg:ml-64 pt-14 lg:pt-0",children:g.jsx("div",{className:"p-6 lg:p-8 max-w-6xl mx-auto",children:g.jsx(M3,{})})})]})},hB=()=>{const{userProfile:t}=Gl(),[e,n]=N.useState({gallery:0,rules:0,staff:0}),[s,a]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const[d,m,v]=await Promise.all([xs(qn(ct,"gallery")),xs(qn(ct,"rules")),xs(qn(ct,"users"))]);n({gallery:d.size,rules:m.size,staff:v.size})}catch(d){console.error("Failed to fetch stats:",d)}finally{a(!1)}})()},[]);const l=[{label:"Gallery Items",value:e.gallery,icon:"photo_library",color:"#ff0033"},{label:"Server Rules",value:e.rules,icon:"gavel",color:"#a200ff"},{label:"Staff Members",value:e.staff,icon:"group",color:"#00ffea"}],c=[{label:"Manage Gallery",icon:"photo_library",to:"/admin/gallery",desc:"Upload & organize media"},{label:"Edit Rules",icon:"gavel",to:"/admin/rules",desc:"Add, edit, reorder rules"},{label:"Manage Staff",icon:"group",to:"/admin/staff",desc:"Staff roles & profiles"},{label:"My Profile",icon:"person",to:"/admin/profile",desc:"Edit your profile"}];return g.jsxs("div",{className:"space-y-8",children:[g.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[g.jsxs("h1",{className:"text-3xl lg:text-4xl font-display text-white tracking-wider",children:["Welcome back,"," ",g.jsx("span",{style:{background:"linear-gradient(to right, #ff0033, #a200ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:(t==null?void 0:t.displayName)||"Admin"})]}),g.jsx("p",{className:"text-gray-500 mt-2",children:"Here's what's happening with your site."})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:l.map((h,d)=>g.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/5 rounded-2xl p-6 group hover:border-white/10 transition-all",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:`${h.color}15`},children:g.jsx("span",{className:"material-symbols-outlined text-xl",style:{color:h.color},children:h.icon})})}),g.jsx("div",{className:"text-3xl font-display text-white mb-1",children:s?g.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-lg animate-pulse"}):h.value}),g.jsx("p",{className:"text-gray-600 text-xs uppercase tracking-widest",children:h.label})]},h.label))}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-white font-display tracking-wider text-sm mb-4 uppercase",children:"Quick Actions"}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.map((h,d)=>g.jsxs(ne.a,{href:h.to,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2+d*.05},className:"flex items-center gap-4 p-4 rounded-xl bg-[#0a0004]/60 border border-white/5 hover:border-[#ff0033]/30 hover:bg-[#0f0409] transition-all group",children:[g.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center group-hover:bg-[#ff0033]/10 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-gray-500 group-hover:text-[#ff0033] transition-colors",children:h.icon})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white text-sm font-medium",children:h.label}),g.jsx("p",{className:"text-gray-600 text-xs",children:h.desc})]}),g.jsx("span",{className:"material-symbols-outlined text-gray-700 ml-auto group-hover:text-[#ff0033] transition-colors",children:"arrow_forward"})]},h.to))})]})]})},dB="Z45ZqbFMiEkKfh4ePi9lSNUg99dC3aCQ",fB="https://api.fivemanage.com/api/image";async function Xv(t){const e=new FormData;e.append("file",t);const n=await fetch(fB,{method:"POST",headers:{Authorization:dB},body:e});if(!n.ok){const a=await n.text();throw new Error(`FiveManage upload failed: ${n.status} - ${a}`)}const s=await n.json();return{url:s.url,id:s.id||s.url}}const mB=()=>{const[t,e]=N.useState([]),[n,s]=N.useState(!0),[a,l]=N.useState(!1),[c,h]=N.useState(null),[d,m]=N.useState(!1),[v,b]=N.useState(""),[x,T]=N.useState(""),[R,I]=N.useState("image"),[k,M]=N.useState(""),z=N.useRef(null),V=async()=>{try{const A=ym(qn(ct,"gallery"),vm("order","asc")),O=await xs(A);e(O.docs.map(P=>({id:P.id,...P.data()})))}catch(A){console.error("Failed to fetch gallery:",A)}finally{s(!1)}};N.useEffect(()=>{V()},[]);const $=()=>{b(""),T(""),I("image"),M(""),h(null),l(!1)},K=A=>{b(A.title),T(A.category),I(A.type),M(A.src),h(A),l(!0)},Y=async A=>{var P;const O=(P=A.target.files)==null?void 0:P[0];if(O){m(!0);try{const H=await Xv(O);M(H.url)}catch(H){alert("Upload failed: "+H.message)}finally{m(!1)}}},D=async A=>{A.preventDefault();try{c?await ro(Tn(ct,"gallery",c.id),{title:v,category:x,type:R,src:k}):await hv(qn(ct,"gallery"),{title:v,category:x,type:R,src:k,order:t.length+1,createdAt:j2()}),$(),s(!0),await V()}catch(O){console.error("Save failed:",O)}},S=async A=>{if(confirm("Delete this gallery item?"))try{await Mf(Tn(ct,"gallery",A)),e(O=>O.filter(P=>P.id!==A))}catch(O){console.error("Delete failed:",O)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-display text-white tracking-wider",children:"GALLERY MANAGER"}),g.jsxs("p",{className:"text-gray-600 text-sm",children:[t.length," items"]})]}),g.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{$(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-[#ff0033] to-[#cc0029] text-white font-medium text-sm hover:shadow-lg hover:shadow-[#ff0033]/20 transition-shadow",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),"Add Item"]})]}),g.jsx(Gn,{children:a&&g.jsx(ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:g.jsxs("div",{className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[g.jsx("h3",{className:"text-white font-display tracking-wider text-sm mb-4",children:c?"EDIT ITEM":"NEW GALLERY ITEM"}),g.jsxs("form",{onSubmit:D,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Title"}),g.jsx("input",{value:v,onChange:A=>b(A.target.value),className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Category"}),g.jsx("input",{value:x,onChange:A=>T(A.target.value),className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors",required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Type"}),g.jsx("div",{className:"flex gap-3",children:["image","video"].map(A=>g.jsx("button",{type:"button",onClick:()=>I(A),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${R===A?"bg-[#ff0033]/20 text-[#ff0033] border border-[#ff0033]/30":"bg-white/5 text-gray-500 border border-white/5 hover:bg-white/10"}`,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Image/Video"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[g.jsx("input",{value:k,onChange:A=>M(A.target.value),placeholder:"URL or upload below",className:"flex-1 bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors"}),g.jsxs("label",{className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border border-white/10 text-sm cursor-pointer hover:bg-white/5 transition-colors ${d?"opacity-50 pointer-events-none":"text-gray-400"}`,children:[g.jsx("span",{className:"material-symbols-outlined text-base",children:"upload"}),d?"Uploading...":"Upload",g.jsx("input",{ref:z,type:"file",accept:"image/*,video/*",onChange:Y,className:"hidden"})]})]}),k&&g.jsx("div",{className:"mt-3 w-32 h-32 rounded-xl overflow-hidden border border-white/10",children:g.jsx("img",{src:k,alt:"Preview",className:"w-full h-full object-cover"})})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx(ne.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-[#ff0033] to-[#cc0029] text-white text-sm font-medium",children:c?"Save Changes":"Add Item"}),g.jsx("button",{type:"button",onClick:$,className:"px-6 py-2.5 rounded-xl border border-white/10 text-gray-500 text-sm hover:bg-white/5 transition-colors",children:"Cancel"})]})]})]})})}),n?g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(6)].map((A,O)=>g.jsx("div",{className:"aspect-[4/5] rounded-xl bg-white/5 animate-pulse"},O))}):t.length===0?g.jsxs("div",{className:"text-center py-20",children:[g.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-700 mb-4 block",children:"photo_library"}),g.jsx("p",{className:"text-gray-600 text-sm",children:"No gallery items yet. Add your first one!"})]}):g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map((A,O)=>g.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:O*.05},className:"group relative rounded-xl overflow-hidden border border-white/5 hover:border-[#ff0033]/30 transition-all",children:[g.jsx("div",{className:"aspect-[4/5]",children:g.jsx("img",{src:A.src,alt:A.title,className:"w-full h-full object-cover"})}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[g.jsx("p",{className:"text-white text-sm font-medium",children:A.title}),g.jsx("p",{className:"text-gray-400 text-xs",children:A.category}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:()=>K(A),className:"p-1.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-white",children:"edit"})}),g.jsx("button",{onClick:()=>S(A.id),className:"p-1.5 rounded-lg bg-red-500/20 hover:bg-red-500/40 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-red-400",children:"delete"})})]})]})}),A.type==="video"&&g.jsx("div",{className:"absolute top-2 right-2 p-1 rounded-md bg-black/50 backdrop-blur",children:g.jsx("span",{className:"material-symbols-outlined text-xs text-white",children:"videocam"})})]},A.id))})]})},pB=["handshake","mic","bolt","psychology","local_hospital","shield","power_settings_new","person_cancel","gavel","warning","block","visibility_off","groups","lock","security","report","do_not_disturb","speed"],gB=()=>{const[t,e]=N.useState([]),[n,s]=N.useState(!0),[a,l]=N.useState(!1),[c,h]=N.useState(null),[d,m]=N.useState(""),[v,b]=N.useState("gavel"),[x,T]=N.useState(""),[R,I]=N.useState(""),k=async()=>{try{const Y=ym(qn(ct,"rules"),vm("order","asc")),D=await xs(Y);e(D.docs.map(S=>({id:S.id,...S.data()})))}catch(Y){console.error("Failed to fetch rules:",Y)}finally{s(!1)}};N.useEffect(()=>{k()},[]);const M=()=>{m(""),b("gavel"),T(""),I(""),h(null),l(!1)},z=Y=>{m(Y.title),b(Y.icon),T(Y.punishment),I(Y.description),h(Y),l(!0)},V=async Y=>{Y.preventDefault();try{c?await ro(Tn(ct,"rules",c.id),{title:d,icon:v,punishment:x,description:R}):await hv(qn(ct,"rules"),{title:d,icon:v,punishment:x,description:R,order:t.length+1,createdAt:j2()}),M(),s(!0),await k()}catch(D){console.error("Save failed:",D)}},$=async Y=>{if(confirm("Delete this rule?"))try{await Mf(Tn(ct,"rules",Y)),e(D=>D.filter(S=>S.id!==Y))}catch(D){console.error("Delete failed:",D)}},K=async(Y,D)=>{if(D==="up"&&Y===0||D==="down"&&Y===t.length-1)return;const S=D==="up"?Y-1:Y+1,A=[...t];[A[Y],A[S]]=[A[S],A[Y]],e(A);try{await ro(Tn(ct,"rules",A[Y].id),{order:Y+1}),await ro(Tn(ct,"rules",A[S].id),{order:S+1})}catch(O){console.error("Reorder failed:",O)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-display text-white tracking-wider",children:"RULES MANAGER"}),g.jsxs("p",{className:"text-gray-600 text-sm",children:[t.length," rules"]})]}),g.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{M(),l(!0)},className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-[#ff0033] to-[#cc0029] text-white font-medium text-sm hover:shadow-lg hover:shadow-[#ff0033]/20 transition-shadow",children:[g.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),"Add Rule"]})]}),g.jsx(Gn,{children:a&&g.jsx(ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:g.jsxs("div",{className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[g.jsx("h3",{className:"text-white font-display tracking-wider text-sm mb-4",children:c?"EDIT RULE":"NEW RULE"}),g.jsxs("form",{onSubmit:V,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Title"}),g.jsx("input",{value:d,onChange:Y=>m(Y.target.value),className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors",required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Punishment"}),g.jsx("input",{value:x,onChange:Y=>T(Y.target.value),placeholder:"e.g. Ban, Warn / Ban",className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors",required:!0})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-2",children:"Icon"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:pB.map(Y=>g.jsx("button",{type:"button",onClick:()=>b(Y),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${v===Y?"bg-[#ff0033]/20 text-[#ff0033] border border-[#ff0033]/30":"bg-white/5 text-gray-500 border border-white/5 hover:bg-white/10"}`,children:g.jsx("span",{className:"material-symbols-outlined text-lg",children:Y})},Y))})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Description"}),g.jsx("textarea",{value:R,onChange:Y=>I(Y.target.value),rows:4,className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors resize-none",required:!0})]}),g.jsxs("div",{className:"flex gap-3 pt-2",children:[g.jsx(ne.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-[#ff0033] to-[#cc0029] text-white text-sm font-medium",children:c?"Save Changes":"Add Rule"}),g.jsx("button",{type:"button",onClick:M,className:"px-6 py-2.5 rounded-xl border border-white/10 text-gray-500 text-sm hover:bg-white/5 transition-colors",children:"Cancel"})]})]})]})})}),n?g.jsx("div",{className:"space-y-3",children:[...Array(4)].map((Y,D)=>g.jsx("div",{className:"h-16 rounded-xl bg-white/5 animate-pulse"},D))}):t.length===0?g.jsxs("div",{className:"text-center py-20",children:[g.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-700 mb-4 block",children:"gavel"}),g.jsx("p",{className:"text-gray-600 text-sm",children:"No rules yet. Add your first one!"})]}):g.jsx("div",{className:"space-y-2",children:t.map((Y,D)=>g.jsxs(ne.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:D*.03},className:"flex items-center gap-4 p-4 rounded-xl bg-[#0a0004]/60 border border-white/5 hover:border-white/10 transition-all group",children:[g.jsxs("div",{className:"flex flex-col gap-0.5",children:[g.jsx("button",{onClick:()=>K(D,"up"),disabled:D===0,className:"text-gray-700 hover:text-white disabled:opacity-20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"keyboard_arrow_up"})}),g.jsx("button",{onClick:()=>K(D,"down"),disabled:D===t.length-1,className:"text-gray-700 hover:text-white disabled:opacity-20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm",children:"keyboard_arrow_down"})})]}),g.jsx("span",{className:"text-lg font-display text-gray-700 w-8 text-center",children:String(D+1).padStart(2,"0")}),g.jsx("div",{className:"w-9 h-9 rounded-lg bg-white/5 flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-lg text-gray-500",children:Y.icon})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-white text-sm font-medium truncate",children:Y.title}),g.jsx("p",{className:"text-gray-600 text-xs truncate",children:Y.description})]}),g.jsx("span",{className:"hidden sm:inline text-[10px] uppercase tracking-widest text-red-400 bg-red-500/10 border border-red-500/20 px-2 py-1 rounded",children:Y.punishment}),g.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>z(Y),className:"p-1.5 rounded-lg hover:bg-white/10 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-gray-400",children:"edit"})}),g.jsx("button",{onClick:()=>$(Y.id),className:"p-1.5 rounded-lg hover:bg-red-500/20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-red-400",children:"delete"})})]})]},Y.id))})]})},Wa={superadmin:"#ff0033",admin:"#a200ff",staff:"#00ffea"},yB={superadmin:"Super Admin",admin:"Admin",staff:"Staff"},xi="w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-3 text-white text-sm outline-none focus:border-[#a200ff]/50 transition-colors placeholder:text-gray-700",Ui="block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2",ly=({open:t,onClose:e,title:n,children:s})=>g.jsx(Gn,{children:t&&g.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e,children:[g.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),g.jsxs(ne.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",stiffness:300,damping:30},onClick:a=>a.stopPropagation(),className:"relative w-full max-w-lg max-h-[85vh] overflow-y-auto bg-[#0a0004] border border-white/10 rounded-2xl p-6 shadow-2xl",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-lg font-display text-white uppercase tracking-wider",children:n}),g.jsx("button",{onClick:e,className:"p-1 rounded-lg hover:bg-white/5 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-gray-500",children:"close"})})]}),s]})]})}),LT=({positions:t,selected:e,onChange:n})=>{const s=a=>{n(e.includes(a)?e.filter(l=>l!==a):[...e,a])};return g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Sub-Roles"}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.length===0&&g.jsx("p",{className:"text-gray-700 text-xs",children:"No positions created yet."}),t.map(a=>{const l=e.includes(a.name);return g.jsx("button",{type:"button",onClick:()=>s(a.name),className:`px-3 py-1.5 rounded-lg text-xs font-bold border transition-all ${l?"bg-[#a200ff]/20 text-[#a200ff] border-[#a200ff]/40":"bg-white/[0.03] text-gray-500 border-white/5 hover:border-white/10"}`,children:a.name},a.id)})]})]})},vB=()=>{const{userProfile:t}=Gl(),[e,n]=N.useState([]),[s,a]=N.useState([]),[l,c]=N.useState(!0),[h,d]=N.useState(!1),[m,v]=N.useState(null),[b,x]=N.useState(!1),[T,R]=N.useState(""),[I,k]=N.useState(!1),[M,z]=N.useState(!1),[V,$]=N.useState({displayName:"",role:"staff",title:"",subRoles:[]}),[K,Y]=N.useState({displayName:"",role:"staff",title:"",subRoles:[],bio:"",profilePicture:"",discord:"",twitter:"",visible:!0}),D=async()=>{try{const X=(await xs(qn(ct,"users"))).docs.map(le=>({id:le.id,...le.data(),order:le.data().order??99,visible:le.data().visible!==!1,subRoles:le.data().subRoles||[]}));X.sort((le,_e)=>le.order-_e.order),n(X)}catch(L){console.error("Failed to fetch staff:",L)}finally{c(!1)}},S=async()=>{try{const L=await xs(qn(ct,"positions"));a(L.docs.map(X=>({id:X.id,name:X.data().name})))}catch(L){console.error("Failed to fetch positions:",L)}};N.useEffect(()=>{D(),S()},[]);const A=(t==null?void 0:t.role)==="superadmin",O=async L=>{L.preventDefault(),k(!0);try{const X=Tn(qn(ct,"users"));await P2(X,{email:"",displayName:V.displayName,role:V.role,title:V.title,subRoles:V.subRoles,bio:"",profilePicture:"",socialLinks:{},order:e.length,visible:!0,createdAt:new Date().toISOString()}),d(!1),$({displayName:"",role:"staff",title:"",subRoles:[]}),await D()}catch(X){alert(X.message||"Failed to add staff member."),console.error("Add staff failed:",X)}finally{k(!1)}},P=L=>{var X,le;v(L),Y({displayName:L.displayName||"",role:L.role,title:L.title||"",subRoles:L.subRoles||[],bio:L.bio||"",profilePicture:L.profilePicture||"",discord:((X=L.socialLinks)==null?void 0:X.discord)||"",twitter:((le=L.socialLinks)==null?void 0:le.twitter)||"",visible:L.visible!==!1})},H=async L=>{if(L.preventDefault(),!!m){k(!0);try{await ro(Tn(ct,"users",m.id),{displayName:K.displayName,role:K.role,title:K.title,subRoles:K.subRoles,bio:K.bio,profilePicture:K.profilePicture,socialLinks:{discord:K.discord||"",twitter:K.twitter||""},visible:K.visible}),v(null),await D()}catch(X){alert(X.message||"Failed to update staff member.")}finally{k(!1)}}},U=async L=>{try{k(!0);const X=await Xv(L);Y(le=>({...le,profilePicture:X.url}))}catch(X){console.error("Upload failed:",X),alert("Image upload failed.")}finally{k(!1)}},ke=async L=>{try{const X=!L.visible;await ro(Tn(ct,"users",L.id),{visible:X}),n(le=>le.map(_e=>_e.id===L.id?{..._e,visible:X}:_e))}catch(X){console.error("Toggle visibility failed:",X)}},Ve=async L=>{if(L.role==="superadmin"){alert("Cannot remove the superadmin.");return}if(confirm(`Remove ${L.displayName||"this member"} from staff?`))try{await Mf(Tn(ct,"users",L.id)),n(X=>X.filter(le=>le.id!==L.id))}catch(X){console.error("Remove failed:",X)}},ee=L=>{n(L),z(!0)},ue=async()=>{k(!0);try{const L=MO(ct);e.forEach((X,le)=>L.update(Tn(ct,"users",X.id),{order:le})),await L.commit(),z(!1)}catch(L){console.error("Reorder failed:",L)}finally{k(!1)}},[re,Ee]=N.useState(!1),Ie=async()=>{if(T.trim()){Ee(!0);try{await hv(qn(ct,"positions"),{name:T.trim()}),R(""),await S()}catch(L){console.error("Add position failed:",L),alert(`Failed to add position: ${L.message||L}. Make sure the Firestore rules for the "positions" collection are deployed.`)}finally{Ee(!1)}}},F=async L=>{if(confirm("Delete this position?"))try{await Mf(Tn(ct,"positions",L)),await S()}catch(X){console.error("Remove position failed:",X),alert(`Failed to remove position: ${X.message||X}`)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-display text-white tracking-wider",children:"STAFF MANAGER"}),g.jsxs("p",{className:"text-gray-600 text-sm",children:[e.length," members  ",e.filter(L=>L.visible).length," visible"]})]}),g.jsxs("div",{className:"flex gap-2 flex-wrap",children:[M&&g.jsxs(ne.button,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},onClick:ue,disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-green-500/20 text-green-400 border border-green-500/30 rounded-xl hover:bg-green-500/30 transition-all text-sm font-bold disabled:opacity-50",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"save"}),"Save Order"]}),A&&g.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/[0.03] text-gray-400 border border-white/10 rounded-xl hover:bg-white/[0.06] transition-all text-sm font-bold",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"badge"}),"Positions"]}),A&&g.jsxs(ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#a200ff]/20 text-[#a200ff] border border-[#a200ff]/30 rounded-xl hover:bg-[#a200ff]/30 transition-all text-sm font-bold",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"person_add"}),"Add Staff"]})]})]}),A&&e.length>1&&g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-white/[0.02] border border-white/5 text-gray-600 text-xs",children:[g.jsx("span",{className:"material-symbols-outlined text-sm",children:"drag_indicator"}),"Drag to reorder. Click the eye icon to toggle front-page visibility."]}),l?g.jsx("div",{className:"space-y-3",children:[...Array(3)].map((L,X)=>g.jsx("div",{className:"h-20 rounded-xl bg-white/5 animate-pulse"},X))}):e.length===0?g.jsxs("div",{className:"text-center py-20",children:[g.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-700 mb-4 block",children:"group"}),g.jsx("p",{className:"text-gray-600 text-sm",children:"No staff members found."}),A&&g.jsx("button",{onClick:()=>d(!0),className:"mt-4 text-[#a200ff] text-sm hover:underline",children:"Add your first staff member"})]}):g.jsx(IU,{axis:"y",values:e,onReorder:ee,className:"space-y-3",children:e.map(L=>{var X;return g.jsxs(UU,{value:L,dragListener:A,className:`flex items-center gap-4 p-4 rounded-xl border transition-all group cursor-grab active:cursor-grabbing ${L.visible?"bg-[#0a0004]/60 border-white/5 hover:border-white/10":"bg-[#0a0004]/30 border-white/[0.03] opacity-50"}`,children:[A&&g.jsx("span",{className:"material-symbols-outlined text-gray-700 group-hover:text-gray-500 transition-colors text-sm",children:"drag_indicator"}),L.profilePicture?g.jsx("img",{src:L.profilePicture,alt:"",className:"w-12 h-12 rounded-full object-cover border-2",style:{borderColor:Wa[L.role]||"#333"}}):g.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center border-2",style:{borderColor:Wa[L.role]||"#333",backgroundColor:`${Wa[L.role]||"#333"}15`},children:g.jsx("span",{className:"material-symbols-outlined text-xl",style:{color:Wa[L.role]},children:"person"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-white font-medium truncate",children:L.displayName||"No Name"}),g.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[L.title&&g.jsx("span",{className:"text-gray-500 text-xs",children:L.title}),((X=L.subRoles)==null?void 0:X.length)>0&&g.jsx("div",{className:"flex gap-1 flex-wrap",children:L.subRoles.map(le=>g.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded bg-white/[0.04] text-gray-600 border border-white/5",children:le},le))})]})]}),g.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold px-3 py-1 rounded-lg border whitespace-nowrap",style:{color:Wa[L.role],backgroundColor:`${Wa[L.role]}15`,borderColor:`${Wa[L.role]}30`},children:yB[L.role]||L.role}),g.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[g.jsx("button",{onClick:()=>ke(L),className:"p-1.5 rounded-lg hover:bg-white/10 transition-all",title:L.visible?"Hide from front page":"Show on front page",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-gray-400",children:L.visible?"visibility":"visibility_off"})}),g.jsx("button",{onClick:()=>P(L),className:"p-1.5 rounded-lg hover:bg-white/10 transition-all",title:"Edit",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-gray-400",children:"edit"})}),A&&L.role!=="superadmin"&&g.jsx("button",{onClick:()=>Ve(L),className:"p-1.5 rounded-lg hover:bg-red-500/20 transition-all",title:"Remove",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-red-400",children:"person_remove"})})]})]},L.id)})}),g.jsx(ly,{open:h,onClose:()=>d(!1),title:"Add Staff Member",children:g.jsxs("form",{onSubmit:O,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Display Name"}),g.jsx("input",{type:"text",required:!0,value:V.displayName,onChange:L=>$(X=>({...X,displayName:L.target.value})),className:xi,placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Title / Position"}),g.jsxs("select",{value:V.title,onChange:L=>$(X=>({...X,title:L.target.value})),className:xi,children:[g.jsx("option",{value:"",children:"Select a position..."}),s.map(L=>g.jsx("option",{value:L.name,children:L.name},L.id))]}),g.jsx("p",{className:"text-gray-700 text-[10px] mt-1",children:"Or type a custom title below"}),g.jsx("input",{type:"text",value:V.title,onChange:L=>$(X=>({...X,title:L.target.value})),className:`${xi} mt-1`,placeholder:"Custom title..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Main Role"}),g.jsxs("select",{value:V.role,onChange:L=>$(X=>({...X,role:L.target.value})),className:xi,children:[g.jsx("option",{value:"staff",children:"Staff"}),g.jsx("option",{value:"admin",children:"Admin"})]})]}),g.jsx(LT,{positions:s,selected:V.subRoles,onChange:L=>$(X=>({...X,subRoles:L}))}),g.jsx("button",{type:"submit",disabled:I,className:"w-full py-3 bg-[#a200ff] text-white font-bold rounded-xl hover:bg-[#a200ff]/80 transition-colors disabled:opacity-50 mt-2",children:I?"Creating...":"Add Staff Member"})]})}),g.jsx(ly,{open:!!m,onClose:()=>v(null),title:`Edit ${(m==null?void 0:m.displayName)||"Staff"}`,children:g.jsxs("form",{onSubmit:H,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Display Name"}),g.jsx("input",{type:"text",required:!0,value:K.displayName,onChange:L=>Y(X=>({...X,displayName:L.target.value})),className:xi})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Title / Position"}),g.jsxs("select",{value:K.title,onChange:L=>Y(X=>({...X,title:L.target.value})),className:xi,children:[g.jsx("option",{value:"",children:"Select a position..."}),s.map(L=>g.jsx("option",{value:L.name,children:L.name},L.id))]}),g.jsx("input",{type:"text",value:K.title,onChange:L=>Y(X=>({...X,title:L.target.value})),className:`${xi} mt-1`,placeholder:"Or type a custom title..."})]}),A&&(m==null?void 0:m.role)!=="superadmin"&&g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Main Role"}),g.jsxs("select",{value:K.role,onChange:L=>Y(X=>({...X,role:L.target.value})),className:xi,children:[g.jsx("option",{value:"staff",children:"Staff"}),g.jsx("option",{value:"admin",children:"Admin"}),g.jsx("option",{value:"superadmin",children:"Super Admin"})]})]}),g.jsx(LT,{positions:s,selected:K.subRoles,onChange:L=>Y(X=>({...X,subRoles:L}))}),g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Bio"}),g.jsx("textarea",{value:K.bio,onChange:L=>Y(X=>({...X,bio:L.target.value})),className:`${xi} resize-none h-24`,placeholder:"Short bio..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Profile Picture"}),g.jsxs("div",{className:"flex items-center gap-4",children:[K.profilePicture?g.jsx("img",{src:K.profilePicture,alt:"",className:"w-16 h-16 rounded-full object-cover border border-white/10"}):g.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center border border-white/10",children:g.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-700",children:"person"})}),g.jsx("input",{type:"file",accept:"image/*",onChange:L=>{var le;const X=(le=L.target.files)==null?void 0:le[0];X&&U(X)},className:"text-xs text-gray-500 file:mr-3 file:py-1.5 file:px-3 file:rounded-lg file:border-0 file:text-xs file:font-bold file:bg-white/5 file:text-gray-400 hover:file:bg-white/10 cursor-pointer"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Discord"}),g.jsx("input",{type:"text",value:K.discord,onChange:L=>Y(X=>({...X,discord:L.target.value})),className:xi,placeholder:"username"})]}),g.jsxs("div",{children:[g.jsx("label",{className:Ui,children:"Twitter"}),g.jsx("input",{type:"text",value:K.twitter,onChange:L=>Y(X=>({...X,twitter:L.target.value})),className:xi,placeholder:"@handle"})]})]}),g.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/[0.02] border border-white/5",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-white text-sm font-medium",children:"Front Page Visibility"}),g.jsx("p",{className:"text-gray-600 text-xs",children:"Show this member on the public site"})]}),g.jsx("button",{type:"button",onClick:()=>Y(L=>({...L,visible:!L.visible})),className:`relative w-12 h-7 rounded-full transition-colors ${K.visible?"bg-[#a200ff]":"bg-white/10"}`,children:g.jsx("div",{className:`absolute top-1 w-5 h-5 rounded-full bg-white transition-transform ${K.visible?"left-6":"left-1"}`})})]}),g.jsx("button",{type:"submit",disabled:I,className:"w-full py-3 bg-[#a200ff] text-white font-bold rounded-xl hover:bg-[#a200ff]/80 transition-colors disabled:opacity-50 mt-2",children:I?"Saving...":"Save Changes"})]})}),g.jsxs(ly,{open:b,onClose:()=>x(!1),title:"Manage Positions",children:[g.jsx("p",{className:"text-gray-500 text-xs mb-4",children:"Create custom positions that can be assigned as titles or sub-roles to staff members."}),g.jsxs("div",{className:"flex gap-2 mb-4",children:[g.jsx("input",{type:"text",value:T,onChange:L=>R(L.target.value),onKeyDown:L=>{L.key==="Enter"&&(L.preventDefault(),Ie())},className:xi,placeholder:"e.g. Community Manager"}),g.jsx("button",{onClick:Ie,className:"px-4 py-2 bg-[#a200ff] text-white rounded-xl text-sm font-bold hover:bg-[#a200ff]/80 transition-colors whitespace-nowrap",children:"Add"})]}),g.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[s.length===0&&g.jsx("p",{className:"text-gray-700 text-xs text-center py-4",children:"No positions created yet."}),s.map(L=>g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 rounded-xl bg-white/[0.02] border border-white/5",children:[g.jsx("span",{className:"text-white text-sm",children:L.name}),g.jsx("button",{onClick:()=>F(L.id),className:"p-1 rounded hover:bg-red-500/20 transition-colors",children:g.jsx("span",{className:"material-symbols-outlined text-sm text-red-400",children:"delete"})})]},L.id))]})]})]})},bB=()=>{var D,S;const{user:t,userProfile:e}=Gl(),[n,s]=N.useState((e==null?void 0:e.displayName)||""),[a,l]=N.useState((e==null?void 0:e.title)||""),[c,h]=N.useState((e==null?void 0:e.bio)||""),[d,m]=N.useState((e==null?void 0:e.profilePicture)||""),[v,b]=N.useState(((D=e==null?void 0:e.socialLinks)==null?void 0:D.discord)||""),[x,T]=N.useState(((S=e==null?void 0:e.socialLinks)==null?void 0:S.twitter)||""),[R,I]=N.useState(!1),[k,M]=N.useState(!1),[z,V]=N.useState(!1),$=N.useRef(null),K=async A=>{var P;const O=(P=A.target.files)==null?void 0:P[0];if(O){M(!0);try{const H=await Xv(O);m(H.url)}catch(H){alert("Upload failed: "+H.message)}finally{M(!1)}}},Y=async A=>{if(A.preventDefault(),!!t){I(!0);try{await ro(Tn(ct,"users",t.uid),{displayName:n,title:a,bio:c,profilePicture:d,socialLinks:{discord:v,twitter:x}}),V(!0),setTimeout(()=>V(!1),3e3)}catch(O){console.error("Save failed:",O),alert("Save failed")}finally{I(!1)}}};return g.jsxs("div",{className:"max-w-2xl space-y-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-display text-white tracking-wider",children:"PROFILE SETTINGS"}),g.jsx("p",{className:"text-gray-600 text-sm",children:"Customize how you appear on the website"})]}),g.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[g.jsxs("div",{className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[g.jsx("h3",{className:"text-white font-display tracking-wider text-xs uppercase mb-4",children:"Profile Picture"}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("div",{className:"relative group",children:[d?g.jsx("img",{src:d,alt:"",className:"w-24 h-24 rounded-2xl object-cover border-2 border-white/10"}):g.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-[#ff0033]/20 to-[#a200ff]/20 flex items-center justify-center border-2 border-white/10",children:g.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-600",children:"person"})}),g.jsx("button",{type:"button",onClick:()=>{var A;return(A=$.current)==null?void 0:A.click()},className:"absolute inset-0 rounded-2xl bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:g.jsx("span",{className:"material-symbols-outlined text-white",children:k?"hourglass_empty":"photo_camera"})}),g.jsx("input",{ref:$,type:"file",accept:"image/*",onChange:K,className:"hidden"})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-gray-400 text-sm",children:"Click to upload a profile picture"}),g.jsx("p",{className:"text-gray-700 text-xs mt-1",children:"Hosted on FiveManage  JPG, PNG, WebP"})]})]})]}),g.jsxs("div",{className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6 space-y-4",children:[g.jsx("h3",{className:"text-white font-display tracking-wider text-xs uppercase mb-2",children:"Basic Info"}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Display Name"}),g.jsx("input",{value:n,onChange:A=>s(A.target.value),className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Title / Position"}),g.jsx("input",{value:a,onChange:A=>l(A.target.value),placeholder:"e.g. Head Admin, Moderator",className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Bio"}),g.jsx("textarea",{value:c,onChange:A=>h(A.target.value),rows:3,placeholder:"A short bio about yourself...",className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors resize-none"})]})]}),g.jsxs("div",{className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6 space-y-4",children:[g.jsx("h3",{className:"text-white font-display tracking-wider text-xs uppercase mb-2",children:"Social Links"}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Discord"}),g.jsx("input",{value:v,onChange:A=>b(A.target.value),placeholder:"username#0000",className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-xs text-gray-500 uppercase tracking-widest font-bold block mb-1",children:"Twitter / X"}),g.jsx("input",{value:x,onChange:A=>T(A.target.value),placeholder:"@username",className:"w-full bg-[#0f0409] border border-white/10 rounded-xl px-4 py-2.5 text-white text-sm outline-none focus:border-[#ff0033]/50 transition-colors"})]})]}),g.jsxs("div",{className:"bg-[#0a0004]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-6",children:[g.jsx("h3",{className:"text-white font-display tracking-wider text-xs uppercase mb-4",children:"Preview"}),g.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-[#0f0409] border border-white/5",children:[d?g.jsx("img",{src:d,alt:"",className:"w-14 h-14 rounded-full object-cover border-2 border-[#ff0033]/30"}):g.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-[#ff0033]/20 to-[#a200ff]/20 flex items-center justify-center border-2 border-white/10",children:g.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-500",children:"person"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-medium",children:n||"Your Name"}),g.jsx("p",{className:"text-[#ff0033] text-xs uppercase tracking-widest",children:a||"Staff"}),c&&g.jsx("p",{className:"text-gray-500 text-xs mt-1 max-w-xs",children:c})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(ne.button,{type:"submit",disabled:R,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-3 rounded-xl bg-gradient-to-r from-[#ff0033] to-[#cc0029] text-white font-display tracking-wider text-sm hover:shadow-lg hover:shadow-[#ff0033]/20 transition-shadow disabled:opacity-50",children:R?"SAVING...":"SAVE CHANGES"}),z&&g.jsxs(ne.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-green-400 text-sm flex items-center gap-1",children:[g.jsx("span",{className:"material-symbols-outlined text-base",children:"check_circle"}),"Saved!"]})]})]})]})},xB=({children:t})=>{const{user:e,userProfile:n,loading:s}=Gl();return s?g.jsx("div",{className:"min-h-screen bg-[#050002] flex items-center justify-center",children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 border-2 border-[#ff0033] border-t-transparent rounded-full animate-spin"}),g.jsx("span",{className:"text-gray-400 text-sm tracking-widest uppercase",children:"Authenticating..."})]})}):!e||!n?g.jsx(j3,{to:"/admin/login",replace:!0}):g.jsx(g.Fragment,{children:t})},_B=()=>g.jsxs("div",{className:"min-h-screen bg-background-dark",children:[g.jsx(zU,{}),g.jsxs("main",{children:[g.jsx(qU,{}),g.jsx(YU,{}),g.jsx($U,{}),g.jsx(JU,{}),g.jsx(Q8,{}),g.jsx(Z8,{}),g.jsx(iB,{}),g.jsx(rB,{}),g.jsx(aB,{})]}),g.jsx(oB,{})]}),wB=()=>g.jsx(aD,{basename:"/bozorp",children:g.jsx(UO,{children:g.jsxs(O3,{children:[g.jsx(qs,{path:"/",element:g.jsx(_B,{})}),g.jsx(qs,{path:"/admin/login",element:g.jsx(lB,{})}),g.jsxs(qs,{path:"/admin",element:g.jsx(xB,{children:g.jsx(uB,{})}),children:[g.jsx(qs,{index:!0,element:g.jsx(hB,{})}),g.jsx(qs,{path:"gallery",element:g.jsx(mB,{})}),g.jsx(qs,{path:"rules",element:g.jsx(gB,{})}),g.jsx(qs,{path:"staff",element:g.jsx(vB,{})}),g.jsx(qs,{path:"profile",element:g.jsx(bB,{})})]})]})})}),YC=document.getElementById("root");if(!YC)throw new Error("Could not find root element to mount to");const EB=VI.createRoot(YC);EB.render(g.jsx(zT.StrictMode,{children:g.jsx(wB,{})}));
